<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>糖果AIGC实验室-LUA - AIGC</title><meta name="author" content="糖果AIGC实验室 备案:辽ICP备16003836号-5"><meta name="copyright" content="糖果AIGC实验室 备案:辽ICP备16003836号-5"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="AIGC">
<meta property="og:type" content="website">
<meta property="og:title" content="糖果AIGC实验室-LUA">
<meta property="og:url" content="https://secbooks.cn/page/16/index.html">
<meta property="og:site_name" content="糖果AIGC实验室-LUA">
<meta property="og:description" content="AIGC">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:author" content="糖果AIGC实验室 备案:辽ICP备16003836号-5">
<meta property="article:tag" content="AIGC,LLM,糖果AIGC实验室">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://secbooks.cn/page/16/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?14cc93bf3f08d31c458639d309dde522";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();



</script><script>(function () {
  var meta = document.createElement('meta');
  meta.content = 'no-referrer';
  meta.name = 'referrer';
  document.getElementsByTagName('head')[0].appendChild(meta);
})();</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"OCGZTJTHCQ","apiKey":"4dede33603574dcaed0e9d4641849158","indexName":"jianpan.vip","hits":{"per_page":6},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '糖果AIGC实验室-LUA',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-03-18 15:10:42'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.2"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">629</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">179</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">94</div></a></div><hr/></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="糖果AIGC实验室-LUA"><span class="site-name">糖果AIGC实验室-LUA</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/lua_guide/iterators/" title="Lua迭代器"><img class="post-bg" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Lua迭代器"></a></div><div class="recent-post-info"><a class="article-title" href="/lua_guide/iterators/" title="Lua迭代器">Lua迭代器</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-14T07:45:09.087Z" title="发表于 2024-03-14 15:45:09">2024-03-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/lua-guide/">lua_guide</a></span></div><div class="content"> Lua 迭代器
迭代器是用于遍历集合或容器中元素的一种结构。在 Lua 语言中，集合往往指的是可以用来创建各种数据结构的表。比如，数组就是用表来创建的。
 通用迭代器
通用迭代器可以访问集合中的键值对。下面是通用迭代器的一个简单例子：
array &#x3D; &#123;&quot;Lua&quot;, &quot;Tutorial&quot;&#125;

for key,value in ipairs(array) 
do
   print(key, value)
end
&#96;&#96;&#96;  

执行的上面的代码，我们可以得到如下的输出结果：  

1  Lua
2  Tutorial

上面的例子中使用了 Lua 提供的默认迭代器函数 ipairs。 
 
在 Lua 语言中，我们使用函数表示迭代器。根据是否在迭代器函数中是否维护状态信息，我们将迭代器分为以下两类：  

&lt;ul&gt;
	&lt;li&gt;无状态迭代器&lt;&#x2F;li&gt;  
	&lt;li&gt;有状态迭代器&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/lua_guide/for/" title="Lua中的for循环"><img class="post-bg" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Lua中的for循环"></a></div><div class="recent-post-info"><a class="article-title" href="/lua_guide/for/" title="Lua中的for循环">Lua中的for循环</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-14T07:45:09.087Z" title="发表于 2024-03-14 15:45:09">2024-03-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/lua-guide/">lua_guide</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/lua-guide/lua%E6%95%99%E7%A8%8B/">lua教程</a></span></div><div class="content">#Lua 中的 for 循环
for 循环控制结构可以让你高效地写出需要执行特定次数的循环代码。
##语法
Lua 语言中 for 循环的语法如下：
for init,max&#x2F;min value, increment
do
   statement(s)
end
下面是 for 循环执行的流程：

	init 首先执行并且只执行一次。在这一步骤中，你需要声明并初始化循环控制变量。
	
	接下来，max/min 是循环结束的条件。程序中将 init 与 最大值或最小值进行比较，条件为真则继续执行循环，否则结束循环。
	
	循环体执行后，程序跳转至递增或递减语句( increment/descrement )。此语句中，我们可以更新我们的控制变量。
	
	再次检查条件。如果条件为真，则执行循环并重复过程（执行循环体，递增运算，再检查条件）。当条件为假时，结束循环。
	

##流程图

##示例
for i&#x3D;10,1,-1 
do 
   print(i) 
end
执行上面的代码后，将得到如下的输出结果：
10
9
8
7
6
5
4
3
2
1
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/lua_guide/metatables/" title="无题"><img class="post-bg" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"></a></div><div class="recent-post-info"><a class="article-title" href="/lua_guide/metatables/" title="无题">无题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-14T07:45:09.086Z" title="发表于 2024-03-14 15:45:09">2024-03-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/lua-guide/">lua_guide</a></span></div><div class="content"> Lua 元表
正如其名，元表也是表。不过，将元表与表相关联后，我们就可以通过设置元表的键和相关方法来改变表的行为。元方法的功能十分强大，使用元方法可以实现很多的功能，比如：

	修改表的操作符功能或为操作符添加新功能（译注：如果您学过 C++ 之类的面向对象的语言，应该比较好理解，其实它实现的是操作的重载）。
	使用元表中的 __index 方法，我们可以实现在表中查找键不存在时转而在元表中查找键值的功能。
  
Lua 提供了两个十分重要的用来处理元表的方法，如下：

	setmetatable(table,metatable):此方法用于为一个表设置元表。
	getmetatable(table)：此方法用于获取表的元表对象。
  
首先，让我们看一下如何将一个表设置为另一个表的元表。示例如下：
mytable &#x3D; &#123;&#125;
mymetatable &#x3D; &#123;&#125;
setmetatable(mytable,mymetatable)
&#96;&#96;&#96;  

上面的代码可以简写成如下的一行代码：  

mytable = ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/lua_guide/tables/" title="Lua表"><img class="post-bg" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Lua表"></a></div><div class="recent-post-info"><a class="article-title" href="/lua_guide/tables/" title="Lua表">Lua表</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-14T07:45:09.086Z" title="发表于 2024-03-14 15:45:09">2024-03-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/lua-guide/">lua_guide</a></span></div><div class="content"> Lua 表
在 Lua 语言中，表是唯一可以用来创建不同数据类型的数据结构，比如常见的数组和字典都是用表来创建的。 Lua 语言中经常到关联数组这种数据类型，它不仅可以用数值作为索引值，除了 nil 以外的字符串同样可以作为其索引。表没有固定的大小，当数据量增加时表会自动增大。
Lua 语言中的各种结构表示都用到了表，包括包（package）的表示。当我们使用方法 string.format 时，我们用到的其实是包 string 中的方法 format。
 使用表
表被称之为对象，它既不是值也不是变量。Lua 用构造表达式 {} 创建一个空表。需要注意的是，在存储表的变量和表本身之间没有什么固定的对应关系（译注：一个表可以被不同的变量引用，一个变量也可以随时改变其所引用的表对象）。
--简单的表初始化
mytable &#x3D; &#123;&#125;

--简单的表赋值
mytable[1]&#x3D; &quot;Lua&quot;

--移除引用
mytable &#x3D; nil
-- lua 的垃圾回收机制负责回收内存空间
&#96;&#96;&#96;  

当我们 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/lua/luatest/Table%E5%A4%8D%E5%88%B6/" title="Table复制"><img class="post-bg" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Table复制"></a></div><div class="recent-post-info"><a class="article-title" href="/lua/luatest/Table%E5%A4%8D%E5%88%B6/" title="Table复制">Table复制</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-14T07:45:09.086Z" title="发表于 2024-03-14 15:45:09">2024-03-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Lua/">Lua</a></span></div><div class="content"> Table复制
构造一个lua table变量，然后对这个变量在调用函数进行制和专递。
可以使用以下代码构造一个Lua table变量，并调用函数进行传递：
-- 构造一个Lua table变量
local myTable = &#123;
    name = "John",
    age = 25,
    occupation = "Engineer"
&#125;

-- 定义一个函数，接受一个table参数并打印其内容
function printTable(table)
    print("Name:", table.name)
    print("Age:", table.age)
    print("Occupation:", table.occupation)
end

-- 调用函数并传递myTable作为参数
printTable(myTable)
运行以上代码，输出结果如下：
Name: John
Age: 25
Occupation: Engineer
创建声明一个大的Lua的table型变量的数组
可以使用以下方法创建一个大的Lua table型变 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/lua_guide/syntax/" title="Lua基本语法"><img class="post-bg" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Lua基本语法"></a></div><div class="recent-post-info"><a class="article-title" href="/lua_guide/syntax/" title="Lua基本语法">Lua基本语法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-14T07:45:09.085Z" title="发表于 2024-03-14 15:45:09">2024-03-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/lua-guide/">lua_guide</a></span></div><div class="content"> 基本语法
Lua 学起来非常简单。现在，让我们开始创建我们的第一个 Lua 程序吧！
 第一个 Lua 程序
Lua 提供交互式编程模式。在这个模式下，你可以一条一条地输入命令，然后立即就可以得到结果。你可以在 shell 中使用 lua -i 或者 lua 命令启动。输入命令后，按下回车键，就启动了交互模式，显示如下：
$ lua -i 
$ Lua 5.1.4  Copyright (C) 1994-2008 Lua.org, PUC-Rio
quit to end; cd, dir and edit also available
&#96;&#96;&#96;  

你可以使用如下命令打印输出：  

$&gt; print(“test”)

按下回车键后，你会得到如下输出结果：  

‘test’

## 默认模式编辑  

使用 Lua 文件做为解释器的参数启动解释器,然后开始执行文件直到文件结束。当脚本执行结束后，解释器就不在活跃了。 
 
让我们写一个简单的 Lua 程序。所有的 Lua　文件都扩展名都是&#96;.lua&#96;。因此，将下面的源代码放到 test. ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/lua_guide/handling/" title="Lua错误处理"><img class="post-bg" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Lua错误处理"></a></div><div class="recent-post-info"><a class="article-title" href="/lua_guide/handling/" title="Lua错误处理">Lua错误处理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-14T07:45:09.085Z" title="发表于 2024-03-14 15:45:09">2024-03-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/lua-guide/">lua_guide</a></span></div><div class="content"> Lua 错误处理
 为什么需要错误处理机制
在真实的系统中程序往往非常复杂，它们经常涉及到文件操作、数据库事务操作或网络服务调用等，这个时候错误处理就显得非常重要。不关注错误处理可能在处理诸如涉密或金融交易这些业务时造成重大的损失。
无论什么时候，程序开发都要求小心地做好错误处理工作。在 Lua 中错误可以被分为两类：

	语法错误
	运行时错误

 语法错误
语法错误是由于不正确的使用各种程序语法造成的，比如错误的使用操作符或表达式。下面即是一个语法错误的例子：
a &#x3D;&#x3D; 2
&#96;&#96;&#96;  

正如你知道的那样，单个等号与双等号是完全不一样的。二者之间随意的替换就导致语法错误。一个等号表示的是赋值，而双等号表示比较。类似地，下面这一小段代码中也存在语法错误：  

for a= 1,10
print(a)
end

执行上面的这段程序，我们会得到如下的输出结果：  

lua: test2.lua:2: ‘do’ expected near ‘print’

语法错误相比于运行时错误更容易处理，因为 Lua 解释器可以更精确的定位到语法错误的 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/lua_guide/statement/" title="Lua中的 if...else 语句"><img class="post-bg" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Lua中的 if...else 语句"></a></div><div class="recent-post-info"><a class="article-title" href="/lua_guide/statement/" title="Lua中的 if...else 语句">Lua中的 if...else 语句</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-14T07:45:09.085Z" title="发表于 2024-03-14 15:45:09">2024-03-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/lua-guide/">lua_guide</a></span></div><div class="content"> Lua 中的 if…else 语句
如果 if 语句后面跟上 else 语句，那么条件为假时就执行 else 语句的代码。
 语法
Lua 语言中 if…else 语句的语法如下所示：
if(boolean_expression)
then
   --[ 如何条件为真，则执行此处代码。 --]
else
   --[ 如何条件为假，则执行此处代码。 --]
end
当布尔表达式为真时，执行 if 语句的代码块；如果条件为假时，则执行 else 语句的代码块。
Lua 语言中所有布尔真与非 nil 的组合的结果被当作真，而布尔假与 nil 组合被当作假。值得注意的是，Lua 中零被当作真，这一点与其它大部分语言不一样。
 流程图

##示例
--[ 定义局部变量 --]
a = 100;
--[ 检查条件 --]
if( a &lt; 20 )
then
   --[ 如果条件为真，则输出如下内容 --]
   print("a is less than 20" )
else
   --[ 如果条件为假，则输出如下内容 --]
   print("a is not less than  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/lua_guide/facilities/" title="Lua操作系统工具库"><img class="post-bg" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Lua操作系统工具库"></a></div><div class="recent-post-info"><a class="article-title" href="/lua_guide/facilities/" title="Lua操作系统工具库">Lua操作系统工具库</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-14T07:45:09.085Z" title="发表于 2024-03-14 15:45:09">2024-03-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/lua-guide/">lua_guide</a></span></div><div class="content"> Lua 操作系统工具库
在很多应用中，我们都需要访问到操作系统级别的函数，操作系统库就给我们提供了这样的工具。下面的列表给出操作系统工具包提供的方法：

	
		S.N.
		函数与功能
	
	
		1
		os.clock()：以秒为单位返回程序运行所用 CPU 时间的近似值。
	
	
		2
		os.date([format[,time]])：返回时间字符串或包含时间的表，时间按指定格式格式化。
	
	
		3
		os.difftime(t2,t1)：返回从 t1 时刻至 t2 时刻经历的时间。在 POSIX，windows，及其它某些系统中，该值就是 t2-t1。
	
	
		4
		os.execute([command])：该函数等价于 ANSI C 中的 system 函数。传递的参数 command 由操作系统的 shell 执行。如果命令成功结束，则返回的第一个值为 true，否则为 nil。
	
	
		5
		os.exit([code[,close]])：调用 ANSI C 的 exit 函数，结束程序。如果 code 为　true, 则返回状态为 EXIT ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/lua_guide/access/" title="Lua数据库访问"><img class="post-bg" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Lua数据库访问"></a></div><div class="recent-post-info"><a class="article-title" href="/lua_guide/access/" title="Lua数据库访问">Lua数据库访问</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-14T07:45:09.084Z" title="发表于 2024-03-14 15:45:09">2024-03-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/lua-guide/">lua_guide</a></span></div><div class="content"> Lua 数据库访问
简单的数据操作，我们用文件就可以处理。但是，某些时候文件操作存在性能、扩展性等问题。这时候，我们就需要使用数据库。LuaSQL 是一个提供数据库操作的库，它支持多种 SQL 数据库的操作。包括：

	SQLite
	MySQL
	ODBC
  
在本教程中，我们会讲解用 Lua 语言对 MySQL 数据库与 SQLite 数据库进行操作。这些操作具有一般性，它们也可以移植到其它类型 SQL 数据库中。首先让我们看一下如何操作 MySQL 数据库。  
 MySQL 数据库环境设置
为了下面的例子可以正确演示，我们需要首先初始化数据库设置。我们假设你已经完成了如下的工作：

	安装 MySQL 数据库，使用默认用户名 root， 默认密码为： 123456。
	已经创建数据库 test。
	已经阅读过关于 MySQL 的基本教程，并掌握了 MySQL 的基本知识。
  
 导入 MySQL
假设你已经安装配置正确了，那么我们可以使用 require 语句导入 sqlite 库。安装过程中会产生一个存储数据相关文件的目录 libsql。
mysql &#x3D; re ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/15/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/#content-inner">15</a><span class="page-number current">16</span><a class="page-number" href="/page/17/#content-inner">17</a><span class="space">&hellip;</span><a class="page-number" href="/page/63/#content-inner">63</a><a class="extend next" rel="next" href="/page/17/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">糖果AIGC实验室 备案:辽ICP备16003836号-5</div><div class="author-info__description">AIGC</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">629</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">179</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">94</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">公众号：糖果的实验室 <img src="https://gitee.com/shengnoah/picture/raw/master/20231027182204.png"></img></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/sec/TheHive/%E7%94%A8TheHive%E5%AE%9E%E7%8E%B0SOAR/" title="用TheHive实现SOAR"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="用TheHive实现SOAR"/></a><div class="content"><a class="title" href="/sec/TheHive/%E7%94%A8TheHive%E5%AE%9E%E7%8E%B0SOAR/" title="用TheHive实现SOAR">用TheHive实现SOAR</a><time datetime="2024-03-18T03:38:03.761Z" title="发表于 2024-03-18 11:38:03">2024-03-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/lua_guide/io/" title="Lua文件I/O"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Lua文件I/O"/></a><div class="content"><a class="title" href="/lua_guide/io/" title="Lua文件I/O">Lua文件I/O</a><time datetime="2024-03-18T03:38:03.760Z" title="发表于 2024-03-18 11:38:03">2024-03-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/hexo/NPM%E5%AE%89%E8%A3%85%E4%B8%8D%E9%AA%8C%E8%AF%81%E8%AF%81%E4%B9%A6/" title="NPM安装不验证证书"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="NPM安装不验证证书"/></a><div class="content"><a class="title" href="/hexo/NPM%E5%AE%89%E8%A3%85%E4%B8%8D%E9%AA%8C%E8%AF%81%E8%AF%81%E4%B9%A6/" title="NPM安装不验证证书">NPM安装不验证证书</a><time datetime="2024-03-14T11:44:30.588Z" title="发表于 2024-03-14 19:44:30">2024-03-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/graylog/Graylog%E4%B8%8ESIEM/" title="Graylog与SIEM"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Graylog与SIEM"/></a><div class="content"><a class="title" href="/graylog/Graylog%E4%B8%8ESIEM/" title="Graylog与SIEM">Graylog与SIEM</a><time datetime="2024-03-14T11:24:05.274Z" title="发表于 2024-03-14 19:24:05">2024-03-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/huaggingface/DreamTalk%20When%20Expressive%20Talking%20Head%20Generation%20Meets%20Diffusion%20Probabilistic%20Models/" title="DreamTalk When Expressive Talking Head Generation Meets Diffusion Probabilistic Models"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="DreamTalk When Expressive Talking Head Generation Meets Diffusion Probabilistic Models"/></a><div class="content"><a class="title" href="/huaggingface/DreamTalk%20When%20Expressive%20Talking%20Head%20Generation%20Meets%20Diffusion%20Probabilistic%20Models/" title="DreamTalk When Expressive Talking Head Generation Meets Diffusion Probabilistic Models">DreamTalk When Expressive Talking Head Generation Meets Diffusion Probabilistic Models</a><time datetime="2024-03-14T07:45:09.235Z" title="发表于 2024-03-14 15:45:09">2024-03-14</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/AIGC/"><span class="card-category-list-name">AIGC</span><span class="card-category-list-count">119</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/AIGC/AI-gateway/"><span class="card-category-list-name">AI gateway</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/AIGC/Amphion/"><span class="card-category-list-name">Amphion</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/AIGC/AnimateAnyone/"><span class="card-category-list-name">AnimateAnyone</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/AIGC/AudioCraft/"><span class="card-category-list-name">AudioCraft</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/AIGC/ChatGLM/"><span class="card-category-list-name">ChatGLM</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/AIGC/Gradio/"><span class="card-category-list-name">Gradio</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/AIGC/Mixtral-8x7B/"><span class="card-category-list-name">Mixtral-8x7B</span><span class="card-category-list-count">1</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/AIGC/" style="font-size: 1.5em; color: #99a9bf">AIGC</a> <a href="/tags/math/" style="font-size: 1.1em; color: #999">math</a> <a href="/tags/iptables/" style="font-size: 1.1em; color: #999">iptables</a> <a href="/tags/%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0/" style="font-size: 1.1em; color: #999">激活函数</a> <a href="/tags/%E8%BF%90%E7%BB%B4%E8%AE%B0%E5%BD%95/" style="font-size: 1.1em; color: #999">运维记录</a> <a href="/tags/%E5%B9%B3%E6%96%B9%E5%92%8C%E5%85%AC%E5%BC%8F/" style="font-size: 1.1em; color: #999">平方和公式</a> <a href="/tags/nmap/" style="font-size: 1.1em; color: #999">nmap</a> <a href="/tags/cpu/" style="font-size: 1.1em; color: #999">cpu</a> <a href="/tags/huaggingface/" style="font-size: 1.1em; color: #999">huaggingface</a> <a href="/tags/rtx4090/" style="font-size: 1.1em; color: #999">rtx4090</a> <a href="/tags/obsidian/" style="font-size: 1.37em; color: #99a4b2">obsidian</a> <a href="/tags/jupyter/" style="font-size: 1.1em; color: #999">jupyter</a> <a href="/tags/photo/" style="font-size: 1.1em; color: #999">photo</a> <a href="/tags/scirius/" style="font-size: 1.1em; color: #999">scirius</a> <a href="/tags/Luna/" style="font-size: 1.1em; color: #999">Luna</a> <a href="/tags/dev/" style="font-size: 1.1em; color: #999">dev</a> <a href="/tags/Suricata/" style="font-size: 1.1em; color: #999">Suricata</a> <a href="/tags/%E6%9C%BA%E6%A2%B0%E9%94%AE%E7%9B%98%E9%80%89%E8%B4%AD/" style="font-size: 1.1em; color: #999">机械键盘选购</a> <a href="/tags/gfpgan/" style="font-size: 1.23em; color: #999ea6">gfpgan</a> <a href="/tags/conda/" style="font-size: 1.37em; color: #99a4b2">conda</a> <a href="/tags/lapis/" style="font-size: 1.37em; color: #99a4b2">lapis</a> <a href="/tags/TTPs/" style="font-size: 1.1em; color: #999">TTPs</a> <a href="/tags/Riffusion/" style="font-size: 1.1em; color: #999">Riffusion</a> <a href="/tags/llama/" style="font-size: 1.1em; color: #999">llama</a> <a href="/tags/sigama/" style="font-size: 1.1em; color: #999">sigama</a> <a href="/tags/book/" style="font-size: 1.1em; color: #999">book</a> <a href="/tags/lua%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/" style="font-size: 1.23em; color: #999ea6">lua二分查找</a> <a href="/tags/prime-select/" style="font-size: 1.1em; color: #999">prime-select</a> <a href="/tags/Mixtral-8x7B/" style="font-size: 1.1em; color: #999">Mixtral-8x7B</a> <a href="/tags/mount/" style="font-size: 1.1em; color: #999">mount</a> <a href="/tags/lsof/" style="font-size: 1.1em; color: #999">lsof</a> <a href="/tags/ChatGLM/" style="font-size: 1.1em; color: #999">ChatGLM</a> <a href="/tags/GPT/" style="font-size: 1.1em; color: #999">GPT</a> <a href="/tags/Cortex/" style="font-size: 1.37em; color: #99a4b2">Cortex</a> <a href="/tags/%E7%94%B5%E5%AD%90%E5%B7%A5%E4%B8%9A%E5%87%BA%E7%89%88%E7%A4%BE/" style="font-size: 1.1em; color: #999">电子工业出版社</a> <a href="/tags/RAG/" style="font-size: 1.23em; color: #999ea6">RAG</a> <a href="/tags/abc/" style="font-size: 1.1em; color: #999">abc</a> <a href="/tags/x79/" style="font-size: 1.1em; color: #999">x79</a> <a href="/tags/SonicVisionLM/" style="font-size: 1.1em; color: #999">SonicVisionLM</a> <a href="/tags/cuDNN/" style="font-size: 1.1em; color: #999">cuDNN</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><span class="card-archive-list-count">319</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">三月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">一月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2017/09/"><span class="card-archive-list-date">九月 2017</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2016/09/"><span class="card-archive-list-date">九月 2016</span><span class="card-archive-list-count">307</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">629</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-03-18T07:10:41.511Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 糖果AIGC实验室 备案:辽ICP备16003836号-5</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><script>(function () {
  var meta = document.createElement('meta');
  meta.content = 'no-referrer';
  meta.name = 'referrer';
  document.getElementsByTagName('head')[0].appendChild(meta);
})();</script></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script></div></body></html>