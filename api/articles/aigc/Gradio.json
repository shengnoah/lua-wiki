{"title":"Gradio","uid":"45cf7b3c88a23623be0195c6597a4bdf","slug":"aigc/Gradio","date":"2024-03-14T07:45:09.026Z","updated":"2024-03-14T07:45:09.026Z","comments":true,"path":"api/articles/aigc/Gradio.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://s2.loli.net/2024/02/07/Li7MZXHjcuvCSO4.png","content":"<p>用Gradio实现一个调用一个REST API，访问的的API地址是<a href=\"http://10.211.6.6:8081/gelf%EF%BC%8C%E5%8F%82%E6%95%B0a=1,b=2%EF%BC%8C%E8%BF%94%E5%9B%9E%E5%AD%97%E6%AE%B5%E6%9C%893%E4%B8%AAfield1\">http://10.211.6.6:8081/gelf，参数a=1,b=2，返回字段有3个field1</a>, field2, field3, 三个字符的类型都是字符串类型，返回3条数据,结构如下：</p>\n<p>filed1, filed2,field3<br>\na,b,c,<br>\nd,e,f<br>\nh,i,j</p>\n<p>用Gradio交结果分页显出来，用二维表格的形式显示， 给同具体体Gradio实现的Python代码</p>\n<p>下面是使用Gradio实现的Python代码：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> gradio <span class=\"keyword\">as</span> gr</span><br><span class=\"line\"><span class=\"keyword\">import</span> requests</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">rest_api_call</span>():</span><br><span class=\"line\">    url = <span class=\"string\">&quot;http://10.211.6.6:8081/gelf&quot;</span></span><br><span class=\"line\">    params = &#123;<span class=\"string\">&quot;a&quot;</span>: <span class=\"number\">1</span>, <span class=\"string\">&quot;b&quot;</span>: <span class=\"number\">2</span>&#125;</span><br><span class=\"line\">    response = requests.get(url, params=params)</span><br><span class=\"line\">    data = response.json()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> data</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">display_results</span>(<span class=\"params\">page</span>):</span><br><span class=\"line\">    data = rest_api_call()</span><br><span class=\"line\">    start_index = (page - <span class=\"number\">1</span>) * <span class=\"number\">3</span></span><br><span class=\"line\">    end_index = page * <span class=\"number\">3</span></span><br><span class=\"line\">    results = data[start_index:end_index]</span><br><span class=\"line\">    </span><br><span class=\"line\">    table_data = [[<span class=\"string\">&quot;field1&quot;</span>, <span class=\"string\">&quot;field2&quot;</span>, <span class=\"string\">&quot;field3&quot;</span>]]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> result <span class=\"keyword\">in</span> results:</span><br><span class=\"line\">        table_data.append([result[<span class=\"string\">&quot;field1&quot;</span>], result[<span class=\"string\">&quot;field2&quot;</span>], result[<span class=\"string\">&quot;field3&quot;</span>]])</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> table_data</span><br><span class=\"line\"></span><br><span class=\"line\">inputs = gr.inputs.Number(label=<span class=\"string\">&quot;Page&quot;</span>, default=<span class=\"number\">1</span>, minimum=<span class=\"number\">1</span>, maximum=<span class=\"number\">2</span>)</span><br><span class=\"line\">outputs = gr.outputs.Table(header=[<span class=\"string\">&quot;field1&quot;</span>, <span class=\"string\">&quot;field2&quot;</span>, <span class=\"string\">&quot;field3&quot;</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">interface = gr.Interface(fn=display_results, inputs=inputs, outputs=outputs)</span><br><span class=\"line\"></span><br><span class=\"line\">interface.launch()</span><br></pre></td></tr></table></figure>\n<p>运行这段代码后，将会在浏览器中打开一个页面，可以输入页码来查看对应的数据。默认显示第一页的结果，可以在输入框中修改页码，然后点击&quot;Submit&quot;按钮获取对应页码的数据。数据以二维表格的形式显示在页面上。</p>\n","text":"用Gradio实现一个调用一个REST API，访问的的API地址是http://10.211.6.6:8081/gelf，参数a=1,b=2，返回字段有3个field1, field2, field3, 三个字符的类型都是字符串类型，返回3条数据,结构如下： filed1, f...","link":"","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"AIGC","slug":"AIGC","count":119,"path":"api/categories/AIGC.json"},{"name":"Gradio","slug":"AIGC/Gradio","count":1,"path":"api/categories/AIGC/Gradio.json"}],"tags":[{"name":"Gradio","slug":"Gradio","count":1,"path":"api/tags/Gradio.json"}],"toc":"","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"AI按理说应该最擅长理工，为啥先冲击文艺行业？","uid":"86c416bb6fe0d33b8f210e37684d77c0","slug":"aigc/AI按理说应该最擅长理工，为啥先冲击文艺行业？","date":"2024-03-14T07:45:09.026Z","updated":"2024-03-14T07:45:09.026Z","comments":true,"path":"api/articles/aigc/AI按理说应该最擅长理工，为啥先冲击文艺行业？.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"text":"AI按理说应该最擅长理工，为啥先冲击文艺行业？ 这个问题的可能答案会是什么呢？文艺行业确实是首先被波及的行业，这是因为AI应用已经在这个行业达到及格线，而且“AI容错率”高并且“人力AI成本差”大导致的。目前阶段，这样的行业就是非常利于AI应用的行业。 AI应用及格线 我们先谈下...","link":"","photos":[],"count_time":{"symbolsCount":"3k","symbolsTime":"3 mins."},"categories":[{"name":"AIGC","slug":"AIGC","count":119,"path":"api/categories/AIGC.json"},{"name":"weibo","slug":"AIGC/weibo","count":59,"path":"api/categories/AIGC/weibo.json"}],"tags":[{"name":"weibo","slug":"weibo","count":62,"path":"api/tags/weibo.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"长文本能力会不会杀死RAG","uid":"124bb865c7cb77ee9606b987c0e9b277","slug":"aigc/长文本能力会不会杀死RAG","date":"2024-03-14T07:45:09.026Z","updated":"2024-03-14T07:45:09.026Z","comments":true,"path":"api/articles/aigc/长文本能力会不会杀死RAG.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"text":"长文本能力会不会杀死RAG 随着 Gemini 超100万上下文的推出，推特上关于长文本能力会不会杀死RAG的讨论还是挺多的。围绕 RAG vs 长文本的成本的讨论还比较多，例如图1，但也有说法认为，长文本的成本会慢慢下降。 看到一个还不错的长推特评论，来自 Snorkel AI...","link":"","photos":[],"count_time":{"symbolsCount":543,"symbolsTime":"1 mins."},"categories":[{"name":"AIGC","slug":"AIGC","count":119,"path":"api/categories/AIGC.json"},{"name":"rag","slug":"AIGC/rag","count":1,"path":"api/categories/AIGC/rag.json"}],"tags":[{"name":"RAG","slug":"RAG","count":2,"path":"api/tags/RAG.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}