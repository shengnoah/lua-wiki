{"title":"RuntimeError  cannot import name 'compare_version' from torchmetrics.utilities.imports","uid":"19c727e75f2f0cb1d867a34d15d56761","slug":"aigc/sd/RuntimeError  cannot import name 'compare_version' from torchmetrics.utilities.imports","date":"2024-03-14T07:45:09.018Z","updated":"2024-03-14T07:45:09.019Z","comments":true,"path":"api/articles/aigc/sd/RuntimeError  cannot import name 'compare_version' from torchmetrics.utilities.imports.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"content":"<h1>RuntimeError  cannot import name ‘compare_version’ from torchmetrics.utilities.imports</h1>\n<h3 id=\"1、RuntimeError-cannot-import-name-‘-compare-version’-from-‘torchmetrics-utilities-imports’\">1、RuntimeError: cannot import name ‘_compare_version’ from ‘torchmetrics.utilities.imports’</h3>\n<p>需要降级一下torchmetrics包,运行</p>\n<ol>\n<li class=\"lvl-3\">\n<p><code>conda install torchmetrics==0.11.4</code></p>\n</li>\n</ol>\n<h3 id=\"2、orch-is-not-able-to-use-GPU-add-skip-torch-cuda-test-to-COMMANDLINE-ARGS-variable-to-disable-this-check\">2、orch is not able to use GPU; add --skip-torch-cuda-test to COMMANDLINE_ARGS variable to disable this check</h3>\n<p>说明torch的版本与cuda版本冲突，此时pytorch并不能使用GPU。</p>\n<p>执行下面指令</p>\n<ol>\n<li class=\"lvl-3\">\n<p><code>python</code></p>\n</li>\n<li class=\"lvl-3\">\n<p><code>import torch</code></p>\n</li>\n<li class=\"lvl-3\">\n<p><code>torch.cuda.is_available()</code></p>\n</li>\n</ol>\n<p>会输出False</p>\n<p>这时候可以试着从pytorch官网复制对应版本指令重新安装一遍torch，</p>\n<p>如果还不行的话就再建虚拟环境重新跑一遍脚本</p>\n<h3 id=\"3-执行bash-start-sh的时候卡在-installing-clip\">3 执行bash start.sh的时候卡在 installing clip</h3>\n<p>先执行</p>\n<ol>\n<li class=\"lvl-3\">\n<p><code>pip install clip</code></p>\n</li>\n</ol>\n<p>再执行一遍bash <a href=\"http://start.sh\">start.sh</a></p>\n<h3 id=\"4-执行bash-start-sh的时候卡在-installing-open-clip\">4 执行bash start.sh的时候卡在 installing open_clip</h3>\n<p>先执行</p>\n<ol>\n<li class=\"lvl-3\">\n<p><code>pip install open_clip_torch</code></p>\n</li>\n</ol>\n<p>再执行一遍bash <a href=\"http://start.sh\">start.sh</a></p>\n","text":"RuntimeError cannot import name ‘compare_version’ from torchmetrics.utilities.imports 1、RuntimeError: cannot import name ‘_compare_version’ ...","link":"","photos":[],"count_time":{"symbolsCount":701,"symbolsTime":"1 mins."},"categories":[{"name":"AIGC","slug":"AIGC","count":119,"path":"api/categories/AIGC.json"},{"name":"weibo","slug":"AIGC/weibo","count":59,"path":"api/categories/AIGC/weibo.json"}],"tags":[{"name":"weibo","slug":"weibo","count":62,"path":"api/tags/weibo.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\"><span class=\"toc-text\">RuntimeError  cannot import name ‘compare_version’ from torchmetrics.utilities.imports</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1%E3%80%81RuntimeError-cannot-import-name-%E2%80%98-compare-version%E2%80%99-from-%E2%80%98torchmetrics-utilities-imports%E2%80%99\"><span class=\"toc-text\">1、RuntimeError: cannot import name ‘_compare_version’ from ‘torchmetrics.utilities.imports’</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2%E3%80%81orch-is-not-able-to-use-GPU-add-skip-torch-cuda-test-to-COMMANDLINE-ARGS-variable-to-disable-this-check\"><span class=\"toc-text\">2、orch is not able to use GPU; add --skip-torch-cuda-test to COMMANDLINE_ARGS variable to disable this check</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-%E6%89%A7%E8%A1%8Cbash-start-sh%E7%9A%84%E6%97%B6%E5%80%99%E5%8D%A1%E5%9C%A8-installing-clip\"><span class=\"toc-text\">3 执行bash start.sh的时候卡在 installing clip</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-%E6%89%A7%E8%A1%8Cbash-start-sh%E7%9A%84%E6%97%B6%E5%80%99%E5%8D%A1%E5%9C%A8-installing-open-clip\"><span class=\"toc-text\">4 执行bash start.sh的时候卡在 installing open_clip</span></a></li></ol></li></ol></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Exception Error while deserializing header HeaderTooLarge","uid":"c868babc1c65104169ae5472bbed5139","slug":"aigc/sd/Exception Error while deserializing header HeaderTooLarge","date":"2024-03-14T07:45:09.018Z","updated":"2024-03-14T07:45:09.018Z","comments":true,"path":"api/articles/aigc/sd/Exception Error while deserializing header HeaderTooLarge.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"text":"Exception Error while deserializing header HeaderTooLarge Exception Error while deserializing header HeaderTooLarge 这个问题就是模型文件不对，要不就是一个模型文件也...","link":"","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[{"name":"AIGC","slug":"AIGC","count":119,"path":"api/categories/AIGC.json"},{"name":"stablediffusion","slug":"AIGC/stablediffusion","count":4,"path":"api/categories/AIGC/stablediffusion.json"}],"tags":[{"name":"stablediffusion","slug":"stablediffusion","count":4,"path":"api/tags/stablediffusion.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"backgroundremover抠图AI","uid":"8747ef0d16269716383dce49ed9490df","slug":"aigc/sd/backgroundremover抠图AI","date":"2024-03-14T07:45:09.018Z","updated":"2024-03-14T07:45:09.018Z","comments":true,"path":"api/articles/aigc/sd/backgroundremover抠图AI.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"text":"backgroundremover抠图AI 背景卸妆？自动移除图像背景的神器：backgroundremover 该项目通过 AI 技术，可自动移除图片和视频中的背景。它使用起来十分简单，可以直接在线上传图片或视频，然后选择保留物体的类别，可以是人物或事物，稍等片刻即可下载处理后...","link":"","photos":[],"count_time":{"symbolsCount":190,"symbolsTime":"1 mins."},"categories":[{"name":"sd","slug":"sd","count":1,"path":"api/categories/sd.json"},{"name":"photo","slug":"sd/photo","count":1,"path":"api/categories/sd/photo.json"}],"tags":[{"name":"photo","slug":"photo","count":1,"path":"api/tags/photo.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}