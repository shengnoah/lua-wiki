{"title":"RuntimeError  cannot import name 'compare_version' from torchmetrics.utilities.imports","uid":"19c727e75f2f0cb1d867a34d15d56761","slug":"aigc/sd/RuntimeError  cannot import name 'compare_version' from torchmetrics.utilities.imports","date":"2024-03-14T07:45:09.018Z","updated":"2024-03-14T07:45:09.019Z","comments":true,"path":"api/articles/aigc/sd/RuntimeError  cannot import name 'compare_version' from torchmetrics.utilities.imports.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<h1 id=\"runtimeerror-cannot-import-name-compare_version-from-torchmetricsutilitiesimports\"><a class=\"markdownIt-Anchor\" href=\"#runtimeerror-cannot-import-name-compare_version-from-torchmetricsutilitiesimports\"></a> RuntimeError  cannot import name ‘compare_version’ from torchmetrics.utilities.imports</h1>\n<h3 id=\"1-runtimeerror-cannot-import-name-_compare_version-from-torchmetricsutilitiesimports\"><a class=\"markdownIt-Anchor\" href=\"#1-runtimeerror-cannot-import-name-_compare_version-from-torchmetricsutilitiesimports\"></a> 1、RuntimeError: cannot import name ‘_compare_version’ from ‘torchmetrics.utilities.imports’</h3>\n<p>需要降级一下torchmetrics包,运行</p>\n<ol>\n<li class=\"lvl-3\">\n<p><code>conda install torchmetrics==0.11.4</code></p>\n</li>\n</ol>\n<h3 id=\"2-orch-is-not-able-to-use-gpu-add-skip-torch-cuda-test-to-commandline_args-variable-to-disable-this-check\"><a class=\"markdownIt-Anchor\" href=\"#2-orch-is-not-able-to-use-gpu-add-skip-torch-cuda-test-to-commandline_args-variable-to-disable-this-check\"></a> 2、orch is not able to use GPU; add --skip-torch-cuda-test to COMMANDLINE_ARGS variable to disable this check</h3>\n<p>说明torch的版本与cuda版本冲突，此时pytorch并不能使用GPU。</p>\n<p>执行下面指令</p>\n<ol>\n<li class=\"lvl-3\">\n<p><code>python</code></p>\n</li>\n<li class=\"lvl-3\">\n<p><code>import torch</code></p>\n</li>\n<li class=\"lvl-3\">\n<p><code>torch.cuda.is_available()</code></p>\n</li>\n</ol>\n<p>会输出False</p>\n<p>这时候可以试着从pytorch官网复制对应版本指令重新安装一遍torch，</p>\n<p>如果还不行的话就再建虚拟环境重新跑一遍脚本</p>\n<h3 id=\"3-执行bash-startsh的时候卡在-installing-clip\"><a class=\"markdownIt-Anchor\" href=\"#3-执行bash-startsh的时候卡在-installing-clip\"></a> 3 执行bash start.sh的时候卡在 installing clip</h3>\n<p>先执行</p>\n<ol>\n<li class=\"lvl-3\">\n<p><code>pip install clip</code></p>\n</li>\n</ol>\n<p>再执行一遍bash <a href=\"http://start.sh\">start.sh</a></p>\n<h3 id=\"4-执行bash-startsh的时候卡在-installing-open_clip\"><a class=\"markdownIt-Anchor\" href=\"#4-执行bash-startsh的时候卡在-installing-open_clip\"></a> 4 执行bash start.sh的时候卡在 installing open_clip</h3>\n<p>先执行</p>\n<ol>\n<li class=\"lvl-3\">\n<p><code>pip install open_clip_torch</code></p>\n</li>\n</ol>\n<p>再执行一遍bash <a href=\"http://start.sh\">start.sh</a></p>\n","text":" RuntimeError cannot import name ‘compare_version’ from torchmetrics.utilities.imports 1、RuntimeError: cannot import name ‘_compare_version’...","link":"","photos":[],"count_time":{"symbolsCount":706,"symbolsTime":"1 mins."},"categories":[{"name":"AIGC","slug":"AIGC","count":117,"path":"api/categories/AIGC.json"},{"name":"weibo","slug":"AIGC/weibo","count":59,"path":"api/categories/AIGC/weibo.json"}],"tags":[{"name":"weibo","slug":"weibo","count":62,"path":"api/tags/weibo.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#runtimeerror-cannot-import-name-compare_version-from-torchmetricsutilitiesimports\"><span class=\"toc-text\"> RuntimeError  cannot import name ‘compare_version’ from torchmetrics.utilities.imports</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-runtimeerror-cannot-import-name-_compare_version-from-torchmetricsutilitiesimports\"><span class=\"toc-text\"> 1、RuntimeError: cannot import name ‘_compare_version’ from ‘torchmetrics.utilities.imports’</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-orch-is-not-able-to-use-gpu-add-skip-torch-cuda-test-to-commandline_args-variable-to-disable-this-check\"><span class=\"toc-text\"> 2、orch is not able to use GPU; add --skip-torch-cuda-test to COMMANDLINE_ARGS variable to disable this check</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-%E6%89%A7%E8%A1%8Cbash-startsh%E7%9A%84%E6%97%B6%E5%80%99%E5%8D%A1%E5%9C%A8-installing-clip\"><span class=\"toc-text\"> 3 执行bash start.sh的时候卡在 installing clip</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-%E6%89%A7%E8%A1%8Cbash-startsh%E7%9A%84%E6%97%B6%E5%80%99%E5%8D%A1%E5%9C%A8-installing-open_clip\"><span class=\"toc-text\"> 4 执行bash start.sh的时候卡在 installing open_clip</span></a></li></ol></li></ol></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"StableDiffusion的Python命令工具","uid":"19993987f6eafbcc9039e2103d625600","slug":"aigc/sd/StableDiffusion的Python命令工具","date":"2024-03-14T07:45:09.019Z","updated":"2024-03-14T07:45:09.019Z","comments":true,"path":"api/articles/aigc/sd/StableDiffusion的Python命令工具.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":" StableDiffusion的Python命令工具 下面这些stablediffusion的.py的python语言命令行脚本工具都是什么作用，可以用来做什么相关的任务处理。custom_code.py outpainting_mk_2.py postprocessing_g...","link":"","photos":[],"count_time":{"symbolsCount":"3k","symbolsTime":"3 mins."},"categories":[{"name":"AIGC","slug":"AIGC","count":117,"path":"api/categories/AIGC.json"},{"name":"stablediffusion","slug":"AIGC/stablediffusion","count":3,"path":"api/categories/AIGC/stablediffusion.json"}],"tags":[{"name":"stablediffusion","slug":"stablediffusion","count":4,"path":"api/tags/stablediffusion.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Exception Error while deserializing header HeaderTooLarge","uid":"c868babc1c65104169ae5472bbed5139","slug":"aigc/sd/Exception Error while deserializing header HeaderTooLarge","date":"2024-03-14T07:45:09.018Z","updated":"2024-03-14T07:45:09.018Z","comments":true,"path":"api/articles/aigc/sd/Exception Error while deserializing header HeaderTooLarge.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":" Exception Error while deserializing header HeaderTooLarge Exception Error while deserializing header HeaderTooLarge 这个问题就是模型文件不对，要不就是一个模型文件...","link":"","photos":[],"count_time":{"symbolsCount":"1.7k","symbolsTime":"2 mins."},"categories":[{"name":"AIGC","slug":"AIGC","count":117,"path":"api/categories/AIGC.json"},{"name":"stablediffusion","slug":"AIGC/stablediffusion","count":3,"path":"api/categories/AIGC/stablediffusion.json"}],"tags":[{"name":"stablediffusion","slug":"stablediffusion","count":4,"path":"api/tags/stablediffusion.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}