{"title":"Linux加载磁盘","uid":"846015a39439fe7ecae742a0ab7587b9","slug":"kanbanfiles/Linux加载磁盘","date":"2024-03-14T07:45:09.039Z","updated":"2024-03-14T07:45:09.039Z","comments":true,"path":"api/articles/kanbanfiles/Linux加载磁盘.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"content":"<h2 id=\"0x01-概述\">0x01  概述</h2>\n<p>在Linux下如何加载一个分区，需要几个过程。</p>\n<h2 id=\"0x02-操作过程\">0x02 操作过程</h2>\n<h3 id=\"查看分区\">查看分区</h3>\n<p>|[root@lua.ren~]# df -h  <br>Filesystem      Size  Used Avail Use% Mounted on  <br>/dev/vda1        40G  2.2G   36G   6% /  <br>devtmpfs         63G     0   63G   0% /dev  <br>tmpfs            63G     0   63G   0% /dev/shm  <br>tmpfs            63G   17M   63G   1% /run  <br>tmpfs            63G     0   63G   0% /sys/fs/cgroup  <br>tmpfs            13G     0   13G   0% /run/user/60422|</p>\n<h3 id=\"查看所有磁盘\">查看所有磁盘</h3>\n<p>|[root@lua.ren ~]# fdisk -l  <br>  <br>Disk /dev/vda: 42.9 GB, 42949672960 bytes, 83886080 sectors  <br>Units = sectors of 1 * 512 = 512 bytes  <br>Sector size (logical/physical): 512 bytes / 512 bytes  <br>I/O size (minimum/optimal): 512 bytes / 512 bytes  <br>Disk label type: dos  <br>Disk identifier: 0x000a2636  <br>  <br>   Device Boot      Start         End      Blocks   Id  System  <br>/dev/vda1   *        2048    83886046    41941999+  83  Linux  <br>  <br>Disk /dev/vdb: 536.9 GB, 536870912000 bytes, 1048576000 sectors  <br>Units = sectors of 1 * 512 = 512 bytes  <br>Sector size (logical/physical): 512 bytes / 512 bytes  <br>I/O size (minimum/optimal): 512 bytes / 512 bytes|</p>\n<h3 id=\"格式化\">格式化</h3>\n<p>|[root@lua.ren ~]# mkfs.ext4 /dev/vdb  <br>mke2fs 1.42.9 (28-Dec-2013)  <br>Filesystem label=  <br>OS type: Linux  <br>Block size=4096 (log=2)  <br>Fragment size=4096 (log=2)  <br>Stride=0 blocks, Stripe width=0 blocks  <br>32768000 inodes, 131071744 blocks  <br>6553587 blocks (5.00%) reserved for the super user  <br>First data block=0  <br>Maximum filesystem blocks=2279604224  <br>4000 block groups  <br>32768 blocks per group, 32768 fragments per group  <br>8192 inodes per group  <br>Superblock backups stored on blocks:  <br>\t32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208,  <br>\t4096000, 7962624, 11239424, 20480000, 23887872, 71663616, 78675968,  <br>\t102400000  <br>  <br>Allocating group tables: done  <br>Writing inode tables: done  <br>Creating journal (32768 blocks): done|</p>\n<h3 id=\"写-etc-fstab-服务器重启可以自动挂载\">写/etc/fstab, 服务器重启可以自动挂载</h3>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p>创建挂载目录</p>\n</li>\n</ul>\n<p>|[root@lua.ren ~]# mkdir /data</p>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p>查询分区UUID</p>\n</li>\n</ul>\n<p>|[root@lua.ren ~]# blkid  <br>/dev/sr0: UUID=“2020-06-23-11-46-23-00” LABEL=“cidata” TYPE=“iso9660”  <br>/dev/vda1: UUID=“a5ed5a70-ec40-4fcf-b436-9dab87463f08” TYPE=“ext4”  <br>/dev/vdb: UUID=“e3cce3c2-3d28-4397-b94e-b744e5ce6b93” TYPE=“ext4”|</p>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p>分区UUID（数据以实际的查询结果为准）</p>\n<p>UUID=”e3cce3c2-3d28-4397-b94e-b744e5ce6b93”</p>\n</li>\n<li class=\"lvl-2\">\n<p>写fstab</p>\n</li>\n</ul>\n<p>[root@lua.ren ~]# vim /etc/fstab</p>\n<p>UUID=a5ed5a70-ec40-4fcf-b436-9dab87463f08 / ext4 defaults 1 1<br>\nUUID=e3cce3c2-3d28-4397-b94e-b744e5ce6b93 /data ext4 defaults 1 1</p>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p>挂载目录</p>\n</li>\n</ul>\n<p>[root@lua.ren ~]# mount -a<br>\n[root@lua.ren ~]# df -h<br>\nFilesystem Size Used Avail Use% Mounted on<br>\n/dev/vda1 40G 2.2G 36G 6% /<br>\ndevtmpfs 63G 0 63G 0% /dev<br>\ntmpfs 63G 0 63G 0% /dev/shm<br>\ntmpfs 63G 17M 63G 1% /run<br>\ntmpfs 63G 0 63G 0% /sys/fs/cgroup<br>\ntmpfs 13G 0 13G 0% /run/user/60422<br>\n/dev/vdb 493G 73M 467G 1% /data</p>\n<h2 id=\"0x03-总结\">0x03 总结</h2>\n<p>/etc/fstab的配置CenOS与Ubuntu的配置有一些差异，需要特别注意。</p>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p>Ubuntu的//etc/fstab文件</p>\n</li>\n</ul>\n<p>/dev/disk/by-uuid/fa3d8567-f154-4802-baae-af75e1d85c18 / ext4 defaults 0 0<br>\n/swap.img none swap sw 0 0<br>\n/dev/disk/by-uuid/dde4e123-7c68-42eb-9dab-0c9e94c352bb /data0 ext4 defaults 0 0</p>\n","text":"0x01 概述 在Linux下如何加载一个分区，需要几个过程。 0x02 操作过程 查看分区 |[root@lua.ren~]# df -h Filesystem Size Used Avail Use% Mounted on /dev/vda1 40G 2.2G 36G 6% ...","link":"","photos":[],"count_time":{"symbolsCount":"2.9k","symbolsTime":"3 mins."},"categories":[{"name":"linux","slug":"linux","count":7,"path":"api/categories/linux.json"}],"tags":[{"name":"linux","slug":"linux","count":4,"path":"api/tags/linux.json"},{"name":"mount","slug":"mount","count":1,"path":"api/tags/mount.json"},{"name":"磁盘","slug":"磁盘","count":1,"path":"api/tags/磁盘.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#0x01-%E6%A6%82%E8%BF%B0\"><span class=\"toc-text\">0x01  概述</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#0x02-%E6%93%8D%E4%BD%9C%E8%BF%87%E7%A8%8B\"><span class=\"toc-text\">0x02 操作过程</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E5%88%86%E5%8C%BA\"><span class=\"toc-text\">查看分区</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E7%A3%81%E7%9B%98\"><span class=\"toc-text\">查看所有磁盘</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%A0%BC%E5%BC%8F%E5%8C%96\"><span class=\"toc-text\">格式化</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%86%99-etc-fstab-%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%87%8D%E5%90%AF%E5%8F%AF%E4%BB%A5%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD\"><span class=\"toc-text\">写&#x2F;etc&#x2F;fstab, 服务器重启可以自动挂载</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#0x03-%E6%80%BB%E7%BB%93\"><span class=\"toc-text\">0x03 总结</span></a></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"ChatGLM2如何使用多显卡GPU","uid":"db337d0c1275ad3ba82eaea7216e78e0","slug":"kanbanfiles/ChatGLM2如何使用多显卡GPU","date":"2024-03-14T07:45:09.039Z","updated":"2024-03-14T07:45:09.039Z","comments":true,"path":"api/articles/kanbanfiles/ChatGLM2如何使用多显卡GPU.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"text":"ChatGLM2的train.sh的NUM_GPUS如何设置配置双显卡？ ChatGLM和ChatGLM2，对GPU配置的传参数样式不太一样，一代的时候，“0,1”这么用双显卡，二代的时候直接输入NUM_GPUS=2. 要配置双显卡进行训练，可以将NUM_GPUS设置为2，以表示...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"ChatGLM","slug":"ChatGLM","count":1,"path":"api/categories/ChatGLM.json"}],"tags":[{"name":"ChatGLM2","slug":"ChatGLM2","count":1,"path":"api/tags/ChatGLM2.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"如何安装Conda","uid":"1423e6fb9e004a9c7de3f0b78f1c1cac","slug":"kanbanfiles/如何安装conda","date":"2024-03-14T07:45:09.039Z","updated":"2024-03-14T07:45:09.039Z","comments":true,"path":"api/articles/kanbanfiles/如何安装conda.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"text":"在ubuntu上如何安装conda 要在Ubuntu上安装conda，可以按照以下步骤进行操作： 首先，打开终端窗口。 下载Miniconda的安装脚本。在终端中运行以下命令： 1wget https://repo.anaconda.com/miniconda/Miniconda...","link":"","photos":[],"count_time":{"symbolsCount":"11k","symbolsTime":"10 mins."},"categories":[{"name":"AIGC","slug":"AIGC","count":119,"path":"api/categories/AIGC.json"},{"name":"conda","slug":"AIGC/conda","count":2,"path":"api/categories/AIGC/conda.json"}],"tags":[{"name":"AIGC","slug":"AIGC","count":6,"path":"api/tags/AIGC.json"},{"name":"conda","slug":"conda","count":3,"path":"api/tags/conda.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}