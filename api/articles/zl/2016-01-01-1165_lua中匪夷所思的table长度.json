{"title":"lua中匪夷所思的table长度","uid":"9021bd9835a131c8e48098fdd26e102c","slug":"zl/2016-01-01-1165_lua中匪夷所思的table长度","date":"2024-04-03T03:47:33.022Z","updated":"2024-04-03T03:47:33.022Z","comments":true,"path":"api/articles/zl/2016-01-01-1165_lua中匪夷所思的table长度.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<div class=\"highlight\"><pre><span></span><span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"p\">{</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">6</span> <span class=\"p\">}</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"o\">#</span><span class=\"n\">s</span><span class=\"p\">)</span>     <span class=\"c1\">-- output: 6</span>\n<span class=\"n\">s</span><span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">nil</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"o\">#</span><span class=\"n\">s</span><span class=\"p\">)</span>     <span class=\"c1\">-- output: 6</span>\n<span class=\"n\">s</span><span class=\"p\">[</span><span class=\"mi\">7</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">nil</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"o\">#</span><span class=\"n\">s</span><span class=\"p\">)</span>     <span class=\"c1\">-- output: 3</span>\n<span class=\"n\">s</span><span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"o\">#</span><span class=\"n\">s</span><span class=\"p\">)</span>     <span class=\"c1\">-- output: 6</span>\n<span class=\"n\">s</span><span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">nil</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"o\">#</span><span class=\"n\">s</span><span class=\"p\">)</span>     <span class=\"c1\">-- output: 3</span>\n<p><span class=\"nb\">print</span><span class=\"p\">()</span></p>\n<p><span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"p\">{</span> <span class=\"s2\">&quot;1&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;2&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;3&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;4&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;5&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;6&quot;</span> <span class=\"p\">}</span><br />\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"o\">#</span><span class=\"n\">s</span><span class=\"p\">)</span>     <span class=\"c1\">– output: 6</span><br />\n<span class=\"n\">s</span><span class=\"p\">[</span><span class=\"s2\">&quot;4&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">nil</span><br />\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"o\">#</span><span class=\"n\">s</span><span class=\"p\">)</span>     <span class=\"c1\">– output: 6</span><br />\n<span class=\"n\">s</span><span class=\"p\">[</span><span class=\"s2\">&quot;7&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">nil</span><br />\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"o\">#</span><span class=\"n\">s</span><span class=\"p\">)</span>     <span class=\"c1\">– output: 6</span><br />\n<span class=\"n\">s</span><span class=\"p\">[</span><span class=\"s2\">&quot;4&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;4&quot;</span><br />\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"o\">#</span><span class=\"n\">s</span><span class=\"p\">)</span>     <span class=\"c1\">– output: 6</span><br />\n<span class=\"n\">s</span><span class=\"p\">[</span><span class=\"s2\">&quot;4&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">nil</span><br />\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"o\">#</span><span class=\"n\">s</span><span class=\"p\">)</span>     <span class=\"c1\">– output: 6</span><br />\n</pre></div></p>\n<blockquote>\n<p>Lua 5.3.4</p>\n</blockquote>\n<p>输出就是这么匪夷所思,所以, <b>不要在Lua的table中使用nil值，如果一个元素要删除，直接remove</b></p>","text":"s = { 1, 2, 3, 4, 5, 6 } print(#s) -- output: 6 s[4] = nil print(#s) -- output: 6 s[7] = nil print(#s) -- output: 3 s[4] = 4 print(#s) -- ou...","link":"","photos":[],"count_time":{"symbolsCount":605,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"toc":"","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"evaluate reverse polish notation","uid":"c5597d0c0640986b1ed3cb3270e77eb0","slug":"zl/2016-01-01-1166_evaluate reverse polish notation","date":"2024-04-03T03:47:33.022Z","updated":"2024-04-03T03:47:33.022Z","comments":true,"path":"api/articles/zl/2016-01-01-1166_evaluate reverse polish notation.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"Evaluate Reverse Polish Notation12345678910111213141516171819202122232425262728293031public int (String[] tokens) { Stack&lt;String&gt; oper...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"leetcode解题-evaluate reverse polish notation","uid":"3b56f38f203407e078d4484adbbe57c0","slug":"zl/2016-01-01-1167_leetcode解题-evaluate reverse polish notation","date":"2024-04-03T03:47:33.022Z","updated":"2024-04-03T03:47:33.023Z","comments":true,"path":"api/articles/zl/2016-01-01-1167_leetcode解题-evaluate reverse polish notation.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"描述 Evaluate the value of an arithmetic expression in Reverse Polish Notation. Valid operators are +, -, *, /. Each operand may be an integer...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}