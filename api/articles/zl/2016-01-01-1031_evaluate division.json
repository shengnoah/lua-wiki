{"title":"evaluate division","uid":"73a2f21f043f75ef573965973c2c64cb","slug":"zl/2016-01-01-1031_evaluate division","date":"2024-04-03T03:47:32.973Z","updated":"2024-04-03T03:47:32.973Z","comments":true,"path":"api/articles/zl/2016-01-01-1031_evaluate division.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<ul>\n<li><a href=\"https://leetcode.com/problems/evaluate-division/description/\" title=\"Evaluate Division\" target=\"_blank\" rel=\"external noopener noreferrer\">问题来源</a></li>\n<li>问题简介<blockquote>\n<p>给出一系列式子 a / b = k（k为非零小数），要求算出指定的算式，如:<br/>给出 a / b = 2.0, b / c = 3.0；<br/>则求 a / c。<br/>结果: 6.0<br/>若求不出，则为 -1。</p>\n</blockquote>\n</li>\n</ul>\n<hr/>\n<h2 id=\"解题思路\"><a href=\"#解题思路\" class=\"headerlink\" title=\"解题思路\"></a>解题思路</h2>\n<hr/>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">时间复杂度</th>\n<th style=\"text-align:center\">空间复杂度</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">O(未知)</td>\n<td style=\"text-align:center\">O(未知)</td>\n</tr>\n</tbody>\n</table>\n<hr/>\n<h2 id=\"Code\"><a href=\"#Code\" class=\"headerlink\" title=\"Code\"></a>Code</h2><pre><code>class Solution &#123;\npublic:\n    vector&lt;double&gt; calcEquation(vector&lt;pair&lt;string, string&gt;&gt; equations, vector&lt;double&gt;&amp; values, vector&lt;pair&lt;string, string&gt;&gt; queries) &#123;\n        unordered_map&lt;string, unordered_map&lt;string, double&gt;&gt; next;\n        unordered_set&lt;string&gt; all;\n        pair&lt;string, string&gt; cur;\n        double val;\n        for (int i = 0, len = equations.size(); i &lt; len; i++) &#123;\n            cur = equations[i];\n            val = values[i];\n            next[cur.first][cur.second] = val;\n            next[cur.second][cur.first] = 1 / val;\n            all.insert(cur.first);\n            all.insert(cur.second);\n        &#125;\n        vector&lt;double&gt; rs(queries.size(), -1.0);\n        auto it = rs.begin();\n        for (auto &amp;i : queries) &#123;\n            auto a_c = all;\n            if (next.find(i.first) == next.end() || next.find(i.second) == next.end()) &#123;\n                *it++ = -1;\n            &#125; else &#123;\n                *it++ = dfs(i.first, i.second, next, a_c);\n            &#125;\n        &#125;\n        return rs;\n    &#125;\n<pre><code>double dfs(const string &amp;amp;cur, const string &amp;amp;goal,\n           unordered_map&amp;lt;string, unordered_map&amp;lt;string, double&amp;gt;&amp;gt; &amp;amp;next,\n          unordered_set&amp;lt;string&amp;gt; &amp;amp;all) &#123;\n    if (cur == goal) &#123;\n        return next.find(cur) != next.end() ? !!(next[cur].begin() -&amp;gt; second) : -1;\n    &#125;\n    if (next[cur].find(goal) != next[cur].end()) &#123;\n        return next[cur][goal];\n    &#125;\n    all.erase(cur);\n    auto &amp;amp;next_set = next[cur];\n    double nextVal = -1;\n    for (auto &amp;amp;i : next_set) &#123;\n        if (all.find(i.first) == all.end()) &#123;\n            continue;\n        &#125;\n        nextVal = dfs(i.first, goal, next, all);\n        if (nextVal != -1) &#123;\n            return nextVal * i.second;\n        &#125;\n    &#125;\n    return -1;\n&#125;\n</code></pre>\n<p>};<br />\n</code></pre><hr/></p>\n<h2 id=\"运行结果\"><a href=\"#运行结果\" class=\"headerlink\" title=\"运行结果\"></a>运行结果</h2><blockquote>\n<p><img src=\"https://guoyl6.github.io//img/Evaluate-Division.png\" alt=\"Evaluate Division\" title=\"result\"/></p>\n</blockquote>\n<hr/>","text":" 问题来源 问题简介 给出一系列式子 a / b = k（k为非零小数），要求算出指定的算式，如:给出 a / b = 2.0, b / c = 3.0；则求 a / c。结果: 6.0若求不出，则为 -1。 解题思路 时间复杂度 空间复杂度 O(未知) O(未知) Codecl...","link":"","photos":[],"count_time":{"symbolsCount":"2.2k","symbolsTime":"2 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF\"><span class=\"toc-text\">解题思路</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Code\"><span class=\"toc-text\">Code</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C\"><span class=\"toc-text\">运行结果</span></a></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"txlualesson","uid":"6e9dc412f4edfe504d0070d0e741f221","slug":"zl/2016-01-01-1030_txlualesson","date":"2024-04-03T03:47:32.973Z","updated":"2024-04-03T03:47:32.973Z","comments":true,"path":"api/articles/zl/2016-01-01-1030_txlualesson.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":" TXLuaLesson &lt;/div&gt; ","link":"","photos":[],"count_time":{"symbolsCount":43,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"编译找不到lua","uid":"b728025e73cbf76259fbac850d16605b","slug":"zl/2016-01-01-1027_编译找不到lua","date":"2024-04-03T03:47:32.972Z","updated":"2024-04-03T03:47:32.972Z","comments":true,"path":"api/articles/zl/2016-01-01-1027_编译找不到lua.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"cmake . -DLUA_INCLUDE_DIR=/usr/local/include/ -DLUA_LIBRARY=/usr/local/lib/liblua.a &lt;h4&gt;See also&lt;/h4&gt; &lt;ul&gt; &lt;li&gt;&lt;a...","link":"","photos":[],"count_time":{"symbolsCount":853,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}