{"title":"lua基本语法","uid":"aee4e303f65857e7155c42b9b734660e","slug":"zl/2016-01-01-1059_lua基本语法","date":"2024-04-03T03:47:32.985Z","updated":"2024-04-03T03:47:32.985Z","comments":true,"path":"api/articles/zl/2016-01-01-1059_lua基本语法.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<ol>\n<li>注释</li>\n</ol>\n<figure class=\"highlight lua\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/><span class=\"line\">2</span><br/><span class=\"line\">3</span><br/><span class=\"line\">4</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br/><span class=\"line\"><span class=\"comment\">--[[</span></span><br/><span class=\"line\"><span class=\"comment\">多行注释</span></span><br/><span class=\"line\"><span class=\"comment\">--]]</span></span><br/></pre></td></tr></tbody></table></figure>\n<ol start=\"2\">\n<li><p>运行方式</p>\n<ul>\n<li>交互式运行<br/>  命令行下 lua进入交互模式</li>\n<li><p>命令行运行<br/>  lua +</p>\n<pre><code>-e  + &#34;代码块&#34; 直接运行\n-l  加载文件\n-i 进入交互模式\n</code></pre></li>\n</ul>\n</li>\n<li>赋值语句</li>\n</ol>\n<figure class=\"highlight lua\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/><span class=\"line\">2</span><br/><span class=\"line\">3</span><br/><span class=\"line\">4</span><br/><span class=\"line\">5</span><br/><span class=\"line\">6</span><br/><span class=\"line\">7</span><br/><span class=\"line\">8</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 交换两个变量值</span></span><br/><span class=\"line\">    a, b = b, a</span><br/><span class=\"line\"><span class=\"comment\">-- 多个变量赋值</span></span><br/><span class=\"line\">    a,b,c = <span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>  <span class=\"comment\">--按照等号后面的数值位置赋值,如果缺少或者多与参数则赋值为nil</span></span><br/><span class=\"line\"><span class=\"comment\">-- 按照key赋值</span></span><br/><span class=\"line\">    name.key = value</span><br/><span class=\"line\"><span class=\"comment\">-- 可以赋值为函数</span></span><br/><span class=\"line\">    a,b = f()</span><br/></pre></td></tr></tbody></table></figure>\n<ol start=\"4\">\n<li>全局变量和局部变量</li>\n</ol>\n<ul>\n<li><p>全局变量</p>\n<p>  不需要特殊声明 创建或者赋值,只要不为nil都可以</p>\n</li>\n<li><p>局部变量</p>\n<p>  关键字local<br/>  尽量避免使用全局变量,优点:避免命名冲突和提高访问变量的速度</p>\n</li>\n</ul>\n<ol start=\"5\">\n<li>语句体</li>\n</ol>\n<ul>\n<li>条件语句</li>\n</ul>\n<figure class=\"highlight lua\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/><span class=\"line\">2</span><br/><span class=\"line\">3</span><br/><span class=\"line\">4</span><br/><span class=\"line\">5</span><br/><span class=\"line\">6</span><br/><span class=\"line\">7</span><br/><span class=\"line\">8</span><br/><span class=\"line\">9</span><br/><span class=\"line\">10</span><br/><span class=\"line\">11</span><br/><span class=\"line\">12</span><br/><span class=\"line\">13</span><br/><span class=\"line\">14</span><br/><span class=\"line\">15</span><br/><span class=\"line\">16</span><br/><span class=\"line\">17</span><br/><span class=\"line\">18</span><br/><span class=\"line\">19</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">--第一种</span></span><br/><span class=\"line\"><span class=\"keyword\">if</span>  判断条件 <span class=\"keyword\">then</span></span><br/><span class=\"line\"><span class=\"keyword\">end</span>;</span><br/><span class=\"line\"></span><br/><span class=\"line\"><span class=\"comment\">-- 第二种</span></span><br/><span class=\"line\"><span class=\"keyword\">if</span>  判断条件 <span class=\"keyword\">then</span></span><br/><span class=\"line\">    执行语句</span><br/><span class=\"line\"><span class=\"keyword\">else</span></span><br/><span class=\"line\">    执行语句</span><br/><span class=\"line\"><span class=\"keyword\">end</span>;</span><br/><span class=\"line\"></span><br/><span class=\"line\"><span class=\"comment\">-- 第三种</span></span><br/><span class=\"line\"><span class=\"keyword\">if</span> 判断条件  <span class=\"keyword\">then</span></span><br/><span class=\"line\">    执行语句</span><br/><span class=\"line\"><span class=\"keyword\">elseif</span> 判断条件 <span class=\"keyword\">then</span></span><br/><span class=\"line\">    执行语句</span><br/><span class=\"line\"><span class=\"keyword\">else</span></span><br/><span class=\"line\">    执行语句</span><br/><span class=\"line\"><span class=\"keyword\">end</span>;</span><br/></pre></td></tr></tbody></table></figure>\n<ul>\n<li>循环语句</li>\n</ul>\n<p><code>`</code>lua<br/>– 第一种while循环</p>\n<p>while 判断条件 do<br/>    执行语句;<br/>end;</p>\n<p>– 第二种repeat循环<br/>repeat<br/>    执行语句;<br/>until 条件判断;</p>\n<p>– while和repeat区别</p>\n<pre><code>while 是在开始判断\nrepeat 是在结束时判断,直到什么时候结束\n</code></pre><p>– 第三种for循环语句<br/>– 1. 数值for循环<br/>– 直接使用数值<br/>for i = 1(start),10(end),2(step) do<br/>    执行语句体<br/>end<br/>– 也可以使用函数<br/>for i = 1(start),f(x)函数,step do<br/>    执行语句体<br/>end</p>\n<p>–2. 范式for循环<br/>    for i, v in ipairs(table) do<br/>        print(i,v)<br/>    end<br/>    – i是数组索引值，<br/>    – v是对应索引的数组元素值。<br/>    – ipairs是Lua提供的一个迭代器函数，用来迭代数组。</p>","text":" 注释 1234--[[多行注释--]] 运行方式 交互式运行 命令行下 lua进入交互模式 命令行运行 lua + -e + &#34;代码块&#34; 直接运行 -l 加载文件 -i 进入交互模式 赋值语句 12345678-- 交换两个变量值 a, b = b, a-- 多...","link":"","photos":[],"count_time":{"symbolsCount":949,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"toc":"","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"the programming language lua and openresty","uid":"da8d16c425241fada630356ab811500b","slug":"zl/2016-01-01-1058_the programming language lua and openresty","date":"2024-04-03T03:47:32.985Z","updated":"2024-04-03T03:47:32.985Z","comments":true,"path":"api/articles/zl/2016-01-01-1058_the programming language lua and openresty.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":" The Programming Language Lua and OpenResty","link":"","photos":[],"count_time":{"symbolsCount":43,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"ngx_lua灵活定制fastcgi_cache缓存key","uid":"747d93479db646dd1c866e4270a4787d","slug":"zl/2016-01-01-105_ngx_lua灵活定制fastcgi_cache缓存key","date":"2024-04-03T03:47:32.985Z","updated":"2024-04-03T03:47:32.986Z","comments":true,"path":"api/articles/zl/2016-01-01-105_ngx_lua灵活定制fastcgi_cache缓存key.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"Web开发常见的几种缓存 常用缓存（memcached和redis） Nginx的缓存（标准模块缓存: proxy_cache和fastcgi_cache / 第三方模块做缓存: ngx_lua） CDN缓存 浏览器缓存（Cache-Control和LocalStorage） p...","link":"","photos":[],"count_time":{"symbolsCount":"3.6k","symbolsTime":"3 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}