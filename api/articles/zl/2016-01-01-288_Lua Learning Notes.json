{"title":"Lua Learning Notes","uid":"4b8499e3ac801948195a5de99e588873","slug":"zl/2016-01-01-288_Lua Learning Notes","date":"2024-04-03T03:47:33.145Z","updated":"2024-04-03T03:47:33.145Z","comments":true,"path":"api/articles/zl/2016-01-01-288_Lua Learning Notes.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<h3 id=\"_1\">控制流</h3>\n<h5 id=\"if\">if</h5>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">20</span>\n<span class=\"kr\">if</span> <span class=\"n\">a</span> <span class=\"o\">==</span> <span class=\"n\">b</span> <span class=\"kr\">then</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&#34;a=b&#34;</span><span class=\"p\">)</span>\n<span class=\"kr\">elseif</span> <span class=\"n\">a</span> <span class=\"o\">&gt;</span> <span class=\"n\">b</span> <span class=\"kr\">then</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&#34;a&gt;b&#34;</span><span class=\"p\">)</span>\n<span class=\"kr\">else</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&#34;a&lt;b&#34;</span><span class=\"p\">)</span>\n<span class=\"kr\">end</span>\n</pre></div>\n<h5 id=\"while\">while</h5>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n<span class=\"kr\">while</span> <span class=\"n\">a</span> <span class=\"o\">&lt;=</span> <span class=\"mi\">10</span> <span class=\"kr\">do</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">)</span>\n    <span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">a</span> <span class=\"o\">+</span> <span class=\"mi\">1</span>\n<span class=\"kr\">end</span>\n</pre></div>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n<span class=\"kr\">while</span> <span class=\"kc\">true</span> <span class=\"kr\">do</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">)</span>\n    <span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">a</span> <span class=\"o\">+</span> <span class=\"mi\">1</span>\n    <span class=\"kr\">if</span> <span class=\"n\">a</span> <span class=\"o\">==</span> <span class=\"mi\">10</span> <span class=\"kr\">then</span>\n        <span class=\"kr\">break</span>\n    <span class=\"kr\">end</span>\n<span class=\"kr\">end</span>\n</pre></div>\n<h5 id=\"repeat-until\">repeat-until</h5>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n<span class=\"kr\">repeat</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">)</span>\n    <span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">a</span> <span class=\"o\">+</span> <span class=\"mi\">1</span>\n<span class=\"kr\">until</span> <span class=\"n\">a</span> <span class=\"o\">==</span> <span class=\"mi\">10</span>\n</pre></div>\n<h5 id=\"for\">for</h5>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">-- 数值循环</span>\n<span class=\"kr\">for</span> <span class=\"n\">i</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">1</span> <span class=\"kr\">do</span> <span class=\"c1\">-- 初始值, 终止值, 递增步长</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">)</span>\n<span class=\"kr\">end</span>\n<p><span class=\"c1\">– 泛型循环</span><br />\n<span class=\"c1\">– 数组</span><br />\n<span class=\"n\">names</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">'Ada'</span><span class=\"p\">,</span> <span class=\"s1\">'Ben'</span><span class=\"p\">,</span> <span class=\"s1\">'Cara'</span><span class=\"p\">,</span> <span class=\"s1\">'David'</span><span class=\"p\">}</span><br />\n<span class=\"kr\">for</span> <span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"n\">name</span> <span class=\"kr\">in</span> <span class=\"nb\">ipairs</span><span class=\"p\">(</span><span class=\"n\">names</span><span class=\"p\">)</span> <span class=\"kr\">do</span><br />\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">)</span><br />\n<span class=\"kr\">end</span></p>\n<p><span class=\"c1\">–字典</span><br />\n<span class=\"n\">lst</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"n\">a</span><span class=\"o\">=</span><span class=\"s1\">'A'</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"o\">=</span><span class=\"s1\">'B'</span><span class=\"p\">,</span> <span class=\"n\">c</span><span class=\"o\">=</span><span class=\"s1\">'C'</span><span class=\"p\">}</span><br />\n<span class=\"kr\">for</span> <span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"n\">val</span> <span class=\"kr\">in</span> <span class=\"nb\">pairs</span><span class=\"p\">(</span><span class=\"n\">lst</span><span class=\"p\">)</span> <span class=\"kr\">do</span><br />\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"o\">…</span><span class=\"n\">val</span><span class=\"p\">)</span><br />\n<span class=\"kr\">end</span><br />\n</pre></div></p>\n<p>数值循环即从初始值到终止值, 每次循环递增一次步长\n泛型循环中, <code>iparis()</code>和<code>pairs()</code>为迭代器函数, 前者从<code>1</code>开始遍历, 并依次递增<code>1</code>, 后者则遍历所有的键值对</p>\n<h3 id=\"_2\">操作符</h3>\n<ul>\n<li>算数运算符: <code>+ - * / ^ %</code></li>\n<li>关系运算符: <code>&lt; &gt; &lt;= &gt;= == ~=</code></li>\n<li>逻辑运算符: <code>and or not</code></li>\n<li>连接运算符: <code>..</code></li>\n</ul>\n<hr/>\n<h3 id=\"_3\">函数</h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"kr\">function</span> <span class=\"nf\">pow</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">r</span><span class=\"p\">)</span>\n    <span class=\"kr\">return</span> <span class=\"n\">x</span><span class=\"o\">^</span><span class=\"n\">r</span>\n<span class=\"kr\">end</span>\n<p><span class=\"n\">pow</span> <span class=\"o\">=</span> <span class=\"kr\">function</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">r</span><span class=\"p\">)</span> <span class=\"kr\">return</span> <span class=\"n\">x</span><span class=\"o\">^</span><span class=\"n\">r</span> <span class=\"kr\">end</span><br />\n</pre></div></p>\n<p>Lua中函数皆为匿名函数, 可接受函数作为参数, 可返回多个值</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kr\">function</span> <span class=\"nf\">foo</span><span class=\"p\">(...)</span>\n    <span class=\"kd\">local</span> <span class=\"n\">args</span> <span class=\"o\">=</span> <span class=\"p\">{...}</span>\n    <span class=\"kr\">for</span> <span class=\"n\">k</span><span class=\"p\">,</span> <span class=\"n\">v</span> <span class=\"kr\">in</span> <span class=\"nb\">ipairs</span><span class=\"p\">(</span><span class=\"n\">args</span><span class=\"p\">)</span> <span class=\"kr\">do</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">v</span><span class=\"p\">)</span>\n    <span class=\"kr\">end</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"o\">#</span><span class=\"n\">args</span><span class=\"p\">)</span>\n<span class=\"kr\">end</span>\n</pre></div>\n<p>使用三点表示可变参数, 接受的参数将存储在一个表中</p>\n        <a id=\"url\" href=\"https://tunkshif.github.io/\">- INDEX -</a>","text":"控制流 if a, b = 10, 20 if a == b then print(&#34;a=b&#34;) elseif a &gt; b then print(&#34;a&gt;b&#34;) else print(&#34;a&lt;b&#34;) end while...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#_1\"><span class=\"toc-text\">控制流</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#if\"><span class=\"toc-text\">if</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#while\"><span class=\"toc-text\">while</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#repeat-until\"><span class=\"toc-text\">repeat-until</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#for\"><span class=\"toc-text\">for</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#_2\"><span class=\"toc-text\">操作符</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#_3\"><span class=\"toc-text\">函数</span></a></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Linux下lua开发环境安装及安装luafilesystem","uid":"3f5fc0e8fdd43ef37c7942dee66a8753","slug":"zl/2016-01-01-28_Linux 下 lua 开发环境安装及安装 luafilesystem","date":"2024-04-03T03:47:33.146Z","updated":"2024-04-03T03:47:33.146Z","comments":true,"path":"api/articles/zl/2016-01-01-28_Linux 下 lua 开发环境安装及安装 luafilesystem.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"火云邪神语录：天下武功，无坚不破，唯快不破！Nginx 的看家本领就是速度，Lua 的拿手好戏亦是速度，这两者的结合在速度上无疑有基因上的优势。 最近一直再折腾这个，干脆就稍微整理下。以防后面继续跳坑！ 安装： 1.先安装 lua 的相关依赖安装 C 开发环境由于 gcc 包需要...","link":"","photos":[],"count_time":{"symbolsCount":"2.7k","symbolsTime":"2 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"evaluation and selection · ngc7293's blog","uid":"40bf5653b6a583c5046bd3b1a01456c8","slug":"zl/2016-01-01-286_evaluation and selection · ngc7293's blog","date":"2024-04-03T03:47:33.145Z","updated":"2024-04-03T03:47:33.145Z","comments":true,"path":"api/articles/zl/2016-01-01-286_evaluation and selection · ngc7293's blog.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"我们通过对一些方法比如错误率，召回率，ROC等来评价某个模型的优劣，并选择更好的ml算法 模型的评估与选择 关于模型的评估结果 关于评估有两个基本的概念，一个是错误率(error rate)$$ E=a/m $$ ，另外一个是精度（accuracy) $$ A=1-a/m $$ ...","link":"","photos":[],"count_time":{"symbolsCount":"2.7k","symbolsTime":"2 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}