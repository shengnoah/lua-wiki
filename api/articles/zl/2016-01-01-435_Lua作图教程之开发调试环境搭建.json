{"title":"Lua作图教程之开发调试环境搭建","uid":"1ebd33d2d88306110b2db56d002ac6f7","slug":"zl/2016-01-01-435_Lua作图教程之开发调试环境搭建","date":"2024-04-03T03:47:35.720Z","updated":"2024-04-03T03:47:35.720Z","comments":true,"path":"api/articles/zl/2016-01-01-435_Lua作图教程之开发调试环境搭建.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<p>5.1 以后就没有很好的lua IDE可用了，luastudio不错但是小贵，发现有位仁兄写了个 visual studio code的lua调试插件，试了一下还不错 <a href=\"https://github.com/actboy168/vscode-lua-debug\" target=\"_blank\" rel=\"noopener noreferrer\">插件源码</a>.</p>\n<h4 id=\"环境搭建\"><a href=\"#环境搭建\" class=\"headerlink\" title=\"环境搭建\"></a>环境搭建</h4><ul>\n<li><p>去微软官方下载vscode <a href=\"https://code.visualstudio.com/\" target=\"_blank\" rel=\"noopener noreferrer\">软件下载地址</a>.</p>\n</li>\n<li><p>安装Lua 5.3 Debug 插件，在vscode中按Ctrl+P，输入 ext install lua-debug </p>\n</li>\n</ul>\n<p><img src=\"https://img-blog.csdn.net/20161104010436388\" alt=\"\"/></p>\n<ul>\n<li>vscode的调试需要在一个文件夹中，随便建一个文件夹比如叫luaproject 里面建一个lua文件叫run.lua</li>\n<li><p>配置调试工具 </p>\n<p>  打开lua的调试配置 </p>\n</li>\n</ul>\n<p><img src=\"https://img-blog.csdn.net/20161104010854688\" alt=\"\"/></p>\n<p><img src=\"https://img-blog.csdn.net/20161104010908407\" alt=\"\"/></p>\n<p>直接调试lua文件修改lanuce里面的program项</p>\n<figure class=\"highlight json\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/><span class=\"line\">2</span><br/><span class=\"line\">3</span><br/><span class=\"line\">4</span><br/><span class=\"line\">5</span><br/><span class=\"line\">6</span><br/><span class=\"line\">7</span><br/><span class=\"line\">8</span><br/><span class=\"line\">9</span><br/><span class=\"line\">10</span><br/><span class=\"line\">11</span><br/><span class=\"line\">12</span><br/><span class=\"line\">13</span><br/><span class=\"line\">14</span><br/><span class=\"line\">15</span><br/><span class=\"line\">16</span><br/><span class=\"line\">17</span><br/><span class=\"line\">18</span><br/><span class=\"line\">19</span><br/><span class=\"line\">20</span><br/><span class=\"line\">21</span><br/><span class=\"line\">22</span><br/><span class=\"line\">23</span><br/><span class=\"line\">24</span><br/><span class=\"line\">25</span><br/><span class=\"line\">26</span><br/><span class=\"line\">27</span><br/><span class=\"line\">28</span><br/><span class=\"line\">29</span><br/><span class=\"line\">30</span><br/><span class=\"line\">31</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\">    {</span><br/><span class=\"line\">    <span class=\"attr\">&#34;version&#34;</span>: <span class=\"string\">&#34;0.2.0&#34;</span>,</span><br/><span class=\"line\">    <span class=\"attr\">&#34;configurations&#34;</span>: [</span><br/><span class=\"line\">        {</span><br/><span class=\"line\">            <span class=\"attr\">&#34;name&#34;</span>: <span class=\"string\">&#34;launch&#34;</span>,</span><br/><span class=\"line\">            <span class=\"attr\">&#34;type&#34;</span>: <span class=\"string\">&#34;lua&#34;</span>,</span><br/><span class=\"line\">            <span class=\"attr\">&#34;request&#34;</span>: <span class=\"string\">&#34;launch&#34;</span>,</span><br/><span class=\"line\">            <span class=\"attr\">&#34;stopOnEntry&#34;</span>: <span class=\"literal\">true</span>,</span><br/><span class=\"line\">            <span class=\"attr\">&#34;program&#34;</span>: <span class=\"string\">&#34;${workspaceRoot}/run.lua&#34;</span>,</span><br/><span class=\"line\">            <span class=\"attr\">&#34;cwd&#34;</span>: <span class=\"string\">&#34;${workspaceRoot}&#34;</span>,</span><br/><span class=\"line\">            <span class=\"attr\">&#34;path&#34;</span>: <span class=\"string\">&#34;${workspaceRoot}/?.lua&#34;</span>,</span><br/><span class=\"line\">            <span class=\"attr\">&#34;cpath&#34;</span>: <span class=\"string\">&#34;${workspaceRoot}/?.dll&#34;</span>,</span><br/><span class=\"line\">            <span class=\"attr\">&#34;arg&#34;</span>: [],</span><br/><span class=\"line\">            <span class=\"attr\">&#34;console&#34;</span>: <span class=\"string\">&#34;ansi&#34;</span></span><br/><span class=\"line\">        },</span><br/><span class=\"line\">        {</span><br/><span class=\"line\">            <span class=\"attr\">&#34;name&#34;</span>: <span class=\"string\">&#34;attach&#34;</span>,</span><br/><span class=\"line\">            <span class=\"attr\">&#34;type&#34;</span>: <span class=\"string\">&#34;lua&#34;</span>,</span><br/><span class=\"line\">            <span class=\"attr\">&#34;request&#34;</span>: <span class=\"string\">&#34;attach&#34;</span>,</span><br/><span class=\"line\">            <span class=\"attr\">&#34;stopOnEntry&#34;</span>: <span class=\"literal\">true</span>,</span><br/><span class=\"line\">            <span class=\"attr\">&#34;ip&#34;</span>: <span class=\"string\">&#34;localhost&#34;</span>,</span><br/><span class=\"line\">            <span class=\"attr\">&#34;port&#34;</span>: <span class=\"number\">4278</span>,</span><br/><span class=\"line\">            <span class=\"attr\">&#34;sourceMaps&#34;</span>: [</span><br/><span class=\"line\">                [</span><br/><span class=\"line\">                    <span class=\"string\">&#34;./&#34;</span>,</span><br/><span class=\"line\">                    <span class=\"string\">&#34;${workspaceRoot}&#34;</span></span><br/><span class=\"line\">                ]</span><br/><span class=\"line\">            ]</span><br/><span class=\"line\">        }</span><br/><span class=\"line\">    ]</span><br/><span class=\"line\">}</span><br/></pre></td></tr></tbody></table></figure>\n<p><img src=\"https://img-blog.csdn.net/20161104011657300\" alt=\"\"/></p>\n<ul>\n<li>开始调试 </li>\n</ul>\n<p>如果”stopOnEntry”: true 则进入调试状态便断在开头 按F5直接运行到打断点的地方。可以方便的查看这个变量的值和运行状态 </p>\n<p><img src=\"https://img-blog.csdn.net/20161104011855937\" alt=\"\"/></p>\n<h3 id=\"lua调试器详细说明\"><a href=\"#lua调试器详细说明\" class=\"headerlink\" title=\"lua调试器详细说明\"></a>lua调试器详细说明</h3><h5 id=\"模块功能\"><a href=\"#模块功能\" class=\"headerlink\" title=\"模块功能\"></a>模块功能</h5><p>vscode-debug-client.exe 代理客户端。在launch模式中，vscode-debug-client.exe会用vscode-debug.dll创建一个调试器进行调试。</p>\n<p>在attach模式中，vscode-debug-client.exe会连接一个远程的调试器(也是由vscode-debug.dll创建的)，vscode-debug-client.exe只负责在vscode-debug.dll和vscode之间转发消息。</p>\n<p>vscode-debug.dll 调试器的核心模块。你可以在你的程序中加载vscode-debug.dll并创建调试器，这样vscode就可以通过attach模式进行调试。</p>\n<p>luacore.dll lua核心模块。如果你的程序定制了lua，你可以替换掉它。</p>\n<h3 id=\"配置launch-json\"><a href=\"#配置launch-json\" class=\"headerlink\" title=\"配置launch.json\"></a>配置launch.json</h3><h5 id=\"launch模式，等同于使用lua-exe来执行你的代码。\"><a href=\"#launch模式，等同于使用lua-exe来执行你的代码。\" class=\"headerlink\" title=\"launch模式，等同于使用lua.exe来执行你的代码。\"></a>launch模式，等同于使用lua.exe来执行你的代码。</h5><p>program，lua.exe执行的入口文件</p>\n<p>cwd，lua.exe的当前目录</p>\n<p>stopOnEntry，开始调试时是否先暂停</p>\n<p>luadll，指定lua dll的路径，如有不填会加载luacore.dll</p>\n<p>path，用于初始化package.path</p>\n<p>cpath，用于初始化package.cpath</p>\n<p>arg，lua.exe的命令行参数，用于初始化arg</p>\n<p>console，lua的标准输出的编码，可选择utf8、ansi、none，当是none时不会重定向标准输出到vscode</p>\n<p>sourceMaps，一般不需要，作用同attach模式</p>","text":"5.1 以后就没有很好的lua IDE可用了，luastudio不错但是小贵，发现有位仁兄写了个 visual studio code的lua调试插件，试了一下还不错 插件源码. 环境搭建 去微软官方下载vscode 软件下载地址. 安装Lua 5.3 Debug 插件，在vsc...","link":"","photos":[],"count_time":{"symbolsCount":"2.1k","symbolsTime":"2 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA\"><span class=\"toc-text\">环境搭建</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#lua%E8%B0%83%E8%AF%95%E5%99%A8%E8%AF%A6%E7%BB%86%E8%AF%B4%E6%98%8E\"><span class=\"toc-text\">lua调试器详细说明</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E6%A8%A1%E5%9D%97%E5%8A%9F%E8%83%BD\"><span class=\"toc-text\">模块功能</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AElaunch-json\"><span class=\"toc-text\">配置launch.json</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#launch%E6%A8%A1%E5%BC%8F%EF%BC%8C%E7%AD%89%E5%90%8C%E4%BA%8E%E4%BD%BF%E7%94%A8lua-exe%E6%9D%A5%E6%89%A7%E8%A1%8C%E4%BD%A0%E7%9A%84%E4%BB%A3%E7%A0%81%E3%80%82\"><span class=\"toc-text\">launch模式，等同于使用lua.exe来执行你的代码。</span></a></li></ol></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"tolua实现分析","uid":"badacccfdd679d5ed5e22c4988c3b87d","slug":"zl/2016-01-01-434_tolua实现分析","date":"2024-04-03T03:47:35.720Z","updated":"2024-04-03T03:47:35.720Z","comments":true,"path":"api/articles/zl/2016-01-01-434_tolua实现分析.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"tolua++如何将c++对象导入到lua里tolua++为每一个传入lua的对象建立一个userdata，userdata的值，是c++对象的地址。userdata的metatable，是一个tolua++建立的，记录了userdata对应c++类型信息的表格，包括导出的成员变...","link":"","photos":[],"count_time":{"symbolsCount":"4.4k","symbolsTime":"4 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Lua特别之处笔记","uid":"1a1cf82db3f5dba4b69966eabcf53cea","slug":"zl/2016-01-01-436_Lua特别之处笔记","date":"2024-04-03T03:47:35.720Z","updated":"2024-04-03T03:47:35.720Z","comments":true,"path":"api/articles/zl/2016-01-01-436_Lua特别之处笔记.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":" &lt;a href=&quot;/2015/02/02/singleton_pattern/&quot; rel=&quot;next&quot; title=&quot;单例模式的析构问题和线程安全问题&quot;&gt; &lt;i class=&quot;fa fa-c...","link":"","photos":[],"count_time":{"symbolsCount":"3.2k","symbolsTime":"3 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}