{"title":"lua中执行shell","uid":"9bfba4a10873f31bc1439db844ebceb7","slug":"zl/2016-01-01-1097_lua中执行shell","date":"2024-04-03T03:47:33.000Z","updated":"2024-04-03T03:47:33.000Z","comments":true,"path":"api/articles/zl/2016-01-01-1097_lua中执行shell.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<div id=\"toc\" class=\"toc-article\">\n    <strong class=\"toc-title\">文章目录</strong>\n<pre><code>&lt;/div&gt;\n\n\n&lt;h3 id=&quot;直接执行Shell&quot;&gt;&lt;a href=&quot;#直接执行Shell&quot; class=&quot;headerlink&quot; title=&quot;直接执行Shell&quot;&gt;&lt;/a&gt;直接执行Shell&lt;/h3&gt;&lt;p&gt;直接执行xxx指令&lt;/p&gt;\n</code></pre>\n<figure class=\"highlight plain\"><table><tbody><tr><td class=\"code\"><pre><div class=\"line\">os.execute(&#39;xxx&#39;)</div></pre></td></tr></tbody></table></figure>\n<h3 id=\"以指定用户执行Shell\"><a href=\"#以指定用户执行Shell\" class=\"headerlink\" title=\"以指定用户执行Shell\"></a>以指定用户执行Shell</h3><p>pi用户执行ls</p>\n<figure class=\"highlight plain\"><table><tbody><tr><td class=\"code\"><pre><div class=\"line\">os.execute(&#39;su -s /bin/bash -c &#34;ls&#34; pi&#39;)</div></pre></td></tr></tbody></table></figure>\n<p>屏幕亮</p>\n<figure class=\"highlight plain\"><table><tbody><tr><td class=\"code\"><pre><div class=\"line\">os.execute(&#39;su -s /bin/bash -c &#34;xset dpms force on&#34; pi&#39;)</div></pre></td></tr></tbody></table></figure>\n<p>屏幕灭</p>\n<figure class=\"highlight plain\"><table><tbody><tr><td class=\"code\"><pre><div class=\"line\">os.execute(&#39;su -s /bin/bash -c &#34;xset dpms force off&#34; pi&#39;)</div></pre></td></tr></tbody></table></figure>\n<h3 id=\"获取执行结果\"><a href=\"#获取执行结果\" class=\"headerlink\" title=\"获取执行结果\"></a>获取执行结果</h3><p>获取ls执行结果</p>\n<figure class=\"highlight plain\"><table><tbody><tr><td class=\"code\"><pre><div class=\"line\">local t = io.popen(&#39;ls&#39;)</div><div class=\"line\">local s = t:read(&#34;*all&#34;)</div><div class=\"line\">t:close()</div></pre></td></tr></tbody></table></figure>","text":" 文章目录 &lt;/div&gt; &lt;h3 id=&quot;直接执行Shell&quot;&gt;&lt;a href=&quot;#直接执行Shell&quot; class=&quot;headerlink&quot; title=&quot;直接执行Shell&q...","link":"","photos":[],"count_time":{"symbolsCount":561,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BB%A5%E6%8C%87%E5%AE%9A%E7%94%A8%E6%88%B7%E6%89%A7%E8%A1%8CShell\"><span class=\"toc-text\">以指定用户执行Shell</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%8E%B7%E5%8F%96%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C\"><span class=\"toc-text\">获取执行结果</span></a></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"lua打印表格","uid":"a51fd8082cae080deb6378806577afa6","slug":"zl/2016-01-01-1096_lua打印表格","date":"2024-04-03T03:47:33.000Z","updated":"2024-04-03T03:47:33.000Z","comments":true,"path":"api/articles/zl/2016-01-01-1096_lua打印表格.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"Lua打印表格function print_table(t) local cache = {} local function print_table_sub (t, indent) if (cache[tostring(t)]) then print(indent .. &#34...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"evaluate division","uid":"73a2f21f043f75ef573965973c2c64cb","slug":"zl/2016-01-01-1098_evaluate division","date":"2024-04-03T03:47:33.000Z","updated":"2024-04-03T03:47:33.000Z","comments":true,"path":"api/articles/zl/2016-01-01-1098_evaluate division.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"思路巧妙的方法，化为双向图，例如等式a / b = 2.0，可以转化为两条边：，，其长度分别为2.0，0.5。对queries的每一项，先判断2个点是否都出现，然后判断是不是自己到自己，最后用dfs进行搜索，然后用递归进行每条边权重的相乘，如果最后找不到路径，则返回-1.0。12...","link":"","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}