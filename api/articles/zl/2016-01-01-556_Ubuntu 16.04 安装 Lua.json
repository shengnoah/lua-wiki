{"title":"Ubuntu 16.04 安装 Lua","uid":"b846e9031168232c457a5aa39f3aa147","slug":"zl/2016-01-01-556_Ubuntu 16.04 安装 Lua","date":"2024-04-03T03:47:35.819Z","updated":"2024-04-03T03:47:35.819Z","comments":true,"path":"api/articles/zl/2016-01-01-556_Ubuntu 16.04 安装 Lua.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<p>在 Linux 系统上使用以下命令编译安装 Lua：</p>\n<pre><code>curl -R -O http://www.lua.org/ftp/lua-5.3.3.tar.gz\ntar zxf lua-5.3.3.tar.gz\ncd lua-5.3.3\nmake linux test\n</code></pre>\n<h4 id=\"安装-make\"><a href=\"#安装-make\" class=\"headerlink\" title=\"安装 make\"></a>安装 make</h4><p>编译过程如果提示以下信息则需要先安装 make：</p>\n<pre><code># make linux test\nThe program &#39;make&#39; can be found in the following packages:\n * make\n * make-guile\nTry: apt install &lt;selected package&gt;\n</code></pre><p>安装 make</p>\n<pre><code># apt-get install make\n</code></pre><h4 id=\"安装-gcc\"><a href=\"#安装-gcc\" class=\"headerlink\" title=\"安装 gcc\"></a>安装 gcc</h4><p>编译过程提示以下信息则需要安装 gcc：</p>\n<pre><code># make linux test\ncd src &amp;&amp; make linux\nmake[1]: Entering directory &#39;/root/lua/lua-5.3.3/src&#39;\nmake all SYSCFLAGS=&#34;-DLUA_USE_LINUX&#34; SYSLIBS=&#34;-Wl,-E -ldl -lreadline&#34;\nmake[2]: Entering directory &#39;/root/lua/lua-5.3.3/src&#39;\ngcc -std=gnu99 -O2 -Wall -Wextra -DLUA_COMPAT_5_2 -DLUA_USE_LINUX    -c -o lapi.o lapi.c\nmake[2]: gcc: Command not found\n&lt;builtin&gt;: recipe for target &#39;lapi.o&#39; failed\nmake[2]: *** [lapi.o] Error 127\nmake[2]: Leaving directory &#39;/root/lua/lua-5.3.3/src&#39;\nMakefile:110: recipe for target &#39;linux&#39; failed\nmake[1]: *** [linux] Error 2\nmake[1]: Leaving directory &#39;/root/lua/lua-5.3.3/src&#39;\nMakefile:55: recipe for target &#39;linux&#39; failed\nmake: *** [linux] Error 2\n</code></pre><p>安装 gcc：</p>\n<pre><code># apt-get install gcc\n</code></pre><p>安装 gcc 过程提示以下信息：</p>\n<pre><code>E: Failed to fetch http://cn.archive.ubuntu.com/ubuntu/pool/main/b/binutils/binutils_2.26.1-1ubuntu1~16.04_amd64.deb  404  Not Found [IP: 115.28.122.210 80]\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\n</code></pre><p>先更新安装源：</p>\n<pre><code># apt-get update\n</code></pre><p>再次安装 gcc 成功。</p>\n<h4 id=\"安装-libreadline-dev\"><a href=\"#安装-libreadline-dev\" class=\"headerlink\" title=\"安装 libreadline-dev\"></a>安装 libreadline-dev</h4><p>编译过程提示以下信息则需要安装 libreadline-dev：</p>\n<pre><code>lua.c:80:31: fatal error: readline/readline.h: No such file or directory\ncompilation terminated.\n</code></pre><p>安装 libreadline-dev：</p>\n<pre><code># apt-get install libreadline-dev\n</code></pre><p>再次编译成功。</p>\n<h4 id=\"检查安装\"><a href=\"#检查安装\" class=\"headerlink\" title=\"检查安装\"></a>检查安装</h4><p>用以下方法检查安装，如果安装成功会有版本信息提示：</p>\n<pre><code># src/lua -v\nLua 5.3.3  Copyright (C) 1994-2016 Lua.org, PUC-Rio\n</code></pre><h4 id=\"编译安装\"><a href=\"#编译安装\" class=\"headerlink\" title=\"编译安装\"></a>编译安装</h4><pre><code># make linux install\n</code></pre>","text":"在 Linux 系统上使用以下命令编译安装 Lua： curl -R -O http://www.lua.org/ftp/lua-5.3.3.tar.gz tar zxf lua-5.3.3.tar.gz cd lua-5.3.3 make linux test 安装 make编...","link":"","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85-make\"><span class=\"toc-text\">安装 make</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85-gcc\"><span class=\"toc-text\">安装 gcc</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85-libreadline-dev\"><span class=\"toc-text\">安装 libreadline-dev</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%A3%80%E6%9F%A5%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">检查安装</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">编译安装</span></a></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"redis lua脚本实践","uid":"80634426fe8d58b38a0ab1cdae66b618","slug":"zl/2016-01-01-55_redis lua脚本实践","date":"2024-04-03T03:47:35.820Z","updated":"2024-04-03T03:47:35.820Z","comments":true,"path":"api/articles/zl/2016-01-01-55_redis lua脚本实践.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"redis lua简介Lua 脚本功能是Reids2.6版本的最大亮点， 通过内嵌对Lua环境的支持，Redis解决了长久以来不能高效地处理CAS（check-and-set）命令的缺点，并且可以通过组合使用多个命令，轻松实现以前很难实现或者不能高效实现的模式。 基本命令EVAL...","link":"","photos":[],"count_time":{"symbolsCount":"12k","symbolsTime":"11 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"lua 5.4分代研究及luajit分代移植","uid":"364c0a0d0ae5add8dce678e5b92cbc98","slug":"zl/2016-01-01-555_lua 5.4分代研究及luajit分代移植","date":"2024-04-03T03:47:35.819Z","updated":"2024-04-03T03:47:35.819Z","comments":true,"path":"api/articles/zl/2016-01-01-555_lua 5.4分代研究及luajit分代移植.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"lua垃圾回收发展历程 为什么不用引用计数？ 引用计数有循环引用问题，会导致内存泄漏 应用计数嗯外开销大，赋值的时候会带来额外引用计数计算的开销。尤其是在内存比较稳定，没有新内存申请和释放的时候，你也需要承担这部分开销。 5.0及以前使用的是stop the world的标记清除...","link":"","photos":[],"count_time":{"symbolsCount":"9.3k","symbolsTime":"8 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}