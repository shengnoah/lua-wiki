{"title":"Lua C API","uid":"0d1fbef5ebee69a60fb3f2ffbd51dab1","slug":"zl/2016-01-01-669_Lua C API","date":"2024-04-03T03:47:35.893Z","updated":"2024-04-03T03:47:35.893Z","comments":true,"path":"api/articles/zl/2016-01-01-669_Lua C API.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<ul>\n<li>云风Blog：<a href=\"http://blog.codingnow.com/2015/05/lua_c_api.html\">Lua C API 的正确用法</a></li>\n<li>C读取和调用Lua文件的库：<code>lua.h, lauxlib.h, lualib.h</code></li>\n<li>包括：读写Lua全局变量的函数、调用Lua函数的函数、运行Lua代码片段的函数、注册C函数然后可以在Lua中被调用的函数</li>\n<li>C和Lua之间的数据交换，通过对栈上的值进行操作。栈的使用解决：Lua会自动进行垃圾回收，而C要求显示的分配内存单元；Lua中的动态类型和C的静态类型。</li>\n<li><strong>压入元素</strong>：</li>\n</ul>\n<div class=\"highlight\"><pre><code class=\"language-C\" data-lang=\"C\">void lua_pushnil(lua_State *L);                                     //插入空值\nvoid lua_pushboolean(lua_State *L, int bool);                       //插入布尔值\nvoid lua_pushnumber(lua_State *L, double n);                        //插入double\nvoid lua_pushlstring(lua_State *L, const char* s, size_t length);   //插入任意字符串\nvoid lua_pushstring(lua_State *L, const char* s);                   //插入带&#39;","text":" 云风Blog：Lua C API 的正确用法 C读取和调用Lua文件的库：lua.h, lauxlib.h, lualib.h 包括：读写Lua全局变量的函数、调用Lua函数的函数、运行Lua代码片段的函数、注册C函数然后可以在Lua中被调用的函数 C和Lua之间的数据交换，通...","link":"","photos":[],"count_time":{"symbolsCount":596,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"toc":"","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Lua语言进阶","uid":"dc394ec5eb5b7d637233ad2b80dc6e95","slug":"zl/2016-01-01-670_Lua语言进阶","date":"2024-04-03T03:47:35.897Z","updated":"2024-04-03T03:47:35.898Z","comments":true,"path":"api/articles/zl/2016-01-01-670_Lua语言进阶.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":" 0x01 Lua中什么值为假？12nilfalse 0x02 语法举例 当在一个数字后面写 .. 时，必须加上空格以防止被解释出错。 lua会自动在string 和numbers之间自动运行类型转换，当一个字符串使用算术操作符时，string就会被转化成数字。 123456pr...","link":"","photos":[],"count_time":{"symbolsCount":"3.3k","symbolsTime":"3 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Lua table 学习笔记","uid":"3c308f04254437109c4c8f5fc6f1f496","slug":"zl/2016-01-01-66_Lua table 学习笔记","date":"2024-04-03T03:47:35.893Z","updated":"2024-04-03T03:47:35.897Z","comments":true,"path":"api/articles/zl/2016-01-01-66_Lua table 学习笔记.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"Lua table定义 table类型实现了“关联数组”。“关联数组” 是一种具有特殊索引方式的数组，索引可为字符串string或(整)数number类型. local corp = &#123; web = &#34;www.google.com&#34;, --索引为字符串，...","link":"","photos":[],"count_time":{"symbolsCount":"4.8k","symbolsTime":"4 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}