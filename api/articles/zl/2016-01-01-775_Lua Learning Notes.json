{"title":"Lua Learning Notes","uid":"4b8499e3ac801948195a5de99e588873","slug":"zl/2016-01-01-775_Lua Learning Notes","date":"2024-04-03T03:47:36.012Z","updated":"2024-04-03T03:47:36.012Z","comments":true,"path":"api/articles/zl/2016-01-01-775_Lua Learning Notes.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<h3 id=\"_1\">注释</h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">-- 单行注释</span>\n<p><span class=\"cm\">–[[</span><br />\n<span class=\"cm\">    多行注释</span><br />\n<span class=\"cm\">]]</span><br />\n</pre></div></p>\n<h3 id=\"_2\">变量</h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"s2\">&#34;string&#34;</span>\n<span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"mi\">10</span>\n<span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"kc\">nil</span> <span class=\"c1\">-- &#39;b&#39; deleted</span>\n<span class=\"kd\">local</span> <span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n</pre></div>\n<p>变量没有类型, 默认为全局变量, 使用<code>local</code>关键字声明局部变量, 要删除变量只需要将其赋值为<code>nil</code>即可</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">3</span> <span class=\"o\">*</span> <span class=\"mi\">5</span> <span class=\"c1\">-- 同时赋值多个变量</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">..</span><span class=\"s1\">&#39;,&#39;</span><span class=\"o\">..</span><span class=\"n\">b</span><span class=\"p\">)</span> <span class=\"c1\">-- &#39;10, 15&#39;, 用..连接字符串</span>\n<span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">x</span> <span class=\"c1\">-- 交换变量的值</span>\n<span class=\"n\">a</span><span class=\"p\">[</span><span class=\"s1\">&#39;x&#39;</span><span class=\"p\">],</span> <span class=\"n\">a</span><span class=\"p\">[</span><span class=\"s1\">&#39;y&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">a</span><span class=\"p\">[</span><span class=\"s1\">&#39;y&#39;</span><span class=\"p\">],</span> <span class=\"n\">a</span><span class=\"p\">[</span><span class=\"s1\">&#39;x&#39;</span><span class=\"p\">]</span>\n<span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">f</span><span class=\"p\">()</span> <span class=\"c1\">-- 将函数f()返回的两个值分别赋给变量a, b</span>\n</pre></div>\n<p>对多个变量同时赋值时, 会先计算等号右侧数据再进行赋值, 可以这样来交换变量的值</p>\n<p>当等号右侧值不够时, 会赋值为<code>nil</code>, 当等号右侧值过多时, 会自动忽略</p>\n<h3 id=\"_3\">数据类型</h3>\n<p><strong><em>nil boolean number string userdata function thread table</em></strong></p>\n<p><code>nil</code>表示无效值, <code>number</code>为实数, <strong>都为双精度浮点数</strong>, <code>table</code>类似于数组或字典, <code>userdata</code>表示存储在Lua变量中的C数据结构, 使用<code>type()</code>函数可以获得数据类型</p>\n<h5 id=\"_4\">字符串</h5>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"s2\">&#34;string&#34;</span>\n<span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;test&#39;</span>\n<span class=\"n\">html</span> <span class=\"o\">=</span> <span class=\"s\">[[</span>\n<span class=\"s\">&lt;html&gt;</span>\n<span class=\"s\">&lt;head&gt;</span>\n<span class=\"s\">    &lt;title&gt;Title&lt;/title&gt;</span>\n<span class=\"s\">&lt;/head&gt;</span>\n<span class=\"s\">&lt;body&gt;</span>\n<span class=\"s\">    &lt;p&gt;Test&lt;/p&gt;</span>\n<span class=\"s\">&lt;/body&gt;</span>\n<span class=\"s\">&lt;/html&gt;</span>\n<span class=\"s\">]]</span>\n</pre></div>\n<p>用双引号或者单引号来表示字符串, 用两个方括号来表示跨行字符串</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;8&#39;</span>\n<span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;2&#39;</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">a</span> <span class=\"o\">+</span> <span class=\"n\">b</span><span class=\"p\">)</span> <span class=\"c1\">-- 10</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">a</span> <span class=\"o\">..</span> <span class=\"n\">b</span><span class=\"p\">)</span> <span class=\"c1\">-- &#39;82&#39;</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"mi\">23</span> <span class=\"o\">..</span> <span class=\"mi\">33</span><span class=\"p\">)</span> <span class=\"c1\">-- &#39;2333&#39;</span>\n<p><span class=\"n\">text</span> <span class=\"o\">=</span> <span class=\"s1\">'Hello World!'</span><br />\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"o\">#</span><span class=\"n\">text</span><span class=\"p\">)</span> <span class=\"c1\">– 12</span><br />\n</pre></div></p>\n<p>对字符串进行运算操作时, 会<strong>先将字符串转换成数字</strong>再进行运算, 使用<code>..</code>来连接两个字符串</p>\n<p>使用<code>#str</code>来获取字符串长度</p>\n<h5 id=\"_5\">表</h5>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n<span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">&#39;a&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;b&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;c&#39;</span><span class=\"p\">}</span>\n<span class=\"n\">lst</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"n\">a</span><span class=\"o\">=</span><span class=\"s1\">&#39;A&#39;</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"o\">=</span><span class=\"s1\">&#39;B&#39;</span><span class=\"p\">,</span> <span class=\"n\">c</span><span class=\"o\">=</span><span class=\"s1\">&#39;C&#39;</span><span class=\"p\">}</span>\n<span class=\"n\">a</span><span class=\"p\">[</span><span class=\"s1\">&#39;KEY&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;d&#39;</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">])</span> <span class=\"c1\">-- &#39;b&#39;</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">[</span><span class=\"s1\">&#39;KEY&#39;</span><span class=\"p\">])</span> <span class=\"c1\">-- &#39;d&#39;</span>\n</pre></div>\n<p>用花括号表示表, 数组默认从<code>1</code>开始索引, 数组的索引可以是数字也可以是字符串</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n<span class=\"n\">a</span><span class=\"p\">[</span><span class=\"s1\">&#39;location&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;NYC&#39;</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">.</span><span class=\"n\">location</span><span class=\"p\">)</span>\n</pre></div>\n<p>当索引为字符串时, 可以用<code>.</code>来进行索引</p>\n        <a id=\"url\" href=\"https://tunkshif.github.io/\">- INDEX -</a>","text":"注释 -- 单行注释 –[[ 多行注释 ]] 变量 a = &#34;string&#34; b = 10 b = nil -- &#39;b&#39; deleted local c = 0 变量没有类型, 默认为全局变量, 使用local关键字声明局部变量, 要删除变量只需要...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#_1\"><span class=\"toc-text\">注释</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#_2\"><span class=\"toc-text\">变量</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#_3\"><span class=\"toc-text\">数据类型</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#_4\"><span class=\"toc-text\">字符串</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#_5\"><span class=\"toc-text\">表</span></a></li></ol></li></ol></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"lua","uid":"df60e476b394b1dd4755ec96c53302ff","slug":"zl/2016-01-01-776_lua","date":"2024-04-03T03:47:36.012Z","updated":"2024-04-03T03:47:36.013Z","comments":true,"path":"api/articles/zl/2016-01-01-776_lua.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"LuaInterface 库LuaInterface下载地址 LuaInterface是一个用于在Lua语言和Microsoft .NET平台的公共语言运行时（CLR）之间集成的库。 Lua脚本可以使用它来实例化CLR对象，访问属性，调用方法，甚至使用Lua函数处理事件。 Lua...","link":"","photos":[],"count_time":{"symbolsCount":"2.6k","symbolsTime":"2 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"lua learning","uid":"a93951064ce695bee6f68c691297e02f","slug":"zl/2016-01-01-774_lua learning","date":"2024-04-03T03:47:36.012Z","updated":"2024-04-03T03:47:36.012Z","comments":true,"path":"api/articles/zl/2016-01-01-774_lua learning.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"https://www.runoob.com/lua/lua-miscellaneous-operator.html data struture: nil boolean number: 双精度的实浮点数 string funcion: 由C或lua编写的函数 userdata:...","link":"","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}