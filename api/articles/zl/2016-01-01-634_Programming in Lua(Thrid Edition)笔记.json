{"title":"Programming in Lua(Thrid Edition)笔记","uid":"a502732b8dc58224e972b6c53538b8c4","slug":"zl/2016-01-01-634_Programming in Lua(Thrid Edition)笔记","date":"2024-04-03T03:47:35.860Z","updated":"2024-04-03T03:47:35.861Z","comments":true,"path":"api/articles/zl/2016-01-01-634_Programming in Lua(Thrid Edition)笔记.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<h3 id=\"1-Getting-Started\"><a href=\"#1-Getting-Started\" class=\"headerlink\" title=\"1 Getting Started\"></a>1 Getting Started</h3>\n<ul>\n<li><p>statements之间的分号可选</p>\n</li>\n<li><p><code>-i</code>选项会让Lua在执行完指定chunk后进入交互模式</p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\"> lua -i prog</span><br/></pre></td></tr></tbody></table></figure>\n</li>\n<li><p>在交互模式中可用dofile()函数运行一个外部文件chunk</p>\n</li>\n<li><p>退出交互模式：ctrl-D in UNIX，ctrl-Z in Windows，os.exit()</p>\n</li>\n<li><p>标识符尽量不要以一个或多个下划线开头，其多在Lua内有特殊用处</p>\n</li>\n<li><p>单行注释<code>--</code>，多行注释<code>--[[</code>和<code>]]--</code>，<code>---[[</code>只起到单行注释的作用</p>\n</li>\n<li><p>use Lua as a script interpreter in UNIX systems: 在脚本的第一行加上：</p>\n<figure class=\"highlight lua\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\">#!/usr/<span class=\"keyword\">local</span>/bin/lua</span><br/></pre></td></tr></tbody></table></figure>\n</li>\n</ul>\n<p>或者<br/></p><figure class=\"highlight lua\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\">#!/usr/<span class=\"keyword\">local</span>/env lua</span><br/></pre></td></tr></tbody></table></figure><p></p>\n<ul>\n<li><p><code>-e</code>选项允许直接执行命令行里的代码</p>\n<figure class=\"highlight lua\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\">% lua -e <span class=\"string\">&#34;print(math.sin(12))&#34;</span></span><br/></pre></td></tr></tbody></table></figure>\n</li>\n<li><p><code>-l</code>选项会加载一个库</p>\n<figure class=\"highlight lua\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\">% lua -llib</span><br/></pre></td></tr></tbody></table></figure>\n</li>\n</ul>\n<p>会加载文件名为<code>lib.lua</code>的库</p>\n<ul>\n<li>命令行中的脚本参数，以脚本名为0，右边的为正，左边的为负<figure class=\"highlight lua\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\">% lua -e <span class=\"string\">&#34;sin=math.sin&#34;</span> script a b</span><br/></pre></td></tr></tbody></table></figure>\n</li>\n</ul>\n<p>参数会被存在arg表中，内容如下：<br/></p><figure class=\"highlight plain\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/><span class=\"line\">2</span><br/><span class=\"line\">3</span><br/><span class=\"line\">4</span><br/><span class=\"line\">5</span><br/><span class=\"line\">6</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\">arg[-3] = &#34;lua&#34;</span><br/><span class=\"line\">arg[-2] = &#34;-e&#34;</span><br/><span class=\"line\">arg[-1] = &#34;sin=math.sin&#34;</span><br/><span class=\"line\">arg[0] = &#34;script&#34;</span><br/><span class=\"line\">arg[1] = &#34;a&#34;</span><br/><span class=\"line\">arg[2] = &#34;b&#34;</span><br/></pre></td></tr></tbody></table></figure><p></p>","text":"1 Getting Started statements之间的分号可选 -i选项会让Lua在执行完指定chunk后进入交互模式 1 lua -i prog 在交互模式中可用dofile()函数运行一个外部文件chunk 退出交互模式：ctrl-D in UNIX，ctrl-Z i...","link":"","photos":[],"count_time":{"symbolsCount":687,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-Getting-Started\"><span class=\"toc-text\">1 Getting Started</span></a></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Lua Key","uid":"8e3fd918d82438081d514e30e03d32ba","slug":"zl/2016-01-01-633_Lua Key","date":"2024-04-03T03:47:35.860Z","updated":"2024-04-03T03:47:35.860Z","comments":true,"path":"api/articles/zl/2016-01-01-633_Lua Key.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"12345678910111213141516171819202122232425262728293031323334353637383940-- 查询读取按键KEY = 3LEDB = 5 LEDR = 6LEDG = 7gpio.mode(KEY,gpio.INPUT)gpi...","link":"","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"nginx+nginx_lua实现WAF防护功能","uid":"fb5e643e6b664b70a86ae4c86017db1c","slug":"zl/2016-01-01-632_nginx+nginx_lua实现WAF防护功能","date":"2024-04-03T03:47:35.859Z","updated":"2024-04-03T03:47:35.860Z","comments":true,"path":"api/articles/zl/2016-01-01-632_nginx+nginx_lua实现WAF防护功能.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"Do one thing at a time, and do well.nginx_luanginx_lua模块是nginx的第三方模块，它可以将lua语言嵌入到nginx配置中，从而极大的扩展了nginx的能力，nginx以高并发而知名，而lua作为嵌入式语言轻便，两者的结合可...","link":"","photos":[],"count_time":{"symbolsCount":"4.2k","symbolsTime":"4 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}