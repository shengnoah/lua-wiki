{"title":"lua 连接 mysql","uid":"37537d2afe4044af11eeb8af87372de3","slug":"zl/2016-01-01-1099_lua 连接 mysql","date":"2024-04-03T03:47:33.000Z","updated":"2024-04-03T03:47:33.001Z","comments":true,"path":"api/articles/zl/2016-01-01-1099_lua 连接 mysql.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<figure class=\"highlight lua\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/><span class=\"line\">2</span><br/><span class=\"line\">3</span><br/><span class=\"line\">4</span><br/><span class=\"line\">5</span><br/><span class=\"line\">6</span><br/><span class=\"line\">7</span><br/><span class=\"line\">8</span><br/><span class=\"line\">9</span><br/><span class=\"line\">10</span><br/><span class=\"line\">11</span><br/><span class=\"line\">12</span><br/><span class=\"line\">13</span><br/><span class=\"line\">14</span><br/><span class=\"line\">15</span><br/><span class=\"line\">16</span><br/><span class=\"line\">17</span><br/><span class=\"line\">18</span><br/><span class=\"line\">19</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span> <span class=\"string\">&#34;luasql.mysql&#34;</span></span><br/><span class=\"line\"></span><br/><span class=\"line\"></span><br/><span class=\"line\">env = luasql.mysql()</span><br/><span class=\"line\"></span><br/><span class=\"line\"><span class=\"comment\">-- 连接数据库</span></span><br/><span class=\"line\">conn = env:connect(<span class=\"string\">&#34;数据库名&#34;</span>, <span class=\"string\">&#34;用户名&#34;</span>, <span class=\"string\">&#34;密码&#34;</span>, <span class=\"string\">&#34;IP地址&#34;</span>, 端口)</span><br/><span class=\"line\"></span><br/><span class=\"line\"><span class=\"comment\">-- 设置数据库的编码格式</span></span><br/><span class=\"line\">conn:<span class=\"built_in\">execute</span><span class=\"string\">&#34;SET NAMES UTF8&#34;</span></span><br/><span class=\"line\"></span><br/><span class=\"line\"><span class=\"comment\">-- 执行数据库操作</span></span><br/><span class=\"line\">cur = conn:<span class=\"built_in\">execute</span>(<span class=\"string\">&#34;sql语句&#34;</span>)</span><br/><span class=\"line\">row = cur:fetch({},<span class=\"string\">&#34;a&#34;</span>)</span><br/><span class=\"line\"></span><br/><span class=\"line\"><span class=\"comment\">-- 关闭数据库连接</span></span><br/><span class=\"line\">conn:<span class=\"built_in\">close</span>()</span><br/><span class=\"line\"><span class=\"comment\">-- 关闭数据库环境</span></span><br/><span class=\"line\">env:<span class=\"built_in\">close</span>()</span><br/></pre></td></tr></tbody></table></figure>\n<p><strong>注</strong></p>\n<p><code>Lua &gt;= 5.2</code></p>\n<figure class=\"highlight lua\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\">mysql = <span class=\"built_in\">require</span> <span class=\"string\">&#34;luasql.mysql&#34;</span></span><br/></pre></td></tr></tbody></table></figure>","text":"12345678910111213141516171819require &#34;luasql.mysql&#34;env = luasql.mysql()-- 连接数据库conn = env:connect(&#34;数据库名&#34;, &#34;用户名&#34;, &#3...","link":"","photos":[],"count_time":{"symbolsCount":394,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"toc":"","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"evaluate division","uid":"73a2f21f043f75ef573965973c2c64cb","slug":"zl/2016-01-01-1098_evaluate division","date":"2024-04-03T03:47:33.000Z","updated":"2024-04-03T03:47:33.000Z","comments":true,"path":"api/articles/zl/2016-01-01-1098_evaluate division.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"思路巧妙的方法，化为双向图，例如等式a / b = 2.0，可以转化为两条边：，，其长度分别为2.0，0.5。对queries的每一项，先判断2个点是否都出现，然后判断是不是自己到自己，最后用dfs进行搜索，然后用递归进行每条边权重的相乘，如果最后找不到路径，则返回-1.0。12...","link":"","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"编译luajitx86动态链接库","uid":"68906d31d8383afe1390c9f2c14e0d16","slug":"zl/2016-01-01-1093_编译luajitx86动态链接库","date":"2024-04-03T03:47:32.999Z","updated":"2024-04-03T03:47:32.999Z","comments":true,"path":"api/articles/zl/2016-01-01-1093_编译luajitx86动态链接库.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"1.下载并解压LuaJIThttp://luajit.org/download.html 2.修改为静态编译打开LuaJIT目录srcmsvcbuild.bat搜索替换LJARCH=x64为LJARCH=x86搜索替换/MD为/MT 3.使用VS命令提示符cd /d LuaJIT...","link":"","photos":[],"count_time":{"symbolsCount":190,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}