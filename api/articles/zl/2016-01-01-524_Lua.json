{"title":"Lua","uid":"15b0cdc6d03f6c3f6bf8d3a7ff197317","slug":"zl/2016-01-01-524_Lua","date":"2024-04-03T03:47:35.797Z","updated":"2024-04-03T03:47:35.797Z","comments":true,"path":"api/articles/zl/2016-01-01-524_Lua.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<blockquote>\n  <p>Lua 巴西里约热内卢天主教大学 1993年 脚本语言  标准 C 语言</p>\n</blockquote>\n<p>官网： <a href=\"http://www.lua.org/\">www.lua.org</a></p>\n<h4 id=\"搭建环境\">搭建环境</h4>\n<ul>\n  <li>\n    <p>编译官方源码（windews 编译相对较繁琐，要有编译程序，比如 vs，windows 建议使用 LuaForWindows 安装包；linux 和 macos 相对简单，在下载的源源文件的 doc 中有编译步骤）</p>\n<pre><code>&lt;p&gt;&lt;a href=&quot;http://www.lua.org/download.html&quot;&gt;http://www.lua.org/download.html&lt;/a&gt;&lt;/p&gt;\n</code></pre>\n  </li>\n  <li>\n    <p>下载编译好的文件直接安装（可能版本比较旧）</p>\n  </li>\n  <li>\n    <p>使用第三方的 IDE</p>\n  </li>\n</ul>\n<h4 id=\"解释器和编译器\">解释器和编译器</h4>\n<p>个人理解，解释器类似于 Java 中的 java 命令，可以直接使用 java className 差不多，只不过 java 得先编译，而 Lua 不用先编译（边编译边执行），直接执行 lua fileName 。Lua 的编译器就和 Java 的编译器类一样了，都是编译成二进制文件。</p>\n<h4 id=\"约定\">约定</h4>\n<ul>\n  <li>\n    <p>Chunks 和 Blocks</p>\n<pre><code>&lt;blockquote&gt;\n  &lt;p&gt;Block: A block is a list of statements, which are executed sequentially&lt;/p&gt;\n\n  &lt;p&gt;Chunk: The unit of compilation of Lua is called a &lt;em&gt;chunk&lt;/em&gt;. Syntactically, a chunk is simply a block&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;Block 是一个或多个顺序执行的语句，Chunk 是 Lua 的一个编译单元（可以是一个 Lua 文件，一系列语法集合等），在语法结构上 Chunk 仅仅是一个 Block。&lt;/p&gt;\n\n&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;chunk ::= &#123;stat [&amp;#39;;&amp;#39;]&#125; -- chunk 可以是一个语句，可以是多个语句集合，还可以是函数，比如一个文件（文件中可能有比较复杂的操作），或者交互模式下的一行命令（一行命令也可能有很多的操作）\n</code></pre>\n<p>stat ::= do black end – do … end 之间的部分被称为一个 block<br />\nchunk ::= block – Syntactically, a chunk is simply a block<br />\n</code></pre></div>    </div></p>\n  </li>\n  <li>\n    <p>命名</p>\n<pre><code>&lt;blockquote&gt;\n  &lt;p&gt;&lt;em&gt;Names&lt;/em&gt; (also called &lt;em&gt;identifiers&lt;/em&gt;) in Lua can be any string of letters, digits, and underscores, not beginning with a digit and not being a reserved word. Identifiers are used to name variables, table fields, and labels.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;Lua is a case-sensitive language.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;&lt;em&gt;Lua 大小写敏感&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;保留字：&lt;/p&gt;\n\n&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; and       break     do        else      elseif    end\n</code></pre>\n<p>false     for       function  goto      if        in<br />\nlocal     nil       not       or        repeat    return<br />\nthen      true      until     while<br />\n</code></pre></div>    </div><br />\n<p>尽量不要声明以下滑线开头，有一个或多个大写字母的变量名称，类似 _VERSION 等，这些 Lua 可能内置了全局变量。一切皆变量，没有赋值前，所有的变量都是 nil，包括不存在的变量。</p></p>\n  </li>\n  <li>\n    <p>变量</p>\n<pre><code>&lt;blockquote&gt;\n  &lt;p&gt;Variables are places that store values. There are three kinds of variables in Lua: global variables, local variables, and table fields.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;全局变量，局部变量，表域&lt;/p&gt;\n\n&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;-- 不使用 local 声明的变量都是全局变量(函数的形式参数是特殊的局部变量)&lt;/span&gt;\n</code></pre>\n<p><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"mi\">5</span> <span class=\"c1\">– global</span><br />\n<span class=\"kd\">local</span> <span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"mi\">5</span> <span class=\"c1\">– local</span></p>\n<p><span class=\"k\">function</span> <span class=\"nf\">t</span><span class=\"p\">()</span><br />\n<span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"mi\">5</span> <span class=\"c1\">– global</span><br />\n<span class=\"kd\">local</span> <span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"mi\">5</span> <span class=\"c1\">– local</span><br />\n<span class=\"k\">end</span><br />\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">,</span> <span class=\"n\">d</span><span class=\"p\">)</span> <span class=\"c1\">–&gt; 5, nil</span></p>\n<p><span class=\"k\">do</span><br />\n<span class=\"n\">e</span> <span class=\"o\">=</span> <span class=\"mi\">5</span> <span class=\"c1\">– global</span><br />\n<span class=\"kd\">local</span> <span class=\"n\">f</span> <span class=\"o\">=</span> <span class=\"mi\">5</span> <span class=\"c1\">– local</span><br />\n<span class=\"k\">end</span><br />\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">e</span><span class=\"p\">,</span> <span class=\"n\">f</span><span class=\"p\">)</span> <span class=\"c1\">–&gt; 5, nil</span><br />\n</code></pre></div>    </div></p>\n  </li>\n  <li>\n    <p>注释</p>\n<pre><code>&lt;p&gt;单行：&lt;code class=&quot;highlighter-rouge&quot;&gt;--&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;多行：&lt;code class=&quot;highlighter-rouge&quot;&gt;--[[ --]]&lt;/code&gt;&lt;/p&gt;\n\n&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;-- 单行注释&lt;/span&gt;\n</code></pre>\n<p><span class=\"cm\">–[[<br />\n多行注释<br />\n–]]</span><br />\n</code></pre></div>    </div></p>\n  </li>\n  <li>\n    <p>命令行操作</p>\n<pre><code>&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;lua [options] [script [args]] &lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;-e：直接执行命令 &lt;code class=&quot;highlighter-rouge&quot;&gt;lua -e &amp;#34;print(_VERSION)&amp;#34;&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;-l：加载文件&lt;/p&gt;\n\n&lt;p&gt;-i：进入交互模式&lt;/p&gt;\n</code></pre>\n  </li>\n</ul>","text":" Lua 巴西里约热内卢天主教大学 1993年 脚本语言 标准 C 语言 官网： www.lua.org 搭建环境 编译官方源码（windews 编译相对较繁琐，要有编译程序，比如 vs，windows 建议使用 LuaForWindows 安装包；linux 和 macos 相...","link":"","photos":[],"count_time":{"symbolsCount":"3.7k","symbolsTime":"3 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83\"><span class=\"toc-text\">搭建环境</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E9%87%8A%E5%99%A8%E5%92%8C%E7%BC%96%E8%AF%91%E5%99%A8\"><span class=\"toc-text\">解释器和编译器</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%BA%A6%E5%AE%9A\"><span class=\"toc-text\">约定</span></a></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Lua String函数","uid":"4bee47ec800a087ddc042e55e65b90b3","slug":"zl/2016-01-01-526_Lua String函数","date":"2024-04-03T03:47:35.801Z","updated":"2024-04-03T03:47:35.802Z","comments":true,"path":"api/articles/zl/2016-01-01-526_Lua String函数.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"local str = “hellolua，helloworld”–返回索引，找不到返回nilprint(string.find(str,”hello”))–匹配返回字符串，一般用于判断字符串是否存在print(string.match(str,”hello”))– 字符串截取(...","link":"","photos":[],"count_time":{"symbolsCount":418,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Lua源码阅读：基本数据类型String","uid":"6c3a4958fc2c0f6365b04214dda6375f","slug":"zl/2016-01-01-525_Lua源码阅读：基本数据类型String","date":"2024-04-03T03:47:35.797Z","updated":"2024-04-03T03:47:35.798Z","comments":true,"path":"api/articles/zl/2016-01-01-525_Lua源码阅读：基本数据类型String.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"Lua中对于String的实现。 Lua使用TString结构体代表一个字符串对象。 12345678910111213141516171819** Header for string value; string bytes follow the end of this stru...","link":"","photos":[],"count_time":{"symbolsCount":"3.4k","symbolsTime":"3 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}