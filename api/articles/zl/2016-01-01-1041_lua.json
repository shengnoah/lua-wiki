{"title":"lua","uid":"df60e476b394b1dd4755ec96c53302ff","slug":"zl/2016-01-01-1041_lua","date":"2024-04-03T03:47:32.978Z","updated":"2024-04-03T03:47:32.979Z","comments":true,"path":"api/articles/zl/2016-01-01-1041_lua.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<div id=\"toc\" class=\"toc-article\">\n\t\t\t<strong class=\"toc-title\">Contents</strong>\n<pre><code>\t&lt;/div&gt;\n\t\n\t&lt;h5 id=&quot;command&quot;&gt;&lt;a href=&quot;#command&quot; class=&quot;headerlink&quot; title=&quot;command&quot;&gt;&lt;/a&gt;command&lt;/h5&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;command_func = &#123;&#125;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;function command_func.help()&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tprint(&amp;#34;&#123;&amp;#34;i&amp;#34;, &amp;#34;input&amp;#34;, &amp;#34;require&amp;#34;, &amp;#34;GetFirstInputFile&amp;#34;&#125;&amp;#34;)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tprint(&amp;#34;&#123;&amp;#34;i&amp;#34;, &amp;#34;input&amp;#34;, &amp;#34; no&amp;#34;, &amp;#34;GetFirstInputFile&amp;#34;&#125;&amp;#34;)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tprint(&amp;#34;separator is &amp;#34;#&amp;#34;!&amp;#34;)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;end&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;--将长参数和短参数分开  存到tab中&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;function command_func.argToTab(arg)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tlocal tabArg = &#123;&#125;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tlocal argTabKey = nil&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tfor i,v in ipairs(arg) do&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\tcFirstChar = string.sub(v, 1, 1)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\tif cFirstChar == &amp;#34;-&amp;#34; then&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\t\targTabKey = v&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\telseif argTabKey ~= nil then&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\t\tif tabArg[argTabKey] == nil then&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\t\t\ttabArg[argTabKey] = v&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\t\telse&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\t\t\ttabArg[argTabKey] =  tabArg[argTabKey] .. &amp;#34;#&amp;#34; ..v&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\t\tend&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\tend&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tend&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\treturn tabArg&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;end&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;function command_func.integrationSameMeanArg(tabArg, commandList)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tif next(tabArg) == nil or next(commandList) == nil then&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\tprint(&amp;#34;command is error&amp;#34;)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\treturn nil&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tend&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tfor commandListKey,commandListValue in ipairs(commandList) do&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\tflag = false&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\tlocal allCommand = nil&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\tfor tabArgKey,tabArgValue in pairs(tabArg) do&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\t\tif tabArgKey == commandListValue[1] or tabArgKey == commandListValue[2] then\t\t\t&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\t\t\tallCommand = tabArgValue&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\t\tend&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\tend&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\ttabArg[commandListValue[1]] = allCommand&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\ttabArg[commandListValue[2]] = nil&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tend&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\treturn tabArg&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;end&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;function command_func.comandAnalysis(arg, commandList)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tlocal argMatchcommandList = false&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tlocal tabArg =  command_func.argToTab(arg)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tif next(tabArg) == nil then&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\tprint(&amp;#34;command is empty&amp;#34;)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\treturn false&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tend&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tlocal commandList = command_func.processCommandListAndCheckLegality(commandList)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tif commandList == nil then&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\treturn false&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tend&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\ttabArg = command_func.integrationSameMeanArg(tabArg, commandList)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tif tabArg == nil then&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\treturn false&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tend&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tfor commandListKey, commandListValue in ipairs(commandList) do&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\targMatchcommandList = false&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\tfor tabArgKey, tabArgValue in pairs(tabArg) do&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\t\tif tabArgKey == commandListValue[1] or tabArgKey == commandListValue[2] then&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\t\t\tcommandListValue[4](tabArgValue)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\t\t\targMatchcommandList = true&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\t\tend&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\tend&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\tif commandListValue[3] == &amp;#34;require&amp;#34; and argMatchcommandList == false then\t\t\t\t\t&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\t\tprint(&amp;#34;command or commandList is not match!&amp;#34;)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\t\treturn false&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\tend&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tend&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\treturn true&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;end&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;function  command_func.processCommandListAndCheckLegality(commandList)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tlocal commandList1 = commandList&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tif next(commandList1) == nil then&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\tprint(&amp;#34;commandList is empty&amp;#34;)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\treturn nil&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tend&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tfor i,v in ipairs(commandList1) do&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\tv[1] = &amp;#34;-&amp;#34; .. v[1]&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\tv[2] = &amp;#34;--&amp;#34; .. v[2]&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\tif v[4] == nil then&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\t\treturn nil&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\t\tend&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\tend&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;\treturn commandList1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;end&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;return command_func&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;\n</code></pre>\n<h5 id=\"Test\"><a href=\"#Test\" class=\"headerlink\" title=\"Test\"></a>Test</h5><figure class=\"highlight plain\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/><span class=\"line\">2</span><br/><span class=\"line\">3</span><br/><span class=\"line\">4</span><br/><span class=\"line\">5</span><br/><span class=\"line\">6</span><br/><span class=\"line\">7</span><br/><span class=\"line\">8</span><br/><span class=\"line\">9</span><br/><span class=\"line\">10</span><br/><span class=\"line\">11</span><br/><span class=\"line\">12</span><br/><span class=\"line\">13</span><br/><span class=\"line\">14</span><br/><span class=\"line\">15</span><br/><span class=\"line\">16</span><br/><span class=\"line\">17</span><br/><span class=\"line\">18</span><br/><span class=\"line\">19</span><br/><span class=\"line\">20</span><br/><span class=\"line\">21</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\">require(&#34;command&#34;)</span><br/><span class=\"line\">local function getFirstFile(firstFileName)</span><br/><span class=\"line\">\tprint(firstFileName)</span><br/><span class=\"line\">end</span><br/><span class=\"line\">local function getCompareFile(compareFileName)</span><br/><span class=\"line\">\tprint(compareFileName)</span><br/><span class=\"line\">end</span><br/><span class=\"line\">local function getSecondFile(secondFileName)</span><br/><span class=\"line\">\tprint(secondFileName)</span><br/><span class=\"line\">end</span><br/><span class=\"line\">argList =</span><br/><span class=\"line\">\t{</span><br/><span class=\"line\">\t\t{&#34;i&#34;, &#34;input&#34;, &#34;require&#34;, getFirstFile},</span><br/><span class=\"line\">\t\t{&#34;o&#34;, &#34;output&#34;, &#34;require&#34;, getCompareFile},</span><br/><span class=\"line\">\t\t{&#34;s&#34;, &#34;second&#34;, &#34;no&#34;, getSecondFile},</span><br/><span class=\"line\">\t}</span><br/><span class=\"line\"></span><br/><span class=\"line\">local result = command_func.comandAnalysis(arg, argList)</span><br/><span class=\"line\">if result == false then</span><br/><span class=\"line\">\tcommand_func.help()</span><br/><span class=\"line\">end</span><br/></pre></td></tr></tbody></table></figure>\n<h5 id=\"compare\"><a href=\"#compare\" class=\"headerlink\" title=\"compare\"></a>compare</h5><figure class=\"highlight plain\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/><span class=\"line\">2</span><br/><span class=\"line\">3</span><br/><span class=\"line\">4</span><br/><span class=\"line\">5</span><br/><span class=\"line\">6</span><br/><span class=\"line\">7</span><br/><span class=\"line\">8</span><br/><span class=\"line\">9</span><br/><span class=\"line\">10</span><br/><span class=\"line\">11</span><br/><span class=\"line\">12</span><br/><span class=\"line\">13</span><br/><span class=\"line\">14</span><br/><span class=\"line\">15</span><br/><span class=\"line\">16</span><br/><span class=\"line\">17</span><br/><span class=\"line\">18</span><br/><span class=\"line\">19</span><br/><span class=\"line\">20</span><br/><span class=\"line\">21</span><br/><span class=\"line\">22</span><br/><span class=\"line\">23</span><br/><span class=\"line\">24</span><br/><span class=\"line\">25</span><br/><span class=\"line\">26</span><br/><span class=\"line\">27</span><br/><span class=\"line\">28</span><br/><span class=\"line\">29</span><br/><span class=\"line\">30</span><br/><span class=\"line\">31</span><br/><span class=\"line\">32</span><br/><span class=\"line\">33</span><br/><span class=\"line\">34</span><br/><span class=\"line\">35</span><br/><span class=\"line\">36</span><br/><span class=\"line\">37</span><br/><span class=\"line\">38</span><br/><span class=\"line\">39</span><br/><span class=\"line\">40</span><br/><span class=\"line\">41</span><br/><span class=\"line\">42</span><br/><span class=\"line\">43</span><br/><span class=\"line\">44</span><br/><span class=\"line\">45</span><br/><span class=\"line\">46</span><br/><span class=\"line\">47</span><br/><span class=\"line\">48</span><br/><span class=\"line\">49</span><br/><span class=\"line\">50</span><br/><span class=\"line\">51</span><br/><span class=\"line\">52</span><br/><span class=\"line\">53</span><br/><span class=\"line\">54</span><br/><span class=\"line\">55</span><br/><span class=\"line\">56</span><br/><span class=\"line\">57</span><br/><span class=\"line\">58</span><br/><span class=\"line\">59</span><br/><span class=\"line\">60</span><br/><span class=\"line\">61</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\">strFristFile = arg[1]</span><br/><span class=\"line\">strSecondFile = arg[2]</span><br/><span class=\"line\">strCompareFile = arg[3]</span><br/><span class=\"line\"></span><br/><span class=\"line\">--根据命令行参数输入相关的文件命令</span><br/><span class=\"line\">if strFristFile == nil or strSecondFile == nil then</span><br/><span class=\"line\">\tprint(&#34;You do not enter the comparison file A or B / A and B, please check the command line parameters!&#34;)</span><br/><span class=\"line\">\treturn 0</span><br/><span class=\"line\">end</span><br/><span class=\"line\"></span><br/><span class=\"line\">filePointerFrist = io.open(strFristFile, &#34;r&#34;)</span><br/><span class=\"line\">filePointerSencond = io.open(strSecondFile, &#34;r&#34;)</span><br/><span class=\"line\">if strCompareFile ~= nil then</span><br/><span class=\"line\">\tcompareFilePointer = io.open(strCompareFile, &#34;w&#34;)</span><br/><span class=\"line\">else</span><br/><span class=\"line\">\tcompareFilePointer = io.open(&#34;CompareFile.txt&#34;, &#34;w&#34;)</span><br/><span class=\"line\">end</span><br/><span class=\"line\"></span><br/><span class=\"line\">--判断文件是否为空 或者说文件是否打开成功</span><br/><span class=\"line\">if filePointerFrist == nil and filePointerSencond == nil then</span><br/><span class=\"line\">\tprint(&#34;All files are empty!&#34;)</span><br/><span class=\"line\">\treturn 0</span><br/><span class=\"line\">elseif filePointerFrist == nil then</span><br/><span class=\"line\">\tprint(strFristFile, &#34;文件指针为nil!&#34;)</span><br/><span class=\"line\">\treturn 0</span><br/><span class=\"line\">elseif filePointerSencond == nil then</span><br/><span class=\"line\">\tprint(strSecondFile, &#34;文件指针为nil!&#34;)</span><br/><span class=\"line\">\treturn 0</span><br/><span class=\"line\">end</span><br/><span class=\"line\"></span><br/><span class=\"line\">--读文件并做比较</span><br/><span class=\"line\">local strFirstLine = filePointerFrist:read(&#34;*l&#34;)</span><br/><span class=\"line\">local strSecondLine = filePointerSencond:read(&#34;*l&#34;)</span><br/><span class=\"line\">while strFirstLine ~= nil and strSecondLine ~= nil do</span><br/><span class=\"line\">\tif strFirstLine ~= strSecondLine then</span><br/><span class=\"line\">\t\tcompareFilePointer:write(strFristFile, &#34;显示：&#34;&#34;, strFirstLine, &#34; &#34; 和&#34;, strSecondFile, &#34;显示为：&#34; &#34;, strSecondLine, &#34; &#34; 不同n&#34;)</span><br/><span class=\"line\">\tend</span><br/><span class=\"line\">\tstrFirstLine = filePointerFrist:read(&#34;*l&#34;)</span><br/><span class=\"line\">\tstrSecondLine = filePointerSencond:read(&#34;*l&#34;)</span><br/><span class=\"line\">end</span><br/><span class=\"line\"></span><br/><span class=\"line\">--文件行数不一样的情况</span><br/><span class=\"line\">if strFirstLine == nil and strSecondLine == nil then</span><br/><span class=\"line\">\tprint(&#34;file is null/ line is equal！&#34;)</span><br/><span class=\"line\">elseif strFirstLine == nil then</span><br/><span class=\"line\">\ttempLine = strSecondLine;</span><br/><span class=\"line\">\tstrSecondLine = filePointerSencond:read(&#34;*a&#34;)</span><br/><span class=\"line\">\t--Write = tempLine..strSecondLine</span><br/><span class=\"line\">\tstrWrite = table.concat({tempLine, strSecondLine})</span><br/><span class=\"line\">\tcompareFilePointer:write(strFristFile, &#34;为空，和&#34;, strSecondFile, &#34;显示为：&#34; &#34;, strWrite, &#34; &#34; 不同n&#34;)</span><br/><span class=\"line\">elseif strSecondLine == nil then</span><br/><span class=\"line\">\ttempLine = strFirstLine</span><br/><span class=\"line\">\tstrFirstLine = filePointerFrist:read(&#34;*a&#34;)</span><br/><span class=\"line\">\t--strWrite = tempLine..strFirstLine</span><br/><span class=\"line\">\tstrWrite = table.concat({tempLine, strFirstLine})</span><br/><span class=\"line\">\tcompareFilePointer:write(strSecondFile, &#34;为空，和&#34;, strFristFile, &#34;显示为：&#34;&#34;, strWrite, &#34; &#34; 不同n&#34;)</span><br/><span class=\"line\">end</span><br/><span class=\"line\"></span><br/><span class=\"line\">filePointerFrist:close()</span><br/><span class=\"line\">filePointerSencond:close()</span><br/><span class=\"line\">compareFilePointer:close()</span><br/></pre></td></tr></tbody></table></figure>","text":" Contents &lt;/div&gt; &lt;h5 id=&quot;command&quot;&gt;&lt;a href=&quot;#command&quot; class=&quot;headerlink&quot; title=&quot;command&quo...","link":"","photos":[],"count_time":{"symbolsCount":"18k","symbolsTime":"16 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#Test\"><span class=\"toc-text\">Test</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#compare\"><span class=\"toc-text\">compare</span></a></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"evaluation_nlp","uid":"bdec2772ef3d202943a713a03686eb5c","slug":"zl/2016-01-01-1040_evaluation_nlp","date":"2024-04-03T03:47:32.978Z","updated":"2024-04-03T03:47:32.978Z","comments":true,"path":"api/articles/zl/2016-01-01-1040_evaluation_nlp.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"Automatic Evaluation:Word Error Rate(WER)It is the Levenshtein distance between output and reference divided by the length of the reference....","link":"","photos":[],"count_time":{"symbolsCount":783,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"sistema de monitoreo y evaluación de impacto del programa probolivia/ jiwasa 2017","uid":"53f1385e99284d2bd4b2bdc3d72b2cfb","slug":"zl/2016-01-01-1039_sistema de monitoreo y evaluación de impacto del p","date":"2024-04-03T03:47:32.977Z","updated":"2024-04-03T03:47:32.977Z","comments":true,"path":"api/articles/zl/2016-01-01-1039_sistema de monitoreo y evaluación de impacto del p.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"CONTACTOS Bolivia La Paz Prov Murillo Unidad de Datos, 0 Fundación ARU Metadatos &lt;ul class=&quot;col-lg-6 col-md-6 col-sm-6&quot;&gt; &lt...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}