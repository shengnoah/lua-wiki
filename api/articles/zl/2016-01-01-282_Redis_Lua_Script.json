{"title":"Redis_Lua_Script","uid":"bd333dafb8d8bcd98ff7f478cda8a744","slug":"zl/2016-01-01-282_Redis_Lua_Script","date":"2024-04-03T03:47:33.139Z","updated":"2024-04-03T03:47:33.140Z","comments":true,"path":"api/articles/zl/2016-01-01-282_Redis_Lua_Script.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<ul>\n<li>NoSql现在被大量应用在大数据操作，其中原因以IO速度较以往关联式数据库快且耗费资源较低吸引我，而Redis性能更是数一数二。</li>\n<li>Redis简单来说就是一个KeyValue架构的NoSql，而Value的类型可以是String、List、Hash…….，不过不是这篇要说的重点。</li>\n<li>试想一个最常被用来讨论的主题，提款机存款与提款，在账户只有一人操作存提款不会有什么问题，基本上就是存多少钱就可以提多少钱；但现在若是有两人，A在提款时先远端连线要回账号数据，此时B已经提领钱出来，如此A在领钱时就会发生A端电脑存款与远端Server不同步情形。解决方法有很多，这边用数据原质性解决此问题。</li>\n<li>一般我们会将数据取出后对数据做完操作在写回数据库，但在这期间可能有其他人捷足先登，我们可以将取出跟写入在数据库里一并执行，Redis可以借由脚本LuaScript来达成此目的。</li>\n<li>这里提供<a href=\"https://github.com/zongu/RedisLuaScript\" target=\"_blank\" rel=\"noopener noreferrer\">RedisLuaScript范例</a></li>\n</ul>","text":" NoSql现在被大量应用在大数据操作，其中原因以IO速度较以往关联式数据库快且耗费资源较低吸引我，而Redis性能更是数一数二。 Redis简单来说就是一个KeyValue架构的NoSql，而Value的类型可以是String、List、Hash…….，不过不是这篇要说的重点。...","link":"","photos":[],"count_time":{"symbolsCount":404,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"toc":"","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"OpenWRT路由器设置接口中的Lua填坑","uid":"a1712a6753ec9ee797e82f0b91547165","slug":"zl/2016-01-01-281_OpenWRT路由器设置接口中的Lua填坑","date":"2024-04-03T03:47:33.139Z","updated":"2024-04-03T03:47:33.139Z","comments":true,"path":"api/articles/zl/2016-01-01-281_OpenWRT路由器设置接口中的Lua填坑.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":" &lt;p&gt;刚结束一个急活，主要是整理某个 OpenWRT 路由的设置接口，网页服务主要用的是 Nginx，网页用的是 BackBone 和 jQuery 配合，后端设置服务主要用的是 Lua（由 Nginx 代理）调用 OpenWRT 的 UCI 和 ubus。一开始我...","link":"","photos":[],"count_time":{"symbolsCount":"9.1k","symbolsTime":"8 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"lua中面向对象","uid":"16f9ae6dcf0026a7385795cb427ed129","slug":"zl/2016-01-01-27_lua中面向对象","date":"2024-04-03T03:47:33.138Z","updated":"2024-04-03T03:47:33.138Z","comments":true,"path":"api/articles/zl/2016-01-01-27_lua中面向对象.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":" Account.lua123456789101112module(&#34;Account&#34;, package.seeall)function (o) o = o or {} setmetatable(o, self) self.__index = self retur...","link":"","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}