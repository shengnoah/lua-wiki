{"title":"lua 基础知识学习总结","uid":"060da8645a00461af7b72af4a548a081","slug":"zl/2016-01-01-805_lua 基础知识学习总结","date":"2024-04-03T03:47:36.050Z","updated":"2024-04-03T03:47:36.050Z","comments":true,"path":"api/articles/zl/2016-01-01-805_lua 基础知识学习总结.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<ul id=\"markdown-toc\">\n  <li><a href=\"#一lua-基本语法\" id=\"markdown-toc-一lua-基本语法\">一、lua 基本语法</a></li>\n  <li><a href=\"#二lua-数据类型及操作\" id=\"markdown-toc-二lua-数据类型及操作\">二、lua 数据类型及操作</a></li>\n</ul>\n<blockquote>\n  <p>lua 学习总结文档</p>\n</blockquote>\n<h2 id=\"一lua-基本语法\">一、lua 基本语法</h2>\n<h2 id=\"二lua-数据类型及操作\">二、lua 数据类型及操作</h2>\n<p>lua 是动态类型语言，变量无需声明定义，可以直接进行赋值操作。主要包含如下表格中的数据类型：</p>\n<blockquote>\n  <ul>\n    <li><code class=\"language-plaintext highlighter-rouge\">nil</code>：表示一个无效值</li>\n    <li><code class=\"language-plaintext highlighter-rouge\">boolean</code>：包含两个值：false 和 true。</li>\n    <li><code class=\"language-plaintext highlighter-rouge\">number</code>：表示双精度类型的实浮点数</li>\n    <li><code class=\"language-plaintext highlighter-rouge\">string</code>：字符串由一对双引号或单引号来表示</li>\n    <li><code class=\"language-plaintext highlighter-rouge\">function</code>：由 C 或 Lua 编写的函数</li>\n    <li><code class=\"language-plaintext highlighter-rouge\">userdata</code>：表示任意存储在变量中的 C 数据结构</li>\n    <li><code class=\"language-plaintext highlighter-rouge\">thread</code>：表示执行的独立线路，用于执行协同程序</li>\n    <li><code class=\"language-plaintext highlighter-rouge\">table</code>：Lua 中的表其实是一个”关联数组”，数组的索引可以是数字、字符串或表类型。</li>\n  </ul>\n</blockquote>\n<ul>\n  <li><code class=\"language-plaintext highlighter-rouge\">nil</code> （空）</li>\n</ul>\n<p><code class=\"language-plaintext highlighter-rouge\">nil</code> 表示一种无效的值，它只有一个值 <code class=\"language-plaintext highlighter-rouge\">nil</code>。</p>\n<div class=\"language-lua highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">type</span><span class=\"p\">(</span><span class=\"kc\">nil</span><span class=\"p\">))</span>  <span class=\"c1\">-- nil</span>\n</code></pre></div></div>\n<p>给全局变量或者表中的变量赋值为 <code class=\"language-plaintext highlighter-rouge\">nil</code>，相当于删除该变量。</p>\n<div class=\"language-lua highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"n\">lua_global_var</span> <span class=\"o\">=</span> <span class=\"kc\">nil</span>    <span class=\"c1\">-- 相当于删除lua_global_var全局变量</span>\n<span class=\"n\">lua_table</span> <span class=\"o\">=</span> <span class=\"p\">&#123;</span> <span class=\"n\">key1</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;lua&#39;</span><span class=\"p\">,</span> <span class=\"n\">key2</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;lang&#39;</span> <span class=\"p\">&#125;</span>\n<span class=\"n\">lua_table</span><span class=\"p\">.</span><span class=\"n\">key1</span> <span class=\"o\">=</span> <span class=\"kc\">nil</span>    <span class=\"c1\">-- 删除了lua_table中的key1元素</span>\n</code></pre></div></div>\n<ul>\n  <li>\n    <p><strong><code class=\"language-plaintext highlighter-rouge\">boolean</code>（布尔）</strong>。lua 中只有 <code class=\"language-plaintext highlighter-rouge\">false</code> 和 <code class=\"language-plaintext highlighter-rouge\">nil</code> 的布尔值为<code class=\"language-plaintext highlighter-rouge\">假</code>。</p>\n  </li>\n  <li>number（数字）。<code class=\"language-plaintext highlighter-rouge\">Lua</code> 默认只有一种 <code class=\"language-plaintext highlighter-rouge\">number</code> 类型，以下几种写法都被看作是 <code class=\"language-plaintext highlighter-rouge\">number</code> 类型\n    <div class=\"language-lua highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">type</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">))</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">type</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">.</span><span class=\"mi\">2</span><span class=\"p\">))</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">type</span><span class=\"p\">(</span><span class=\"mf\">2e+1</span><span class=\"p\">))</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">type</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mf\">2e-1</span><span class=\"p\">))</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">type</span><span class=\"p\">(</span><span class=\"mi\">7</span><span class=\"p\">.</span><span class=\"mf\">8263692594256e-06</span><span class=\"p\">))</span>\n</code></pre></div>    </div>\n  </li>\n  <li>string（字符串）</li>\n</ul>\n<div class=\"language-lua highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"n\">demo1</span> <span class=\"o\">=</span> <span class=\"s2\">&#34;hello world.&#34;</span>    <span class=\"c1\">-- 单引号也行</span>\n<span class=\"c1\">-- 多行字符串</span>\n<span class=\"n\">demo2</span> <span class=\"o\">=</span> <span class=\"s\">[[\n&lt;html&gt;\n&lt;head&gt;&lt;/head&gt;\n&lt;body&gt;\n    &lt;a href=&#34;https://www.linuxblogs.cn/&#34;&gt;程序员肖邦&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n]]</span>\n</code></pre></div></div>\n<p>几种字符串的操作</p>\n<div class=\"language-lua highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&#34;a&#34;</span> <span class=\"o\">..</span> <span class=\"s1\">&#39;b&#39;</span><span class=\"p\">)</span>          <span class=\"c1\">-- ab  字符串连接用..</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"o\">#</span><span class=\"s2\">&#34;linuxblogs.cn&#34;</span><span class=\"p\">)</span>    <span class=\"c1\">-- 13  字符串的长度 #(语法糖)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&#34;2&#34;</span> <span class=\"o\">+</span> <span class=\"s2\">&#34;6&#34;</span><span class=\"p\">)</span>           <span class=\"c1\">-- 8   对数字字符串运算时，lua 会尝试将字符串转换为1个数字</span>\n</code></pre></div></div>\n<p>字符串相关操作可参考: <a href=\"https://www.runoob.com/lua/lua-strings.html\">lua 教程</a></p>\n<ul>\n  <li>table（表）</li>\n</ul>\n<div class=\"language-lua highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"kd\">local</span> <span class=\"n\">table1</span> <span class=\"o\">=</span> <span class=\"p\">&#123;&#125;</span>   <span class=\"c1\">-- 创建一个空的 table</span>\n<span class=\"kd\">local</span> <span class=\"n\">table2</span> <span class=\"o\">=</span> <span class=\"p\">&#123;</span><span class=\"s2\">&#34;apple&#34;</span><span class=\"p\">,</span> <span class=\"s2\">&#34;pear&#34;</span><span class=\"p\">&#125;</span>  <span class=\"c1\">-- 直接初始表</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">table2</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"n\">table2</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">])</span>  <span class=\"c1\">-- &#39;apple&#39; &#39;pear&#39;  lua 索引是从 1 开始的</span>\n</code></pre></div></div>\n<p>表的相关操作可参考: <a href=\"https://www.runoob.com/lua/lua-tables.html\">lua 教程</a></p>","text":" 一、lua 基本语法 二、lua 数据类型及操作 lua 学习总结文档 一、lua 基本语法 二、lua 数据类型及操作 lua 是动态类型语言，变量无需声明定义，可以直接进行赋值操作。主要包含如下表格中的数据类型： nil：表示一个无效值 boolean：包含两个值：fals...","link":"","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%80lua-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95\"><span class=\"toc-text\">一、lua 基本语法</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BA%8Clua-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%8F%8A%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">二、lua 数据类型及操作</span></a></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"NLP论文学习笔记（一）——Mining opinions from instructor evaluation reviews a deep learning approach","uid":"939a072e8e43c80556879513a6abfc8b","slug":"zl/2016-01-01-804_NLP论文学习笔记（一）——Mining opinions from instructor eval","date":"2024-04-03T03:47:36.050Z","updated":"2024-04-03T03:47:36.050Z","comments":true,"path":"api/articles/zl/2016-01-01-804_NLP论文学习笔记（一）——Mining opinions from instructor eval.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"论文时间：2019.5一，论文摘要Mining opinions from instructor evaluation reviews a deep learning approach，即通过深度学习的方法来挖掘评教文本中的情感。Student evaluations of te...","link":"","photos":[],"count_time":{"symbolsCount":"1k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Lua 笔记 string_table_function知识点","uid":"431d049b9392ba7cebe4f6692937578c","slug":"zl/2016-01-01-803_Lua 笔记 string_table_function知识点","date":"2024-04-03T03:47:36.049Z","updated":"2024-04-03T03:47:36.050Z","comments":true,"path":"api/articles/zl/2016-01-01-803_Lua 笔记 string_table_function知识点.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"本文涉及到一些关于string、table和function的细碎知识点，一些常用操作的背后逻辑。本文是用于记录一次技术分享，部分内容与之前的一篇Lua的笔记有重叠。 本文参考和使用的lua源码基于Lua 5.3.5，编写的lua脚本运行于OSX系统，使用的是64位的lua运行库...","link":"","photos":[],"count_time":{"symbolsCount":"3.6k","symbolsTime":"3 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}