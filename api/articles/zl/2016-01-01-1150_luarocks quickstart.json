{"title":"luarocks quickstart","uid":"dfc3caea98525d39dcdcda6d20d95c55","slug":"zl/2016-01-01-1150_luarocks quickstart","date":"2024-04-03T03:47:33.017Z","updated":"2024-04-03T03:47:33.017Z","comments":true,"path":"api/articles/zl/2016-01-01-1150_luarocks quickstart.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<div class=\"entry\">\n<pre><code>    &lt;p&gt;Here is the &lt;a href=&quot;https://luarocks.org/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt;official website of LuaRocks&lt;/a&gt;. LuaRocks is the package manager for Lua moduels, which means that we can use it to install or uninstall some specific Lua libraries like LuaMySQL and LuaMongoDB.&lt;/p&gt;\n</code></pre>\n<p>Below is the tutorial to install LuaRocks.</p>\n<h2 id=\"Install-LuaRocks\"><a href=\"#Install-LuaRocks\" class=\"headerlink\" title=\"Install LuaRocks\"></a>Install LuaRocks</h2><p>Here we use Centos 7. We will install LuaRocks through command lines as follows (Here is <a href=\"https://luarocks.org/#quick-start\" target=\"_blank\" rel=\"external noopener noreferrer\">official tutorial</a>):<br/></p><figure class=\"highlight bash\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/><span class=\"line\">2</span><br/><span class=\"line\">3</span><br/><span class=\"line\">4</span><br/><span class=\"line\">5</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://luarocks.org/releases/luarocks-2.4.1.tar.gz</span><br/><span class=\"line\">tar zxpf luarocks-2.4.1.tar.gz</span><br/><span class=\"line\"><span class=\"built_in\">cd</span> luarocks-2.4.1</span><br/><span class=\"line\">./configure</span><br/><span class=\"line\">sudo make bootstrap</span><br/></pre></td></tr></tbody></table></figure><p></p>\n<p>Now execute this command:<br/></p><figure class=\"highlight bash\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\">luarocks</span><br/></pre></td></tr></tbody></table></figure><p></p>\n<p>If everythings goes well, we can similar output as below:<br/></p><figure class=\"highlight bash\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/><span class=\"line\">2</span><br/><span class=\"line\">3</span><br/><span class=\"line\">4</span><br/><span class=\"line\">5</span><br/><span class=\"line\">6</span><br/><span class=\"line\">7</span><br/><span class=\"line\">8</span><br/><span class=\"line\">9</span><br/><span class=\"line\">10</span><br/><span class=\"line\">11</span><br/><span class=\"line\">12</span><br/><span class=\"line\">13</span><br/><span class=\"line\">14</span><br/><span class=\"line\">15</span><br/><span class=\"line\">16</span><br/><span class=\"line\">17</span><br/><span class=\"line\">18</span><br/><span class=\"line\">19</span><br/><span class=\"line\">20</span><br/><span class=\"line\">21</span><br/><span class=\"line\">22</span><br/><span class=\"line\">23</span><br/><span class=\"line\">24</span><br/><span class=\"line\">25</span><br/><span class=\"line\">26</span><br/><span class=\"line\">27</span><br/><span class=\"line\">28</span><br/><span class=\"line\">29</span><br/><span class=\"line\">30</span><br/><span class=\"line\">31</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br/><span class=\"line\">LuaRocks 2.4.1, a module deployment system <span class=\"keyword\">for</span> Lua</span><br/><span class=\"line\"></span><br/><span class=\"line\">NAME</span><br/><span class=\"line\">        /usr/<span class=\"built_in\">local</span>/bin/luarocks - LuaRocks main <span class=\"built_in\">command</span>-line interface</span><br/><span class=\"line\"></span><br/><span class=\"line\">SYNOPSIS</span><br/><span class=\"line\">        /usr/<span class=\"built_in\">local</span>/bin/luarocks [--from=&lt;server&gt; | --only-from=&lt;server&gt;] [--to=&lt;tree&gt;] [VAR=VALUE]... &lt;<span class=\"built_in\">command</span>&gt; [&lt;argument&gt;] </span><br/><span class=\"line\"></span><br/><span class=\"line\">GENERAL OPTIONS</span><br/><span class=\"line\">        These apply to all commands, as appropriate:</span><br/><span class=\"line\"></span><br/><span class=\"line\">        --server=&lt;server&gt;      Fetch rocks/rockspecs from this server</span><br/><span class=\"line\">                               (takes priority over config file)</span><br/><span class=\"line\">        --only-server=&lt;server&gt; Fetch rocks/rockspecs from this server only</span><br/><span class=\"line\">                               (overrides any entries <span class=\"keyword\">in</span> the config file)</span><br/><span class=\"line\">        --only-sources=&lt;url&gt;   Restrict downloads to paths matching the</span><br/><span class=\"line\">                               given URL.</span><br/><span class=\"line\">        --tree=&lt;tree&gt;          Which tree to operate on.</span><br/><span class=\"line\">        --local                Use the tree <span class=\"keyword\">in</span> the user<span class=\"string\">&#39;s home directory.</span><br/><span class=\"line\">                               To enable it, see &#39;</span>/usr/<span class=\"built_in\">local</span>/bin/luarocks <span class=\"built_in\">help</span> path<span class=\"string\">&#39;.                     </span><br/><span class=\"line\">        --verbose              Display verbose output of commands executed.                               </span><br/><span class=\"line\">        --timeout=&lt;seconds&gt;    Timeout on network operations, in seconds.                                 </span><br/><span class=\"line\">                               0 means no timeout (wait forever).                                         </span><br/><span class=\"line\">                               Default is 30.                                                             </span><br/><span class=\"line\">                                                                                                          </span><br/><span class=\"line\">VARIABLES                                                                                                 </span><br/><span class=\"line\">        Variables from the &#34;variables&#34; table of the configuration file                                    </span><br/><span class=\"line\">        can be overriden with VAR=VALUE assignments. </span><br/><span class=\"line\"></span><br/><span class=\"line\">...</span></span><br/></pre></td></tr></tbody></table></figure><p></p>\n<hr/>\n<h2 id=\"Install-LuaSocket\"><a href=\"#Install-LuaSocket\" class=\"headerlink\" title=\"Install LuaSocket\"></a>Install LuaSocket</h2><p>Now we will try to install LuaSocket through LuaRocks. Note that we may need to use sudo command but luarocks may not be identified by sudo. In that case, we can use root user to execute luarocks command:<br/></p><figure class=\"highlight bash\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/><span class=\"line\">2</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\">su root</span><br/><span class=\"line\">luarocks install luasocket</span><br/></pre></td></tr></tbody></table></figure><p></p>\n<p>To check that luasocket whether is installed successfully or not, we can enter lua shell and type:<br/></p><figure class=\"highlight bash\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\">require <span class=\"string\">&#34;socket&#34;</span></span><br/></pre></td></tr></tbody></table></figure><p></p>\n<p>The output returned by command should be similar as follows:<br/></p><figure class=\"highlight bash\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br/><span class=\"line\">2</span><br/></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; require <span class=\"string\">&#34;socket&#34;</span></span><br/><span class=\"line\">table: 0x1<span class=\"built_in\">cd</span>8060</span><br/></pre></td></tr></tbody></table></figure><p></p>\n<pre><code>&lt;/div&gt;\n\n&lt;footer&gt;\n    &lt;div class=&quot;alignright&quot;&gt;\n      \n      &lt;a href=&quot;javascript:void(0)&quot; class=&quot;share-link bdsharebuttonbox&quot; data-cmd=&quot;more&quot;&gt;Share&lt;/a&gt;\n    &lt;/div&gt;\n    \n    \n\n\n\n    \n  &lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\n&lt;/footer&gt;\n</code></pre>\n","text":" &lt;p&gt;Here is the &lt;a href=&quot;https://luarocks.org/&quot; target=&quot;_blank&quot; rel=&quot;external noopener noreferrer&quot;&gt...","link":"","photos":[],"count_time":{"symbolsCount":"3.5k","symbolsTime":"3 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Install-LuaRocks\"><span class=\"toc-text\">Install LuaRocks</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Install-LuaSocket\"><span class=\"toc-text\">Install LuaSocket</span></a></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Lua 闭包 环境 包管理","uid":"f1e47e5792823d5eb8c2881f8040e912","slug":"zl/2016-01-01-114_Lua 闭包 环境 包管理","date":"2024-04-03T03:47:33.017Z","updated":"2024-04-03T03:47:33.017Z","comments":true,"path":"api/articles/zl/2016-01-01-114_Lua 闭包 环境 包管理.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"Variables 访问一个不存在的全局变量得到nil 释放一个全局变量只需将其赋值为nil，效果与未定义该变量一样 Lua 中的变量全是全局变量，那怕是语句块或是函数里，除非用 local 显式声明为局部变量 局部变量比全局变量访问更快 Functions1. 基本特性 多参数...","link":"","photos":[],"count_time":{"symbolsCount":"5.5k","symbolsTime":"5 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"lua install quickstart","uid":"23295de35e578776ba4e877452eab55d","slug":"zl/2016-01-01-1151_lua install quickstart","date":"2024-04-03T03:47:33.017Z","updated":"2024-04-03T03:47:33.018Z","comments":true,"path":"api/articles/zl/2016-01-01-1151_lua install quickstart.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":" &lt;p&gt;Lua is a lightweight multi-paradigm programming language designed primarily for embedded systems and clients, and is cross-platfor...","link":"","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua文章","slug":"lua文章","count":1133,"path":"api/tags/lua文章.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}