{"title":"Lua函数测试","uid":"e1050aaba4cc30d3051489dd3aad4a28","slug":"old-lua/2016-06-01-functions","date":"2024-03-14T09:11:39.440Z","updated":"2024-03-14T09:11:39.440Z","comments":true,"path":"api/articles/old-lua/2016-06-01-functions.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<h1 id=\"lua-函数\"><a class=\"markdownIt-Anchor\" href=\"#lua-函数\"></a> Lua 函数</h1>\n<p>函数用于将一组语句组合起来完成一个任务。你可以将你的代码分割到不同的函数中。如何将你的代码分到不同的函数中完全由你自己决定，不过一般会按照逻辑功能进行划分，每个函数都执行一个特定的任务。</p>\n<p>在 Lua 中提供了大量的内置函数供我们使用。例如，print() 函数用于将输入的参数输出到终端。</p>\n<p>函数往往也被称作方法，子例程或过程等等。</p>\n<h2 id=\"函数定义\"><a class=\"markdownIt-Anchor\" href=\"#函数定义\"></a> 函数定义</h2>\n<p>Lua 中函数定义的语法如下所示：</p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">optional_function_scope <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">function_name</span><span class=\"params\">( argument1, argument2, argument3..., argumentn)</span></span></span><br><span class=\"line\">function_body</span><br><span class=\"line\"><span class=\"keyword\">return</span> result_params_comma_separated</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br></pre></td></tr></table></figure>\n<p>Lua 中函数定义包括函数头和函数名两部分。如下列出函数的所有部分：</p>\n<ul>\n\t<li>可选的函数作用域：你可以使用关键字 local 限制函数的作用域，你也可以忽略此部分而使用默认值。函数作用域默认是全局。</li>\n\t<li>函数名：函数的真正名称。函数名与函数的参数列表一起被称为函数签名。</li>\n\t<li>参数：一个参数就一个占位符一样。函数调用时，把值传递给参数。这个值被称之为实际参数或直参数。参数列表指参数的类型，顺序与数量。参数是可选的，一个函数可以没有参数。</li>\n\t<li>函数体：函数体是代码语句集合，定义了函数的功能。</li>\n\t<li>返回：在 Lua 中，可以使用 return 关键字同时返回多返回值，每个返回值之间使用逗号分隔。</li>\n</ul>  \n<h2 id=\"示例\"><a class=\"markdownIt-Anchor\" href=\"#示例\"></a> 示例</h2>\n<p>下面是函数 max() 源代码。此函数接受两个参数 num1 与 num2，返回两个输入参数的最大值。</p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">--[[ function returning the max between two numbers --]]</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">max</span><span class=\"params\">(num1, num2)</span></span></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">if</span> (num1 &gt; num2) <span class=\"keyword\">then</span></span><br><span class=\"line\">      result = num1;</span><br><span class=\"line\">   <span class=\"keyword\">else</span></span><br><span class=\"line\">      result = num2;</span><br><span class=\"line\">   <span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">return</span> result; </span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"函数参数\"><a class=\"markdownIt-Anchor\" href=\"#函数参数\"></a> 函数参数</h2>\n<p>如果函数需要用到参数，则它必须声明接受参数值的变量。这些被声明的变量被称为函数的形式参数或简称形参。</p>\n<p>函数的形参与函数中其它局部变量一样，在函数的入口处被创建，函数结束时被销毁。</p>\n<h2 id=\"调用函数\"><a class=\"markdownIt-Anchor\" href=\"#调用函数\"></a> 调用函数</h2>\n<p>创建函数的时候，我们已经定义了函数做什么。接下来，我们就可以调用函数来完成已定义的任务或功能。</p>\n<p>当程序中调用一个函数时，程序的控制转移到被调用的函数中。被调用的函数执行定义的任务；当 return 语句被执行或者到达函数末尾时，程序的控制回到主程序中。</p>\n<p>调用函数的方法很简单，你只需要将函数要求的参数传递给函数就可以实现函数的调用。如果函数有返回值，你也可以将函数的返回值存储下来。如下如示：</p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">max</span><span class=\"params\">(num1, num2)</span></span></span><br><span class=\"line\">   <span class=\"keyword\">if</span> (num1 &gt; num2) <span class=\"keyword\">then</span></span><br><span class=\"line\">      result = num1;</span><br><span class=\"line\">   <span class=\"keyword\">else</span></span><br><span class=\"line\">      result = num2;</span><br><span class=\"line\">   <span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">return</span> result; </span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 调用函数</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;The maximum of the two numbers is &quot;</span>,<span class=\"built_in\">max</span>(<span class=\"number\">10</span>,<span class=\"number\">4</span>))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;The maximum of the two numbers is &quot;</span>,<span class=\"built_in\">max</span>(<span class=\"number\">5</span>,<span class=\"number\">6</span>))</span><br></pre></td></tr></table></figure>\n<p>执行上面的代码，可以得到如下的输出结果：</p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">The maximum of the two numbers is \t<span class=\"number\">10</span></span><br><span class=\"line\">The maximum of the two numbers is \t<span class=\"number\">6</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"赋值与传递函数\"><a class=\"markdownIt-Anchor\" href=\"#赋值与传递函数\"></a> 赋值与传递函数</h2>\n<p>在 Lua 语言中，我们可以将函数赋值给一个变量，也可以将函数作为参数传递给另外一个函数。下面是赋值传递函数的一个例子：</p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">myprint = <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(param)</span></span></span><br><span class=\"line\">   <span class=\"built_in\">print</span>(<span class=\"string\">&quot;This is my print function -   ##&quot;</span>,param,<span class=\"string\">&quot;##&quot;</span>)</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">add</span><span class=\"params\">(num1,num2,functionPrint)</span></span></span><br><span class=\"line\">   result = num1 + num2</span><br><span class=\"line\">   functionPrint(result)</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\">myprint(<span class=\"number\">10</span>)</span><br><span class=\"line\">add(<span class=\"number\">2</span>,<span class=\"number\">5</span>,myprint)</span><br></pre></td></tr></table></figure>\n<p>执行上面的代码，可以得到如下的输出结果：</p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">This is my <span class=\"built_in\">print</span> <span class=\"function\"><span class=\"keyword\">function</span> -   ##\t10\t##</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">This</span> <span class=\"title\">is</span> <span class=\"title\">my</span> <span class=\"title\">print</span> <span class=\"title\">function</span> -   ##\t7\t##</span></span><br><span class=\"line\"><span class=\"function\">```  </span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">## 变参函数  </span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">在 <span class=\"title\">Lua</span> 语言中，使用 ... 作为参数可以创建参数个数可变的函数，即变参函数。我们可以使用下面的这个例子来理解变参函数的概念。下面的这个例子中函数返回输入参数的平均值：  </span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">```<span class=\"title\">lua</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">function</span> <span class=\"title\">average</span><span class=\"params\">(...)</span></span></span><br><span class=\"line\">   result = <span class=\"number\">0</span></span><br><span class=\"line\">   <span class=\"keyword\">local</span> <span class=\"built_in\">arg</span>=&#123;...&#125;</span><br><span class=\"line\">   <span class=\"keyword\">for</span> i,v <span class=\"keyword\">in</span> <span class=\"built_in\">ipairs</span>(<span class=\"built_in\">arg</span>) <span class=\"keyword\">do</span></span><br><span class=\"line\">      result = result + v</span><br><span class=\"line\">   <span class=\"keyword\">end</span></span><br><span class=\"line\">   <span class=\"keyword\">return</span> result/#<span class=\"built_in\">arg</span></span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;The average is&quot;</span>,average(<span class=\"number\">10</span>,<span class=\"number\">5</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>))</span><br></pre></td></tr></table></figure>\n<p>执行上面的代码，可以得到如下的输出结果：</p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">The average is\t<span class=\"number\">5.5</span></span><br></pre></td></tr></table></figure>\n<p>折叠的效果是</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i hexo-renderer-markdown-it --save</span><br><span class=\"line\">npm i markdown-it-checkbox</span><br><span class=\"line\">npm i markdown-it-imsize</span><br><span class=\"line\">npm i markdown-it-expandable</span><br></pre></td></tr></table></figure>\n<details open>\n<summary><span class=\"pre-summary\">&nbsp;</span><strong>点击折叠</strong></summary><p>这是被隐藏的内容</p>\n</details>\n<h1 id=\"表情hello\"><a class=\"markdownIt-Anchor\" href=\"#表情hello\"></a> 表情Hello 😄</h1>\n<p>这是一个使用 <code>markdown-it-emoji</code> 的例子。</p>\n<p>你好，世界！🌎</p>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p>👍 这是一个赞的 emoji</p>\n</li>\n<li class=\"lvl-2\">\n<p>✨ 这是一个闪光的 emoji</p>\n</li>\n<li class=\"lvl-2\">\n<p>:octocat: 这是一个 GitHub 的 mascot，章鱼猫</p>\n</li>\n</ul>\n<h1 id=\"公式\"><a class=\"markdownIt-Anchor\" href=\"#公式\"></a> 公式</h1>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msqrt><mrow><mn>3</mn><mi>x</mi><mo>−</mo><mn>1</mn></mrow></msqrt><mo>+</mo><mo>(</mo><mn>1</mn><mo>+</mo><mi>x</mi><msup><mo>)</mo><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\sqrt{3x-1}+(1+x)^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.8655550000000001em;\"></span><span class=\"strut bottom\" style=\"height:1.115555em;vertical-align:-0.25em;\"></span><span class=\"base textstyle uncramped\"><span class=\"sqrt mord\"><span class=\"sqrt-sign\" style=\"top:-0.025554999999999994em;\"><span class=\"style-wrap reset-textstyle textstyle uncramped\">√</span></span><span class=\"vlist\"><span style=\"top:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:1em;\">​</span></span><span class=\"mord textstyle cramped\"><span class=\"mord mathrm\">3</span><span class=\"mord mathit\">x</span><span class=\"mbin\">−</span><span class=\"mord mathrm\">1</span></span></span><span style=\"top:-0.785555em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:1em;\">​</span></span><span class=\"reset-textstyle textstyle uncramped sqrt-line\"></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:1em;\">​</span></span>​</span></span></span><span class=\"mbin\">+</span><span class=\"mopen\">(</span><span class=\"mord mathrm\">1</span><span class=\"mbin\">+</span><span class=\"mord mathit\">x</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"vlist\"><span style=\"top:-0.363em;margin-right:0.05em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle scriptstyle uncramped\"><span class=\"mord mathrm\">2</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span></span></span></span></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mtable><mtr><mtd><mrow><mi mathvariant=\"normal\">∇</mi><mo>×</mo><mover accent=\"true\"><mrow><mrow><mi mathvariant=\"bold\">B</mi></mrow></mrow><mo>⃗</mo></mover><mo>−</mo><mspace width=\"0.16667em\"></mspace><mfrac><mn>1</mn><mi>c</mi></mfrac><mspace width=\"0.16667em\"></mspace><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mover accent=\"true\"><mrow><mrow><mi mathvariant=\"bold\">E</mi></mrow></mrow><mo>⃗</mo></mover></mrow><mrow><mi mathvariant=\"normal\">∂</mi><mi>t</mi></mrow></mfrac></mrow></mtd><mtd><mrow><mo>=</mo><mfrac><mrow><mn>4</mn><mi>π</mi></mrow><mrow><mi>c</mi></mrow></mfrac><mover accent=\"true\"><mrow><mrow><mi mathvariant=\"bold\">j</mi></mrow></mrow><mo>⃗</mo></mover><mi mathvariant=\"normal\">∇</mi><mo>⋅</mo><mover accent=\"true\"><mrow><mrow><mi mathvariant=\"bold\">E</mi></mrow></mrow><mo>⃗</mo></mover></mrow></mtd><mtd><mrow><mo>=</mo><mn>4</mn><mi>π</mi><mi>ρ</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi mathvariant=\"normal\">∇</mi><mo>×</mo><mover accent=\"true\"><mrow><mrow><mi mathvariant=\"bold\">E</mi></mrow></mrow><mo>⃗</mo></mover><mspace width=\"0.16667em\"></mspace><mo>+</mo><mspace width=\"0.16667em\"></mspace><mfrac><mn>1</mn><mi>c</mi></mfrac><mspace width=\"0.16667em\"></mspace><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mover accent=\"true\"><mrow><mrow><mi mathvariant=\"bold\">B</mi></mrow></mrow><mo>⃗</mo></mover></mrow><mrow><mi mathvariant=\"normal\">∂</mi><mi>t</mi></mrow></mfrac></mrow></mtd><mtd><mrow><mo>=</mo><mover accent=\"true\"><mrow><mrow><mn mathvariant=\"bold\">0</mn></mrow></mrow><mo>⃗</mo></mover></mrow></mtd></mtr><mtr><mtd><mrow><mi mathvariant=\"normal\">∇</mi><mo>⋅</mo><mover accent=\"true\"><mrow><mrow><mi mathvariant=\"bold\">B</mi></mrow></mrow><mo>⃗</mo></mover></mrow></mtd><mtd><mrow><mo>=</mo><mn>0</mn></mrow></mtd></mtr></mtable></mrow><annotation encoding=\"application/x-tex\">\\begin{array}{c}\n\n\\nabla \\times \\vec{\\mathbf{B}} -\\, \\frac1c\\, \\frac{\\partial\\vec{\\mathbf{E}}}{\\partial t} &amp;\n= \\frac{4\\pi}{c}\\vec{\\mathbf{j}}    \\nabla \\cdot \\vec{\\mathbf{E}} &amp; = 4 \\pi \\rho \\\\\n\n\\nabla \\times \\vec{\\mathbf{E}}\\, +\\, \\frac1c\\, \\frac{\\partial\\vec{\\mathbf{B}}}{\\partial t} &amp; = \\vec{\\mathbf{0}} \\\\\n\n\\nabla \\cdot \\vec{\\mathbf{B}} &amp; = 0\n\n\\end{array}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:3.247325em;\"></span><span class=\"strut bottom\" style=\"height:5.99465em;vertical-align:-2.7473249999999996em;\"></span><span class=\"base displaystyle textstyle uncramped\"><span class=\"mord\"><span class=\"mtable\"><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist\"><span style=\"top:-1.600775em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord displaystyle textstyle uncramped\"><span class=\"mord mathrm\">∇</span><span class=\"mbin\">×</span><span class=\"mord accent\"><span class=\"vlist\"><span style=\"top:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord displaystyle textstyle cramped\"><span class=\"mord displaystyle textstyle cramped\"><span class=\"mord mathbf\">B</span></span></span></span><span style=\"top:-0.25511em;margin-left:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"accent-body accent-vec\"><span>⃗</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span><span class=\"mbin\">−</span><span class=\"mord mspace thinspace\"></span><span class=\"mord reset-textstyle displaystyle textstyle uncramped\"><span class=\"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist\"><span style=\"top:0.686em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle textstyle cramped\"><span class=\"mord mathit\">c</span></span></span><span style=\"top:-0.22999999999999998em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle textstyle uncramped frac-line\"></span></span><span style=\"top:-0.677em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle textstyle uncramped\"><span class=\"mord mathrm\">1</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span><span class=\"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter\"></span></span><span class=\"mord mspace thinspace\"></span><span class=\"mord reset-textstyle displaystyle textstyle uncramped\"><span class=\"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist\"><span style=\"top:0.686em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle textstyle cramped\"><span class=\"mord textstyle cramped\"><span class=\"mord mathrm\" style=\"margin-right:0.05556em;\">∂</span><span class=\"mord mathit\">t</span></span></span></span><span style=\"top:-0.22999999999999998em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle textstyle uncramped frac-line\"></span></span><span style=\"top:-0.677em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle textstyle uncramped\"><span class=\"mord textstyle uncramped\"><span class=\"mord mathrm\" style=\"margin-right:0.05556em;\">∂</span><span class=\"mord accent\"><span class=\"vlist\"><span style=\"top:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord textstyle cramped\"><span class=\"mord textstyle cramped\"><span class=\"mord mathbf\">E</span></span></span></span><span style=\"top:-0.25511em;margin-left:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"accent-body accent-vec\"><span>⃗</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span></span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span><span class=\"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter\"></span></span></span></span><span style=\"top:0.7317749999999997em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord displaystyle textstyle uncramped\"><span class=\"mord mathrm\">∇</span><span class=\"mbin\">×</span><span class=\"mord accent\"><span class=\"vlist\"><span style=\"top:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord displaystyle textstyle cramped\"><span class=\"mord displaystyle textstyle cramped\"><span class=\"mord mathbf\">E</span></span></span></span><span style=\"top:-0.25511em;margin-left:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"accent-body accent-vec\"><span>⃗</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span><span class=\"mord mspace thinspace\"></span><span class=\"mbin\">+</span><span class=\"mord mspace thinspace\"></span><span class=\"mord reset-textstyle displaystyle textstyle uncramped\"><span class=\"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist\"><span style=\"top:0.686em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle textstyle cramped\"><span class=\"mord mathit\">c</span></span></span><span style=\"top:-0.22999999999999998em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle textstyle uncramped frac-line\"></span></span><span style=\"top:-0.677em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle textstyle uncramped\"><span class=\"mord mathrm\">1</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span><span class=\"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter\"></span></span><span class=\"mord mspace thinspace\"></span><span class=\"mord reset-textstyle displaystyle textstyle uncramped\"><span class=\"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist\"><span style=\"top:0.686em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle textstyle cramped\"><span class=\"mord textstyle cramped\"><span class=\"mord mathrm\" style=\"margin-right:0.05556em;\">∂</span><span class=\"mord mathit\">t</span></span></span></span><span style=\"top:-0.22999999999999998em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle textstyle uncramped frac-line\"></span></span><span style=\"top:-0.677em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle textstyle uncramped\"><span class=\"mord textstyle uncramped\"><span class=\"mord mathrm\" style=\"margin-right:0.05556em;\">∂</span><span class=\"mord accent\"><span class=\"vlist\"><span style=\"top:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord textstyle cramped\"><span class=\"mord textstyle cramped\"><span class=\"mord mathbf\">B</span></span></span></span><span style=\"top:-0.25511em;margin-left:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"accent-body accent-vec\"><span>⃗</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span></span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span><span class=\"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter\"></span></span></span></span><span style=\"top:2.3873249999999997em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord displaystyle textstyle uncramped\"><span class=\"mord mathrm\">∇</span><span class=\"mbin\">⋅</span><span class=\"mord accent\"><span class=\"vlist\"><span style=\"top:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord displaystyle textstyle cramped\"><span class=\"mord displaystyle textstyle cramped\"><span class=\"mord mathbf\">B</span></span></span></span><span style=\"top:-0.25511em;margin-left:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"accent-body accent-vec\"><span>⃗</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist\"><span style=\"top:-1.600775em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord displaystyle textstyle uncramped\"><span class=\"mrel\">=</span><span class=\"mord reset-textstyle displaystyle textstyle uncramped\"><span class=\"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist\"><span style=\"top:0.686em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle textstyle cramped\"><span class=\"mord textstyle cramped\"><span class=\"mord mathit\">c</span></span></span></span><span style=\"top:-0.22999999999999998em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle textstyle uncramped frac-line\"></span></span><span style=\"top:-0.677em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle textstyle uncramped\"><span class=\"mord textstyle uncramped\"><span class=\"mord mathrm\">4</span><span class=\"mord mathit\" style=\"margin-right:0.03588em;\">π</span></span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span><span class=\"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter\"></span></span><span class=\"mord accent\"><span class=\"vlist\"><span style=\"top:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord displaystyle textstyle cramped\"><span class=\"mord displaystyle textstyle cramped\"><span class=\"mord mathbf\">j</span></span></span></span><span style=\"top:-0.26343999999999995em;margin-left:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"accent-body accent-vec\"><span>⃗</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span><span class=\"mord mathrm\">∇</span><span class=\"mbin\">⋅</span><span class=\"mord accent\"><span class=\"vlist\"><span style=\"top:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord displaystyle textstyle cramped\"><span class=\"mord displaystyle textstyle cramped\"><span class=\"mord mathbf\">E</span></span></span></span><span style=\"top:-0.25511em;margin-left:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"accent-body accent-vec\"><span>⃗</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span></span></span><span style=\"top:0.7317749999999997em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord displaystyle textstyle uncramped\"><span class=\"mrel\">=</span><span class=\"mord accent\"><span class=\"vlist\"><span style=\"top:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord displaystyle textstyle cramped\"><span class=\"mord displaystyle textstyle cramped\"><span class=\"mord mathbf\">0</span></span></span></span><span style=\"top:-0.21344000000000002em;margin-left:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"accent-body accent-vec\"><span>⃗</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span></span></span><span style=\"top:2.3873249999999997em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord displaystyle textstyle uncramped\"><span class=\"mrel\">=</span><span class=\"mord mathrm\">0</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist\"><span style=\"top:-1.600775em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord displaystyle textstyle uncramped\"><span class=\"mrel\">=</span><span class=\"mord mathrm\">4</span><span class=\"mord mathit\" style=\"margin-right:0.03588em;\">π</span><span class=\"mord mathit\">ρ</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span></span></span></span></span></span></span></p>\n<p>::: tips<br />\n<strong>提示</strong><br />\n这是一个提示<br />\n:::</p>\n<p>::: warning<br />\n<strong>注意</strong><br />\n这是一个警告<br />\n:::</p>\n<p>::: danger<br />\n<strong>警告</strong><br />\n这是一个危险信号<br />\n:::</p>\n<p>::: success<br />\n<strong>成功</strong><br />\n这是一个成功信号<br />\n:::</p>\n","text":" Lua 函数 函数用于将一组语句组合起来完成一个任务。你可以将你的代码分割到不同的函数中。如何将你的代码分到不同的函数中完全由你自己决定，不过一般会按照逻辑功能进行划分，每个函数都执行一个特定的任务。 在 Lua 中提供了大量的内置函数供我们使用。例如，print() 函数用于...","link":"","photos":[],"count_time":{"symbolsCount":"3.3k","symbolsTime":"3 mins."},"categories":[{"name":"lua_guide","slug":"lua-guide","count":68,"path":"api/categories/lua-guide.json"}],"tags":[{"name":"lua","slug":"lua","count":153,"path":"api/tags/lua.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#lua-%E5%87%BD%E6%95%B0\"><span class=\"toc-text\"> Lua 函数</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89\"><span class=\"toc-text\"> 函数定义</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%A4%BA%E4%BE%8B\"><span class=\"toc-text\"> 示例</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0\"><span class=\"toc-text\"> 函数参数</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0\"><span class=\"toc-text\"> 调用函数</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%B5%8B%E5%80%BC%E4%B8%8E%E4%BC%A0%E9%80%92%E5%87%BD%E6%95%B0\"><span class=\"toc-text\"> 赋值与传递函数</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%A1%A8%E6%83%85hello\"><span class=\"toc-text\"> 表情Hello 😄</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%85%AC%E5%BC%8F\"><span class=\"toc-text\"> 公式</span></a></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Graylog与SIEM","uid":"f611f95293b22b624bb6c6df16af76ea","slug":"graylog/Graylog与SIEM","date":"2024-03-14T11:24:05.274Z","updated":"2024-03-14T11:27:32.637Z","comments":true,"path":"api/articles/graylog/Graylog与SIEM.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":" Graylog与SIEM Graylog是一个开源的SIEM系统，在国外有一定的群众基础， 国内也有很多人用。但是关于Graylog的中文资料一直很少，搜索引擎的找出来的结果，要么是过时的，要么涉及的知识应用点不是太深入，所以想在小专栏开一个帖子专门写这个。 和以前一样，这个文...","link":"","photos":[],"count_time":{"symbolsCount":"2.4k","symbolsTime":"2 mins."},"categories":[{"name":"安全","slug":"安全","count":37,"path":"api/categories/安全.json"}],"tags":[{"name":"Graylog","slug":"Graylog","count":4,"path":"api/tags/Graylog.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"DreamTalk When Expressive Talking Head Generation Meets Diffusion Probabilistic Models","uid":"cb22f82fe732b75010786dbf6cdb1be9","slug":"huaggingface/DreamTalk When Expressive Talking Head Generation Meets Diffusion Probabilistic Models","date":"2024-03-14T07:45:09.235Z","updated":"2024-03-14T07:45:09.235Z","comments":true,"path":"api/articles/huaggingface/DreamTalk When Expressive Talking Head Generation Meets Diffusion Probabilistic Models.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"text":"DreamTalk When Expressive Talking Head Generation Meets Diffusion Probabilistic Models 阿里巴巴 DreamTalk 能用人脸带表情说话 DreamTalk: When Expressive T...","link":"","photos":[],"count_time":{"symbolsCount":295,"symbolsTime":"1 mins."},"categories":[{"name":"AIGC","slug":"AIGC","count":119,"path":"api/categories/AIGC.json"},{"name":"huaggingface","slug":"AIGC/huaggingface","count":1,"path":"api/categories/AIGC/huaggingface.json"}],"tags":[{"name":"huaggingface","slug":"huaggingface","count":1,"path":"api/tags/huaggingface.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}