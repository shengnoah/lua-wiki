{"title":"备份整个MongoDB数据库","uid":"dfebfd6f17455b819e8aee6598a0bbd0","slug":"database/mongodb/备份整个MongoDB数据库","date":"2024-03-19T08:50:19.744Z","updated":"2024-03-19T09:04:37.663Z","comments":true,"path":"api/articles/database/mongodb/备份整个MongoDB数据库.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<h1 id=\"备份整个mongodb数据库\"><a class=\"markdownIt-Anchor\" href=\"#备份整个mongodb数据库\"></a> 备份整个MongoDB数据库</h1>\n<p>备份整个MongoDB数据库</p>\n<p>要备份整个MongoDB数据库，可以使用mongodump工具来导出数据库的所有数据。以下是备份MongoDB数据库的步骤：</p>\n<ol>\n<li class=\"lvl-3\">\n<p>打开命令行或终端窗口，并输入以下命令来使用mongodump工具备份整个MongoDB数据库：</p>\n</li>\n</ol>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">mongodump --out &#x2F;path&#x2F;to&#x2F;backup&#x2F;directory<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>请将“/path/to/backup/directory”替换为您希望保存备份文件的目录路径。</p>\n<ol start=\"2\">\n<li class=\"lvl-3\">\n<p>输入密码（如果有）以验证身份并开始备份过程。</p>\n</li>\n<li class=\"lvl-3\">\n<p>备份完成后，您将在指定的目录中看到一个名为“dump”的文件夹，其中包含了整个MongoDB数据库的备份数据。</p>\n</li>\n<li class=\"lvl-3\">\n<p>如果需要恢复数据库，请使用mongorestore工具并指定备份文件夹路径：</p>\n</li>\n</ol>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">mongorestore &#x2F;path&#x2F;to&#x2F;backup&#x2F;directory<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>请确保在备份和恢复数据库时具有足够的权限来执行这些操作，并且在生产环境中定期备份MongoDB数据库以防止数据丢失。</p>\n<h2 id=\"mongodump的所有参数的说明\"><a class=\"markdownIt-Anchor\" href=\"#mongodump的所有参数的说明\"></a> mongodump的所有参数的说明</h2>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\n1. --help: 显示帮助信息\n2. --version: 显示mongodump版本信息\n3. --host&#x3D;&lt;hostname&gt;: 指定MongoDB主机名\n4. --port&#x3D;&lt;port&gt;: 指定MongoDB端口号\n5. --ssl: 使用SSL连接到MongoDB\n6. --username&#x3D;&lt;username&gt;: 指定用户名进行认证\n7. --password&#x3D;&lt;password&gt;: 指定密码进行认证\n8. --authenticationDatabase&#x3D;&lt;database&gt;: 指定认证数据库\n9. --db&#x3D;&lt;database&gt;: 指定要备份的数据库名称\n10. --collection&#x3D;&lt;collection&gt;: 指定要备份的集合名称\n11. --query&#x3D;&lt;query&gt;: 根据查询条件备份数据\n12. --excludeCollection&#x3D;&lt;collection&gt;: 排除指定集合备份数据\n13. --gzip: 对备份数据使用gzip压缩\n14. --out&#x3D;&lt;path&gt;: 指定备份文件输出路径，默认为当前目录下的dump文件夹中\n15. --archive: 将备份文件打包成一个归档文件输出，默认为bson格式的文件夹输出<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>这些是mongodump命令中常用的参数，可以通过运行&quot;mongodump --help&quot;来查看所有可用参数。</p>\n<h2 id=\"列出mongorestore的所有参数的说明\"><a class=\"markdownIt-Anchor\" href=\"#列出mongorestore的所有参数的说明\"></a> 列出mongorestore的所有参数的说明</h2>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">1. --host &lt;hostname:port&gt;：指定MongoDB服务器的主机名和端口号。\n2. --db &lt;dbname&gt;：指定要恢复的数据库名称。\n3. --collection &lt;collectionname&gt;：指定要恢复的集合名称。\n4. --gzip：使用gzip压缩来恢复备份数据。\n5. --archive&#x3D;&lt;filename&gt;：从指定的归档文件中恢复数据。\n6. --dir&#x3D;&lt;directory&gt;：从指定目录中恢复备份数据。\n7. --drop：在恢复数据之前删除目标数据库中已存在的数据。\n8. --oplogReplay：对于整个备份集合，尝试应用oplog，以便将备份集合带到与创建备份时相同的状态。\n9. --nsInclude&#x3D;&lt;namespace pattern&gt;：只包括与提供的名称空间模式匹配的集合。默认情况下，所有集合都被包括在内。\n10. --nsExclude&#x3D;&lt;namespace pattern&gt;：排除与提供的名称空间模式匹配的集合。默认情况下，没有任何集合被排除。<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","text":" 备份整个MongoDB数据库 备份整个MongoDB数据库 要备份整个MongoDB数据库，可以使用mongodump工具来导出数据库的所有数据。以下是备份MongoDB数据库的步骤： 打开命令行或终端窗口，并输入以下命令来使用mongodump工具备份整个MongoDB数据库...","link":"","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[{"name":"database","slug":"database","count":4,"path":"api/categories/database.json"}],"tags":[{"name":"mongodb","slug":"mongodb","count":1,"path":"api/tags/mongodb.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%A4%87%E4%BB%BD%E6%95%B4%E4%B8%AAmongodb%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\"> 备份整个MongoDB数据库</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#mongodump%E7%9A%84%E6%89%80%E6%9C%89%E5%8F%82%E6%95%B0%E7%9A%84%E8%AF%B4%E6%98%8E\"><span class=\"toc-text\"> mongodump的所有参数的说明</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%88%97%E5%87%BAmongorestore%E7%9A%84%E6%89%80%E6%9C%89%E5%8F%82%E6%95%B0%E7%9A%84%E8%AF%B4%E6%98%8E\"><span class=\"toc-text\"> 列出mongorestore的所有参数的说明</span></a></li></ol></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"zip命令","uid":"cb121410b6a41de39c6403126ba41f66","slug":"linux/zip命令","date":"2024-03-19T10:43:43.120Z","updated":"2024-03-19T10:46:53.179Z","comments":true,"path":"api/articles/linux/zip命令.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":" zip命令 Linux上如何用zip把一个文件夹，压缩成一个.zip文件夹，具体的指令是什么 要在Linux上使用zip命令将一个文件夹压缩成一个.zip文件，可以使用以下指令： zip -r compressed_folder.zip folder_to_compress 其...","link":"","photos":[],"count_time":{"symbolsCount":234,"symbolsTime":"1 mins."},"categories":[{"name":"linux","slug":"linux","count":10,"path":"api/categories/linux.json"}],"tags":[{"name":"zip","slug":"zip","count":1,"path":"api/tags/zip.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"netstat 命令","uid":"ae10786cb00fec4dfbec3a62f19a5fee","slug":"linux/netstat 命令","date":"2024-03-19T07:36:46.509Z","updated":"2024-03-19T08:45:50.464Z","comments":true,"path":"api/articles/linux/netstat 命令.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":" netstat 命令 sudo netstat -pantule 显示更全的端口进程信息。 sudo netstat -plunt nestat的所有命令参数的说明 -t, --tcp: 显示TCP协议的连接信息 -u, --udp: 显示UDP协议的连接信息 -n, --nu...","link":"","photos":[],"count_time":{"symbolsCount":454,"symbolsTime":"1 mins."},"categories":[{"name":"linux","slug":"linux","count":10,"path":"api/categories/linux.json"}],"tags":[{"name":"netstat","slug":"netstat","count":1,"path":"api/tags/netstat.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}