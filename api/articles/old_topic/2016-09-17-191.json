{"title":"Openresty工程如何处理mime定义问题","uid":"bc3b37831d103f6bddad2d9961281834","slug":"old_topic/2016-09-17-191","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.179Z","comments":true,"path":"api/articles/old_topic/2016-09-17-191.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"content":"<p>Lapis处理mime问题，一共使用了两个文件。</p>\n<p>mime.types</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">types &#123;</span><br><span class=\"line\">    text/html                             html htm shtml;</span><br><span class=\"line\">    text/css                              css;</span><br><span class=\"line\">    text/xml                              xml;</span><br><span class=\"line\">    image/gif                             gif;</span><br><span class=\"line\">    image/jpeg                            jpeg jpg;</span><br><span class=\"line\">    application/x-javascript              js;</span><br><span class=\"line\">    application/atom+xml                  atom;</span><br><span class=\"line\">    application/rss+xml                   rss;</span><br><span class=\"line\"></span><br><span class=\"line\">    text/mathml                           mml;</span><br><span class=\"line\">    text/plain                            txt;</span><br><span class=\"line\">    text/vnd.sun.j2me.app-descriptor      jad;</span><br><span class=\"line\">    text/vnd.wap.wml                      wml;</span><br><span class=\"line\">    text/x-component                      htc;</span><br><span class=\"line\"></span><br><span class=\"line\">    image/png                             png;</span><br><span class=\"line\">    image/tiff                            tif tiff;</span><br><span class=\"line\">    image/vnd.wap.wbmp                    wbmp;</span><br><span class=\"line\">    image/x-icon                          ico;</span><br><span class=\"line\">    image/x-jng                           jng;</span><br><span class=\"line\">    image/x-ms-bmp                        bmp;</span><br><span class=\"line\">    image/svg+xml                         svg svgz;</span><br><span class=\"line\">    image/webp                            webp;</span><br><span class=\"line\"></span><br><span class=\"line\">    application/java-archive              jar war ear;</span><br><span class=\"line\">    application/mac-binhex40              hqx;</span><br><span class=\"line\">    application/msword                    doc;</span><br><span class=\"line\">    application/pdf                       pdf;</span><br><span class=\"line\">    application/postscript                ps eps ai;</span><br><span class=\"line\">    application/rtf                       rtf;</span><br><span class=\"line\">    application/vnd.ms-excel              xls;</span><br><span class=\"line\">    application/vnd.ms-powerpoint         ppt;</span><br><span class=\"line\">    application/vnd.wap.wmlc              wmlc;</span><br><span class=\"line\">    application/vnd.google-earth.kml+xml  kml;</span><br><span class=\"line\">    application/vnd.google-earth.kmz      kmz;</span><br><span class=\"line\">    application/x-7z-compressed           7z;</span><br><span class=\"line\">    application/x-cocoa                   cco;</span><br><span class=\"line\">    application/x-java-archive-diff       jardiff;</span><br><span class=\"line\">    application/x-java-jnlp-file          jnlp;</span><br><span class=\"line\">    application/x-makeself                run;</span><br><span class=\"line\">    application/x-perl                    pl pm;</span><br><span class=\"line\">    application/x-pilot                   prc pdb;</span><br><span class=\"line\">    application/x-rar-compressed          rar;</span><br><span class=\"line\">    application/x-redhat-package-manager  rpm;</span><br><span class=\"line\">    application/x-sea                     sea;</span><br><span class=\"line\">    application/x-shockwave-flash         swf;</span><br><span class=\"line\">    application/x-stuffit                 sit;</span><br><span class=\"line\">    application/x-tcl                     tcl tk;</span><br><span class=\"line\">    application/x-x509-ca-cert            der pem crt;</span><br><span class=\"line\">    application/x-xpinstall               xpi;</span><br><span class=\"line\">    application/xhtml+xml                 xhtml;</span><br><span class=\"line\">    application/zip                       zip;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">[/code]</span><br><span class=\"line\"></span><br><span class=\"line\">[code]</span><br><span class=\"line\">nginx.conf</span><br><span class=\"line\"></span><br><span class=\"line\">worker_processes $&#123;&#123;NUM_WORKERS&#125;&#125;;</span><br><span class=\"line\">error_log stderr notice;</span><br><span class=\"line\">daemon off;</span><br><span class=\"line\">pid logs/nginx.pid;</span><br><span class=\"line\"></span><br><span class=\"line\">events &#123;</span><br><span class=\"line\">  worker_connections 1024;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">http &#123;</span><br><span class=\"line\">  include mime.types;</span><br><span class=\"line\"></span><br><span class=\"line\">  server &#123;</span><br><span class=\"line\">    listen $&#123;&#123;PORT&#125;&#125;;</span><br><span class=\"line\">    lua_code_cache $&#123;&#123;CODE_CACHE&#125;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    location / &#123;</span><br><span class=\"line\">      default_type text/html;</span><br><span class=\"line\">      content_by_lua &#x27;</span><br><span class=\"line\">        require(&quot;lapis&quot;).serve(&quot;app&quot;)</span><br><span class=\"line\">      &#x27;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    location /static/ &#123;</span><br><span class=\"line\">      alias static/;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    location /favicon.ico &#123;</span><br><span class=\"line\">      alias static/favicon.ico;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>","text":"Lapis处理mime问题，一共使用了两个文件。 mime.types 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565...","link":"","photos":[],"count_time":{"symbolsCount":"3.2k","symbolsTime":"3 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"toc":"","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"给Vanilla框架的路由模块加入单体测试","uid":"2ae7e20708abb11b61241dea5050fc63","slug":"old_topic/2016-09-17-188","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.195Z","comments":true,"path":"api/articles/old_topic/2016-09-17-188.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"text":"作者：糖果 下面是单体测试的代码： 123456789101112131415161718192021222324252627282930313233343536373839-- perflocal error = errorlocal sgmatch = string.gmat...","link":"","photos":[],"count_time":{"symbolsCount":972,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Moonscript的Busted单体测试","uid":"43450fb948daac9a77b252ddeba99506","slug":"old_topic/2016-09-17-189","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.199Z","comments":true,"path":"api/articles/old_topic/2016-09-17-189.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"text":"作者：糖果 Busted是Lua的单体测试工具。去官网Github看一下，也支持Moonscript的单体测试。 moonunit.moon 123456describe &#x27;moonscript tests&#x27;, -&gt; it &#x27;works&#x2...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}