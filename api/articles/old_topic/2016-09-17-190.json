{"title":"Vanilla工程如何设置静态文件夹static","uid":"56f67290590d9d72dc1ccb87fe155f52","slug":"old_topic/2016-09-17-190","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.155Z","comments":true,"path":"api/articles/old_topic/2016-09-17-190.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"content":"<p>修改/config/nginx.conf</p>\n<p>加入路由设置<br>\n[code]<br>\nlocation /static/ {<br>\nalias static/;<br>\n}<br>\n[/code]</p>\n<p>完整的配置文件，如下：<br>\n[code]<br>\npid tmp/-nginx.pid;</p>\n<h1>This number should be at maxium the number of CPU on the server</h1>\n<p>worker_processes 4;</p>\n<p>events {<br>\n# Number of connections per worker<br>\nworker_connections 4096;<br>\n}</p>\n<p>http {<br>\n# use sendfile<br>\nsendfile on;</p>\n<pre><code># Va initialization\n&#123;&#123;LUA_PACKAGE_PATH&#125;&#125;\n&#123;&#123;LUA_PACKAGE_CPATH&#125;&#125;\n&#123;&#123;LUA_CODE_CACHE&#125;&#125;\n&#123;&#123;LUA_SHARED_DICT&#125;&#125;\n&#123;&#123;INIT_BY_LUA&#125;&#125;\n&#123;&#123;INIT_BY_LUA_FILE&#125;&#125;\n&#123;&#123;VANILLA_WAF&#125;&#125;\n&#123;&#123;ACCESS_BY_LUA&#125;&#125;\n&#123;&#123;ACCESS_BY_LUA_FILE&#125;&#125;\n\nserver &#123;\n    # List port\n    listen &#123;&#123;PORT&#125;&#125;;\n    set $template_root '';\n\n    # Access log with buffer, or disable it completetely if unneeded\n    access_log logs/&#123;&#123;VA_ENV&#125;&#125;-access.log combined buffer=16k;\n    # access_log off;\n\n    # Error log\n    error_log logs/&#123;&#123;VA_ENV&#125;&#125;-error.log;\n\n\n    # Va runtime\n    &#123;&#123;CONTENT_BY_LUA_FILE&#125;&#125;\n\n    // 在此处加入静态链接的设置\n    location /static/ &#123;\n        alias static/;\n    &#125;\n&#125;\n</code></pre>\n<p>}<br>\n[/code]</p>\n","text":"修改/config/nginx.conf 加入路由设置 [code] location /static/ { alias static/; } [/code] 完整的配置文件，如下： [code] pid tmp/-nginx.pid; This number should be...","link":"","photos":[],"count_time":{"symbolsCount":"1.2k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\"><span class=\"toc-text\">This number should be at maxium the number of CPU on the server</span></a></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"如何定制Nginx的Log输出格式","uid":"047b86aef4992c639f275b13c69e96b7","slug":"old_topic/2016-09-17-194","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.166Z","comments":true,"path":"api/articles/old_topic/2016-09-17-194.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":[],"text":"123456set $currentDate &#x27;day&#x27;; access_by_lua &#x27; ngx.var.currentDate = os.date(&quot;%Y-%m-%d&quot;) &#x27;; access_log /logs/ap...","link":"","photos":[],"count_time":{"symbolsCount":328,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"LUA中实现面向对象","uid":"340b5f6f2b7fa198ce66c515bcec1223","slug":"old_topic/2016-09-17-196","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.212Z","comments":true,"path":"api/articles/old_topic/2016-09-17-196.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"text":"我们引用云风大哥的代码： 12345678910111213141516171819202122232425262728293031323334353637383940414243444546local _class=&#123;&#125; function class(sup...","link":"","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}