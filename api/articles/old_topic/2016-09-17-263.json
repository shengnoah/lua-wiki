{"title":"用Supervisor管理Python应用","uid":"701efda480792ff7d53cd8c1072352cf","slug":"old_topic/2016-09-17-263","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.231Z","comments":true,"path":"api/articles/old_topic/2016-09-17-263.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<p>作者：糖果</p>\n<p>Python的WEB应用框架相对比较丰富，常见的有flask、tornado、django这种，这种应用可以被定义成WSGI形式的WEB应用，用gunicorn启动服务，不过有一点，没有一个统一的关闭，启动，关机的重起服务。</p>\n<p>安装Supervisor就可以比较好的解决这个问题:</p>\n<p>Supervisor安装:</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo apt-get install supervisor<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>supervisor的配置：<br />\n一般创建配置文件都是在下面这个目录，创建一个文件进行配置，例子文件叫<br />\nluaren.conf</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[program:luaren]\ncommand&#x3D;&#x2F;usr&#x2F;bin&#x2F;gunicorn -w 1 luaren:app\ndirectory&#x3D;&#x2F;test&#x2F;luaren\nuser&#x3D;nginx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p>查看服务装态</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;usr&#x2F;bin&#x2F;supervisorctl status<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>启动服务</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;usr&#x2F;bin&#x2F;supervisorctlstart luaren<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>关闭服务</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;usr&#x2F;bin&#x2F;supervisorctlstop luaren<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><a href=\"http://www.lua.ren\">http://www.lua.ren</a></p>\n<p>原文来至于糖果实验室</p>\n","text":"作者：糖果 Python的WEB应用框架相对比较丰富，常见的有flask、tornado、django这种，这种应用可以被定义成WSGI形式的WEB应用，用gunicorn启动服务，不过有一点，没有一个统一的关闭，启动，关机的重起服务。 安装Supervisor就可以比较好的解决...","link":"","photos":[],"count_time":{"symbolsCount":578,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[],"toc":"","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"用Logstash解析OpenResty的Resty.Logger推送的Syslog数据","uid":"f173cba451a203ccad448cb458769230","slug":"old_topic/2016-09-17-260","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.164Z","comments":true,"path":"api/articles/old_topic/2016-09-17-260.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"作者：糖果 【前记】 用Resty.Logger给SyslogNG推送了几个测试的数据字段，如下： 192.168.0.1 68.180.228.95 GET &#x2F;feed Jun 28 16:12:19 中间用空格区分，下面是grok的测试，经测式这些模式的测试数据都能...","link":"","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"PIL与Pylibmc","uid":"7a3c5a1d23bfd5b9726de20fd52ae700","slug":"old_topic/2016-09-17-262","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.209Z","comments":true,"path":"api/articles/old_topic/2016-09-17-262.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"作者：糖果 要用一个小系统，需要装PIL和Pylibmc。 PIL就不用pip装了，直接用apt-get装： sudo apt-get install python-imaging Pylibmc需要安装下面的依赖库： Ubuntu sudo apt-get install me...","link":"","photos":[],"count_time":{"symbolsCount":327,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}