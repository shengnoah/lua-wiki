{"title":"Mac OS X 平台安装","uid":"dbbe8ecea366b89ee238486a58b71f70","slug":"old_topic/2016-09-17-323","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.232Z","comments":true,"path":"api/articles/old_topic/2016-09-17-323.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"content":"<h1>Mac OS X 平台安装</h1>\n<h4 id=\"源码包准备\">源码包准备</h4>\n<p>我们首先要在<a href=\"http://openresty.org/\">官网</a>下载<code>OpenResty</code>的源码包。官网上会提供很多的版本，各个版本有什么不同也会有说明，我们可以按需选择下载。笔者选择下载的源码包 <a href=\"https://openresty.org/download/ngx_openresty-1.9.7.1.tar.gz\">ngx_openresty-1.9.7.1.tar.gz</a>。</p>\n<h4 id=\"相关库的安装\">相关库的安装</h4>\n<p>将这些相关库安装到系统中，推荐如 Homebrew 这类包管理方式完成包管理：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">brew update</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">brew install pcre openssl</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"OpenResty-安装\">OpenResty 安装</h4>\n<ol>\n<li class=\"lvl-3\">\n<p>在命令行中切换到源码包所在目录。</p>\n</li>\n<li class=\"lvl-3\">\n<p>输入命令<code>tar xzvf ngx_openresty-1.9.7.1.tar.gz</code>，按回车键解压源码包。若你下载的源码包版本不一样，将相应的版本号改为你所下载的即可，或者直接拷贝源码包的名字到命令中。此时当前目录下会出现一个<code>ngx_openresty-1.9.7.1</code>文件夹。</p>\n</li>\n<li class=\"lvl-3\">\n<p>在命令行中切换工作目录到<code>ngx_openresty-1.9.7.1</code>。输入命令<code>cd ngx_openresty-1.9.7.1</code>。</p>\n</li>\n<li class=\"lvl-3\">\n<p>配置安装目录及需要激活的组件。使用选项 --prefix=install_path ，指定其安装目录（默认为/usr/local/openresty）。使用选项 --with-Components 激活组件， --without 则是禁止组件，你可以根据自己实际需要选择 with 及 without 。输入如下命令，OpenResty 将配置安装在 /opt/openresty 目录下（注意使用root用户），激活 LuaJIT、HTTP_iconv_module 并禁止 http_redis2_module 组件。</p>\n <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./configure --prefix=/opt/openresty\\</span><br><span class=\"line\">            --with-cc-opt=&quot;-I/usr/local/include&quot;\\</span><br><span class=\"line\">            --with-luajit\\</span><br><span class=\"line\">            --without-http_redis2_module \\</span><br><span class=\"line\">            --with-ld-opt=&quot;-L/usr/local/lib&quot;</span><br></pre></td></tr></table></figure>\n</li>\n<li class=\"lvl-3\">\n<p>在上一步中，最后没有什么error的提示就是最好的。若有错误，最后会显示error字样，具体原因可以看源码包目录下的build/nginx-VERSION/objs/autoconf.err文件查看。若没有错误，则会出现如下信息，提示下一步操作：</p>\n <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Type the following commands to build and install:</span><br><span class=\"line\">gmake</span><br><span class=\"line\">gmake install</span><br></pre></td></tr></table></figure>\n</li>\n<li class=\"lvl-3\">\n<p>编译。根据上一步命令提示，输入<code>gmake</code>。</p>\n</li>\n<li class=\"lvl-3\">\n<p>安装。输入<code>gmake install</code>，这里可能需要输入你的管理员密码。</p>\n</li>\n<li class=\"lvl-3\">\n<p>上面的步骤顺利完成之后，安装已经完成。可以在你指定的安装目录下看到一些相关目录及文件。</p>\n</li>\n</ol>\n<h4 id=\"设置环境变量\">设置环境变量</h4>\n<p>为了后面启动<code>OpenResty</code>的命令简单一些，不用在<code>OpenResty</code>的安装目录下进行启动，我们通过设置环境变量来简化操作。将<code>OpenResty</code>目录下的 nginx/sbin 目录添加到 PATH 中。</p>\n<p>接下来，我们就可以进入到后面的章节 <a href=\"helloworld.md\">Hello World</a> 学习。</p>\n","text":"Mac OS X 平台安装 源码包准备 我们首先要在官网下载OpenResty的源码包。官网上会提供很多的版本，各个版本有什么不同也会有说明，我们可以按需选择下载。笔者选择下载的源码包 ngx_openresty-1.9.7.1.tar.gz。 相关库的安装 将这些相关库安装到系...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\"><span class=\"toc-text\">Mac OS X 平台安装</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%BA%90%E7%A0%81%E5%8C%85%E5%87%86%E5%A4%87\"><span class=\"toc-text\">源码包准备</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%9B%B8%E5%85%B3%E5%BA%93%E7%9A%84%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">相关库的安装</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#OpenResty-%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">OpenResty 安装</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">设置环境变量</span></a></li></ol></li></ol></li></ol></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Ubuntu 平台安装","uid":"eddb21444824ae593031f4e574f2f2f6","slug":"old_topic/2016-09-17-321","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.173Z","comments":true,"path":"api/articles/old_topic/2016-09-17-321.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"text":"Ubuntu 平台安装 源码包准备 我们首先要在官网下载 OpenResty 的源码包。官网上会提供很多的版本，各个版本有什么不同也会有说明，我们可以按需选择下载。笔者选择下载的源码包为 ngx_openresty-1.9.7.1.tar.gz。 相关依赖包的安装 首先你要安装 ...","link":"","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"防止 SQL 注入","uid":"8da56c97a3037418bdb94143c7040828","slug":"old_topic/2016-09-17-324","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.158Z","comments":true,"path":"api/articles/old_topic/2016-09-17-324.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"text":"防止 SQL 注入 所谓 SQL 注入，就是通过把 SQL 命令插入到 Web 表单提交或输入域名或页面请求的查询字符串，最终达到欺骗服务器执行恶意的 SQL 命令。具体来说，它是利用现有应用程序，将（恶意）的 SQL 命令注入到后台数据库引擎执行的能力，它可以通过在 Web 表...","link":"","photos":[],"count_time":{"symbolsCount":"4.1k","symbolsTime":"4 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}