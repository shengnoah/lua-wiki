{"title":"Lrexlib安装(Lua PCRE)","uid":"1b3a4d7f131dd65bcee1a16042fe9553","slug":"old_topic/2016-09-17-182","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.216Z","comments":true,"path":"api/articles/old_topic/2016-09-17-182.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"content":"<p>作者：糖果</p>\n<p>Lrexlib是PCRE的Lua调用库。在此说一下 Lrexlib的安装过程。</p>\n<p>Ubuntu下安装：</p>\n<p>1.首先是安装依赖。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get install libpcre3</span><br><span class=\"line\">apt-get install libpcre3-dev</span><br></pre></td></tr></table></figure>\n<p>2.建立连接。<br>\nUbuntu安装的是pcre3，安装完之后系统内才能有libpcre.so的库。<br>\napt-get安装的库文件没有在/usr/lib文件夹下，需要建立连接。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ln -s /lib/x86_64-linux-gnu/libpcre.so.3 /usr/lib/libpcre.so</span><br></pre></td></tr></table></figure>\n<p>3.使用luarocks安装PCRE。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo luarocks install lrexlib-PCRE PCRE_LIBDIR=/usr/lib/</span><br></pre></td></tr></table></figure>\n<p>4.测试库。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lua -e &quot;require &#x27;rex_pcre&#x27;&quot;</span><br></pre></td></tr></table></figure>\n<p>Centos下安装PCRE：</p>\n<p>1.首先是安装依赖。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install pcre</span><br><span class=\"line\">yum install pcre-devel</span><br></pre></td></tr></table></figure>\n<p>2.建立连接。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ln -s  /usr/lib64/libpcre.so /usr/lib</span><br></pre></td></tr></table></figure>\n<p>3.使用luarocks安装PCRE。</p>\n<p>需要特别说明的地方是，在centos上安装2.8是编译不过的，需要指定2.7.2版本的安装。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">luarocks install lrexlib-pcre 2.7.2-1 PCRE_LIBDIR=/usr/lib64/</span><br></pre></td></tr></table></figure>\n<p>4.测试库。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lua -e &quot;require &#x27;rex_pcre&#x27;&quot;</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://luarocks.org/modules/luarocks/lrexlib-pcre\">https://luarocks.org/modules/luarocks/lrexlib-pcre</a></p>\n<p>PS:转载到其它平台请注明作者姓名及原文链接，请勿用于商业用途。</p>\n","text":"作者：糖果 Lrexlib是PCRE的Lua调用库。在此说一下 Lrexlib的安装过程。 Ubuntu下安装： 1.首先是安装依赖。 12apt-get install libpcre3apt-get install libpcre3-dev 2.建立连接。 Ubuntu安装的...","link":"","photos":[],"count_time":{"symbolsCount":789,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"toc":"","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Tup与Moonscript自动编译","uid":"72fc9906b7ade28d0ec3b847f7af3a98","slug":"old_topic/2016-09-17-183","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.223Z","comments":true,"path":"api/articles/old_topic/2016-09-17-183.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"text":"tup可以监控文件变动的，再执行相应有执行动作。可以设定tupfile规则，当监控目录中的文件发生变化的时候，实时执行编译脚本，只要文件有改动，然后openresty服务会reload文件，刷新一下url就可以看到新的变动结果（LUA）。 安装TUP首先要在Linux上安装FUS...","link":"","photos":[],"count_time":{"symbolsCount":886,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"如何用Lua取得ASCII表中的字符","uid":"4f367eaf18737796ed26e3985923aa72","slug":"old_topic/2016-09-17-181","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.177Z","comments":true,"path":"api/articles/old_topic/2016-09-17-181.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"text":"比如我们要显示ASCII表中的&quot;a&quot;，我们可以使用如下代码： 1print(string.char(97))","link":"","photos":[],"count_time":{"symbolsCount":64,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}