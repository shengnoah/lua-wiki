{"title":"Lrexlib安装(Lua PCRE)","uid":"1b3a4d7f131dd65bcee1a16042fe9553","slug":"old_topic/2016-09-17-182","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.216Z","comments":true,"path":"api/articles/old_topic/2016-09-17-182.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<p>作者：糖果</p>\n<p>Lrexlib是PCRE的Lua调用库。在此说一下 Lrexlib的安装过程。</p>\n<p>Ubuntu下安装：</p>\n<p>1.首先是安装依赖。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">apt-get install libpcre3\napt-get install libpcre3-dev<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>2.建立连接。<br />\nUbuntu安装的是pcre3，安装完之后系统内才能有libpcre.so的库。<br />\napt-get安装的库文件没有在/usr/lib文件夹下，需要建立连接。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">ln -s &#x2F;lib&#x2F;x86_64-linux-gnu&#x2F;libpcre.so.3 &#x2F;usr&#x2F;lib&#x2F;libpcre.so<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>3.使用luarocks安装PCRE。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo luarocks install lrexlib-PCRE PCRE_LIBDIR&#x3D;&#x2F;usr&#x2F;lib&#x2F;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>4.测试库。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">lua -e &quot;require &#39;rex_pcre&#39;&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>Centos下安装PCRE：</p>\n<p>1.首先是安装依赖。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">yum install pcre\nyum install pcre-devel<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>2.建立连接。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">ln -s  &#x2F;usr&#x2F;lib64&#x2F;libpcre.so &#x2F;usr&#x2F;lib<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>3.使用luarocks安装PCRE。</p>\n<p>需要特别说明的地方是，在centos上安装2.8是编译不过的，需要指定2.7.2版本的安装。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">luarocks install lrexlib-pcre 2.7.2-1 PCRE_LIBDIR&#x3D;&#x2F;usr&#x2F;lib64&#x2F;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>4.测试库。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">lua -e &quot;require &#39;rex_pcre&#39;&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><a href=\"https://luarocks.org/modules/luarocks/lrexlib-pcre\">https://luarocks.org/modules/luarocks/lrexlib-pcre</a></p>\n<p>PS:转载到其它平台请注明作者姓名及原文链接，请勿用于商业用途。</p>\n","text":"作者：糖果 Lrexlib是PCRE的Lua调用库。在此说一下 Lrexlib的安装过程。 Ubuntu下安装： 1.首先是安装依赖。 apt-get install libpcre3 apt-get install libpcre3-dev 2.建立连接。 Ubuntu安装的是...","link":"","photos":[],"count_time":{"symbolsCount":872,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[],"toc":"","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"nil、null与ngx.null","uid":"834bce8a4e8450443d18797324bd3ee0","slug":"old_topic/2016-09-17-178","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.189Z","comments":true,"path":"api/articles/old_topic/2016-09-17-178.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"问题概述 今天第一次在nginx+lua架构下，写了个需要操作Redis的后台接口，该接口的功能主要是接受客户端的json格式的post请求，实现对保存在redis中的任务插入、删除、查询等。虽然nginx，lua等都是刚接触，但这几个接口还是顺风顺水的坐下来了，不能忘了感谢春哥...","link":"","photos":[],"count_time":{"symbolsCount":"3.6k","symbolsTime":"3 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Tup与Moonscript自动编译","uid":"72fc9906b7ade28d0ec3b847f7af3a98","slug":"old_topic/2016-09-17-183","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.223Z","comments":true,"path":"api/articles/old_topic/2016-09-17-183.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"tup可以监控文件变动的，再执行相应有执行动作。可以设定tupfile规则，当监控目录中的文件发生变化的时候，实时执行编译脚本，只要文件有改动，然后openresty服务会reload文件，刷新一下url就可以看到新的变动结果（LUA）。 安装TUP首先要在Linux上安装FUS...","link":"","photos":[],"count_time":{"symbolsCount":926,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}