{"title":"Simple HTTP","uid":"cb65b6a08ddc1a4fe7638bb1bb5bebfa","slug":"old_topic/2016-09-17-202","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.225Z","comments":true,"path":"api/articles/old_topic/2016-09-17-202.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<p>下面是代码：</p>\n<pre class=\"line-numbers language-lua\" data-language=\"lua\"><code class=\"language-lua\"><span class=\"token keyword\">local</span> http <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"lapis.nginx.http\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">local</span> app <span class=\"token operator\">=</span> lapis<span class=\"token punctuation\">.</span><span class=\"token function\">Application</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\napp<span class=\"token punctuation\">:</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">-- a simple GET request</span>\n  <span class=\"token keyword\">local</span> body<span class=\"token punctuation\">,</span> status_code<span class=\"token punctuation\">,</span> headers <span class=\"token operator\">=</span> http<span class=\"token punctuation\">.</span><span class=\"token function\">simple</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://leafo.net\"</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">-- a post request, data table is form encoded and content-type is set to</span>\n  <span class=\"token comment\">-- application/x-www-form-urlencoded</span>\n  http<span class=\"token punctuation\">.</span><span class=\"token function\">simple</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://leafo.net/\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n    name <span class=\"token operator\">=</span> <span class=\"token string\">\"leafo\"</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">-- manual invocation of the above request</span>\n  http<span class=\"token punctuation\">.</span><span class=\"token function\">simple</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n    url <span class=\"token operator\">=</span> <span class=\"token string\">\"http://leafo.net\"</span><span class=\"token punctuation\">,</span>\n    method <span class=\"token operator\">=</span> <span class=\"token string\">\"POST\"</span><span class=\"token punctuation\">,</span>\n    headers <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token punctuation\">[</span><span class=\"token string\">\"content-type\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"application/x-www-form-urlencoded\"</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    body <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n      name <span class=\"token operator\">=</span> <span class=\"token string\">\"leafo\"</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">end</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>","text":"下面是代码： local http = require(\"lapis.nginx.http\") local app = lapis.Application() app:get(\"/\", function(self) -- a simple GET request local bo...","link":"","photos":[],"count_time":{"symbolsCount":666,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[],"toc":"","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"SAE到VPS的移植","uid":"88294b3320ee535773bca2da0894980a","slug":"old_topic/2016-09-17-204","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.174Z","comments":true,"path":"api/articles/old_topic/2016-09-17-204.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"SAE到VPS的移植 主要移植的内容是python的django, tornado程序。 除了代码不能全放到blog上，把环境移植的东西简单的记录一下。 VPS上比较要有的Python部件。 apt-get install pip pip install django==1.5....","link":"","photos":[],"count_time":{"symbolsCount":585,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Lapis的layout模板","uid":"b5599f0c4982724e820f3ee1c077e29a","slug":"old_topic/2016-09-17-206","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.233Z","comments":true,"path":"api/articles/old_topic/2016-09-17-206.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"作者：糖果 在Lapis框架的源码当中的views文件夹有一个layout.lua文件。 html = require \"lapis.html\" class Default extends html.Widget content: => html_5 -> head -> tit...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}