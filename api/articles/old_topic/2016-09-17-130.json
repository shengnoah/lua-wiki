{"title":"普通用户使用SUDO安装程序","uid":"440f944a15eacd750d61d670fceb563d","slug":"old_topic/2016-09-17-130","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.218Z","comments":true,"path":"api/articles/old_topic/2016-09-17-130.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<h3>1.添加用户</h3> \n<p>可以用adduser和useradd来添加用户，用userdel来删除用户。</p>\n<p>最简单的命令：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo adduser test<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>会自动同名组，创建/home/test/，从etc/skel/复制文件，并设定密码和相关初始身份信息</p>\n<p>原始一点的命令：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo useradd -mk &#x2F;home&#x2F;test2 -s &#x2F;bin&#x2F;bash test2\nsudo passwd test2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>如果将此步骤分解一个一个来做：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo mkdir &#x2F;home&#x2F;test3\nsudo useradd -d &#x2F;home&#x2F;test3 -s &#x2F;bin&#x2F;bash test3\nsudo chown test3:test3 &#x2F;home&#x2F;test3\nsudo cp &#x2F;etc&#x2F;skel&#x2F;* &#x2F;home&#x2F;test3\nsudo passwd test3<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>删除用户：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo userdel test\nrm -rf &#x2F;home&#x2F;test<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h3>2.登录普通用户，sudo使用root权限的设置:</h3> \n<p>进入超级用户<br />\nsu -</p>\n<p>修改sudoers配置文件的属性</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">chmod u+w &#x2F;etc&#x2F;sudoers<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>编辑sudoers文件</p>\n<p>在root ALL=(ALL) ALL下面加一行</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">newusername ALL&#x3D;(ALL) ALL <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>退出修改文件属性</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">chmod u-w &#x2F;etc&#x2F;sudoers<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>之后就可以sudo XXX(命令) 执行了。</p>\n<p>在Openresty运行的时候，如用普通用户起动lapis服务，是没有权限访问80端口的,需要使用sudo lapis server的方式，在普通用用户下访问。</p>\n<p>作者：糖果</p>\n<p>PS:转载到其它平台请注明作者姓名及原文链接，请勿用于商业用途。</p>\n<p><a href=\"http://www.lua.ren\">http://www.lua.ren</a></p>\n","text":"1.添加用户 可以用adduser和useradd来添加用户，用userdel来删除用户。 最简单的命令： sudo adduser test 会自动同名组，创建/home/test/，从etc/skel/复制文件，并设定密码和相关初始身份信息 原始一点的命令： sudo use...","link":"","photos":[],"count_time":{"symbolsCount":869,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua","slug":"lua","count":124,"path":"api/tags/lua.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">1.添加用户</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">2.登录普通用户，sudo使用root权限的设置:</span></a></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"LUA如何遍历返回的JSON数据","uid":"222b2df1d56a571ace7dc7573b0f68fd","slug":"old_topic/2016-09-17-132","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.153Z","comments":true,"path":"api/articles/old_topic/2016-09-17-132.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"作者：糖果 代码如下： function get_json_key(key) if not key then return end local json_var = client:get(key) if not json_var then return end local var...","link":"","photos":[],"count_time":{"symbolsCount":942,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua","slug":"lua","count":124,"path":"api/tags/lua.json"},{"name":"lua json","slug":"lua-json","count":1,"path":"api/tags/lua-json.json"},{"name":"lua循环","slug":"lua循环","count":1,"path":"api/tags/lua循环.json"},{"name":"lua循环遍历","slug":"lua循环遍历","count":1,"path":"api/tags/lua循环遍历.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"LUA FAQ","uid":"a7f454cd8b8cc1ba699e660a76d25326","slug":"old_topic/2016-09-17-133","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.179Z","comments":true,"path":"api/articles/old_topic/2016-09-17-133.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"LUA FAQ Lua判断空表的正确姿势 Lua中ipair和pair关键字的区别是什么？ Lua的转义符号“%” Nginx用户权限(文件读写时候应该注意到的问题) 关于 OPENRESTY 的两三事 NGINX配置初始化过程 OPENRESTY 中的简易HTTP加密 ","link":"","photos":[],"count_time":{"symbolsCount":137,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua","slug":"lua","count":124,"path":"api/tags/lua.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}