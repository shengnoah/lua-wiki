{"title":"进程调试工具","uid":"3dbf10926df36a20b5bcd08982cc5ba0","slug":"old_topic/2016-09-17-388","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.186Z","comments":true,"path":"api/articles/old_topic/2016-09-17-388.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<p>查看TCP链接状态</p>\n<pre class=\"line-numbers language-lua\" data-language=\"lua\"><code class=\"language-lua\">netstat <span class=\"token operator\">-</span>n <span class=\"token operator\">|</span> awk <span class=\"token string\">'/^tcp/ &#123;++S[$NF]&#125; END &#123;for(a in S) print a, S[a]&#125;'</span>\n\nps <span class=\"token operator\">-</span>A <span class=\"token operator\">-</span>o stat<span class=\"token punctuation\">,</span>ppid<span class=\"token punctuation\">,</span>pid<span class=\"token punctuation\">,</span>cmd <span class=\"token operator\">|</span> grep <span class=\"token operator\">-</span>e <span class=\"token string\">'^[Zz]'</span> <span class=\"token operator\">|</span> awk <span class=\"token string\">'&#123;print $2&#125;'</span> <span class=\"token operator\">|</span>\n\nps <span class=\"token operator\">-</span>A <span class=\"token operator\">-</span>o stat<span class=\"token punctuation\">,</span>ppid<span class=\"token punctuation\">,</span>pid<span class=\"token punctuation\">,</span>cmd <span class=\"token operator\">|</span> grep <span class=\"token operator\">-</span>e <span class=\"token string\">'^[Zz]'</span> <span class=\"token operator\">|</span> awk <span class=\"token string\">'&#123;print $2&#125;'</span> <span class=\"token operator\">|</span> xargs kill <span class=\"token operator\">-</span><span class=\"token number\">9</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>查看假死进程</p>\n<pre class=\"line-numbers language-lua\" data-language=\"lua\"><code class=\"language-lua\">ps <span class=\"token operator\">-</span>A <span class=\"token operator\">-</span>o stat<span class=\"token punctuation\">,</span>ppid<span class=\"token punctuation\">,</span>pid<span class=\"token punctuation\">,</span>cmd <span class=\"token operator\">|</span> grep <span class=\"token operator\">-</span>e <span class=\"token string\">'^[Zz]'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>还有两个工具</p>\n<p>pstack</p>\n<p>strace</p>\n","text":"查看TCP链接状态 netstat -n | awk '/^tcp/ &#123;++S[$NF]&#125; END &#123;for(a in S) print a, S[a]&#125;' ps -A -o stat,ppid,pid,cmd | grep -e '^[Z...","link":"","photos":[],"count_time":{"symbolsCount":341,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua","slug":"lua","count":124,"path":"api/tags/lua.json"}],"toc":"","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"TMUX最常用操作命令","uid":"65ce57f5fdb9c6ca938fd44776fc3ed9","slug":"old_topic/2016-09-17-386","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.156Z","comments":true,"path":"api/articles/old_topic/2016-09-17-386.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"作者：糖果 一般情况下，当你用SSH链接VPS，然后关掉terminal的操作窗口时，所有的当前操作都结束了。而如果用TMUX,当前正在运行的非后台操作会话还会存在，下面是TMUX最常用的操作了。 1.创建新会话 tmux new -s candylab 2.选择新会话 tmux...","link":"","photos":[],"count_time":{"symbolsCount":401,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua","slug":"lua","count":124,"path":"api/tags/lua.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"使用Openresty编写WAF插件","uid":"12c80aa2a75d231f673b151b589c54e9","slug":"old_topic/2016-09-17-387","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.180Z","comments":true,"path":"api/articles/old_topic/2016-09-17-387.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"对于有的站点来说，除了一些上传文件的场景，基本上都是GET操作比较多，针对一些GET请求中存在的异常数据，可以在pipeline写一个小的WAF插件来拦截。 直接使用了X-WAF的规则文件： [ &#123;&quot;Id&quot;:26,&quot;RuleType&quo...","link":"","photos":[],"count_time":{"symbolsCount":"4.6k","symbolsTime":"4 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lua","slug":"lua","count":124,"path":"api/tags/lua.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}