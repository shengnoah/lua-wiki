{"title":"ConcurrentLua","uid":"8f06b9deb34ffdfee8f8030a216bc228","slug":"old_topic/2016-09-17-213","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.216Z","comments":true,"path":"api/articles/old_topic/2016-09-17-213.json","keywords":"AIGC,LLM,ç³–æœAIGCå®éªŒå®¤","cover":null,"content":"<h3>ä»‹ç»</h3> \n<p>ConcurrentLua æ˜¯ä¸€ä¸ªæ— å…±äº«å¼‚æ­¥æ¶ˆæ¯ä¼ é€’æ¨¡å‹çš„å®ç°.è¯¥æ¨¡å‹æ¥è‡ªErlangè¯­è¨€.<br>\nå¥¹æ”¹ç¼–äº†Erlangçš„å¹¶å‘å…ƒç´ å¹¶æ•´åˆè¿›Luaé‡Œ.</p>\n<p>ConcurrentLuaçš„ä¸€ä¸ªæ ¸å¿ƒå…ƒç´ æ˜¯ process(è¿›ç¨‹).ä¸€ä¸ªè¿›ç¨‹æ˜¯ä¸€ä¸ªè½»é‡çº§è™šæ‹Ÿæœº</p>\n<p>çº¿ç¨‹,æ‰®æ¼”å’Œæ“ä½œç³»ç»Ÿçš„è¿›ç¨‹åŒæ ·çš„è§’è‰²;ä»–ä»¬ä¸å…±äº«å†…å­˜è€Œæ˜¯ä½¿ç”¨æŸè¿™è¿›ç¨‹é—´é€šè®¯æœºåˆ¶.è¿™äº›è¿›ç¨‹èƒ½å¤Ÿæ ¹æ®éœ€è¦è¢«åˆ›å»ºå’Œé”€æ¯,å¹¶é€šè¿‡ä¸€ä¸ªç®€å•çš„ç¯ç½—å®¾(è½®è®­)ç®—æ³•æ¥è°ƒåº¦ä»–ä»¬.</p>\n<p>æ¯ä¸€ä¸ªè¿›ç¨‹å…³è”åˆ°ä¸€ä¸ªé‚®ç®±(ä¸´æ—¶å­˜å‚¨æ¶ˆæ¯çš„é˜Ÿåˆ—),é€šè¿‡é‚®ç®±æ¥æ¥å—åˆ«çš„è¿›ç¨‹å‘æ¥çš„æ¶ˆæ¯.è¿›ç¨‹å¯ä»¥åœ¨ä»»ä½•æ—¶å€™æ£€æŸ¥è‡ªå·±çš„é‚®ç®±æœ‰æ²¡æœ‰æ–°æ¶ˆæ¯æŠµè¾¾,å¦‚æœæœ‰,è¿›ç¨‹å¯ä»¥æŒ‰ç…§æŠµè¾¾çš„é¡ºåºä¾æ¬¡è¯»å–.</p>\n<p>æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ•°å­—ä½œä¸ºè¿›ç¨‹æ ‡è¯†,å« PID(process identifier).ä¹Ÿå¯ä»¥ç»™è¿›ç¨‹å–ä¸€ä¸ªåå­—,å¹¶ç”¨åå­—æ¥æŒ‡ä»£è¿›ç¨‹.è¿›ç¨‹åå’Œè¿›ç¨‹çš„å¯¹åº”å…³ç³»è¢«ä¿å­˜åˆ°ä¸€ä¸ªä¸­å¿ƒå‚¨è—å®¤â€“registry(æ³¨å†Œè¡¨).è¿›ç¨‹å¯ä»¥ç¼–è¾‘æ³¨å†Œè¡¨,æ·»åŠ æˆ–è€…åˆ é™¤è¡¨é¡¹.</p>\n<p>é”™è¯¯æ•æ‰æœºåˆ¶ä¹Ÿè¢«å®ç°æˆ monitors å’Œ links .é€šè¿‡ monitors è¿›ç¨‹èƒ½å¤Ÿç›‘è§†å…¶ä»–è¿›ç¨‹,å¹¶åœ¨è¢«ç›‘è§†è¿›ç¨‹å¼‚å¸¸ç»ˆæ­¢çš„æ—¶å€™è·å¾—é€šçŸ¥.é€šè¿‡ linker è¿›ç¨‹ç»‘å®šè¿›ç¨‹åˆ°ä¸€èµ·,<br>\nå½“ä¸€ä¸ªè¿›ç¨‹å¼‚å¸¸ç»ˆæ­¢çš„æ—¶å€™,å…¶ä»–è¿›ç¨‹ä¹Ÿè¢«é€šçŸ¥å¹¶ç»ˆæ­¢.</p>\n<p>æœ¬ç³»ç»Ÿè¿˜æ”¯æŒåˆ†å¸ƒå¼ç¼–ç¨‹å’Œæ‰€æœ‰ç›¸å…³çš„ç»„ä»¶.åˆ†å¸ƒå¼çš„è¿›ç¨‹é€šè¿‡å’Œæœ¬åœ°è¿›ç¨‹ä¸€æ ·çš„æ–¹å¼æ¥é€šè®¯.</p>\n<p>åˆ†å¸ƒæ˜¯åŸºäº node(èŠ‚ç‚¹) ç»„ä»¶çš„.ä¸€ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªè¿è¡Œç€å¾ˆå¤šè¿›ç¨‹çš„è¿è¡Œæ—¶ç¯å¢ƒ.<br>\nèŠ‚ç‚¹ä»¬å¯ä»¥ç›¸äº’è¿æ¥å’Œé€šè®¯,äºæ˜¯å»ºç«‹äº†ä¸€ä¸ªè™šæ‹Ÿç½‘ç»œ.åˆ†å¸ƒçš„è¿›ç¨‹ä½¿ç”¨è¿™ä¸ªç½‘ç»œæ¥é¡ºåºäº¤æ¢ä¿¡æ¯.</p>\n<p>æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸ªåå­—.å…¶ä»–çš„èŠ‚ç‚¹å¯ä»¥é€šè¿‡è¿™ä¸ªåå­—æ¥è¿æ¥.ä¸€ä¸ªç«¯å£æ˜ å°„å™¨ç²¾çµè¿›ç¨‹<br>\n(è¯‘æ³¨:å°±æ˜¯æœåŠ¡è¿›ç¨‹,ç±»ä¼¼Erlangæä¾›çš„åå­—æœåŠ¡)æä¾›äº†åå­—è§£ææœåŠ¡.ç«¯å£æ˜ å°„å™¨çŸ¥æ™“è™šæ‹Ÿç½‘ç»œä¸­æ‰€æœ‰çš„èŠ‚ç‚¹çš„ä¿¡æ¯.</p>\n<p>æ­£å¦‚è¿›ç¨‹å¯ä»¥åœ¨æœ¬åœ°åˆ›å»º,è¿›ç¨‹å·²å¯ä»¥åœ¨è¿œç«¯èŠ‚ç‚¹è¢«åˆ›å»º.ä¸€ä¸ªè¿œç¨‹è¿›ç¨‹èƒ½å¤Ÿè¢«è§†åŒä¸ºä¸€ä¸ªæœ¬åœ°è¿›ç¨‹æ¥æ“ä½œ.</p>\n<p>å¦‚æœè™šæ‹Ÿç½‘ç»œä¸­çš„èŠ‚ç‚¹æ˜¯å…¨äº’è”çš„(æ¯ä¸€ä¸ªèŠ‚ç‚¹åŒå‘è¿æ¥å…¶ä»–çš„èŠ‚ç‚¹),é‚£ä¹ˆå¯ä»¥ä½¿ç”¨å…¨å±€è¿›ç¨‹å.èŠ‚ç‚¹ä»¬ç›¸äº’äº¤æµå’Œä¿å…»è™šæ‹Ÿå…¨å±€æ³¨å†Œè¡¨å¹¶ä¿æŒè‡ªå·±æœ¬åœ°çš„æ³¨å†Œè¡¨æ—¶æ—¶æ›´æ–°.</p>\n<p>monitors å’Œ links ä»¥åŒæ ·çš„è¯­ä¹‰æ”¯æŒåˆ†å¸ƒè¿›ç¨‹å’Œæœ¬åœ°è¿›ç¨‹.èŠ‚ç‚¹å¯ä»¥é€æ˜çš„å¤„ç†åˆ†å¸ƒè¿›ç¨‹çš„é”™è¯¯.å¦å¤–,è¿›ç¨‹å¯ä»¥åƒç›‘è§†æ•´ä¸ªèŠ‚ç‚¹.</p>\n<p>èŠ‚ç‚¹å¯ä»¥åœ¨é€šè®¯å‰è¿›è¡Œé‰´æƒ.ä¸€ä¸ªå·²é‰´æƒçš„èŠ‚ç‚¹æ‰å¯ä»¥æˆä¸ºè™šæ‹Ÿç½‘ç»œçš„ä¸€éƒ¨åˆ†.è¿™äº›ç­–ç•¥é€šè¿‡ä¸€ä¸ªç®€å•å®‰å…¨æœºåˆ¶æ¥ä¿è¯.</p>\n<h3>å®ç°</h3> \n<p>ConcurrentLuaçš„å®ç°æ˜¯åŸºäºLuaç»„ä»¶ç³»ç»Ÿå®ç°çš„.è¿™ä¸ªç³»ç»Ÿè´Ÿè´£ç»„ç»‡å’Œç®¡ç†Luaçš„æ¨¡å—å’Œå­æ¨¡å—.ä¸»æ¨¡å—æœ‰ä¸¤ä¸ª,åˆ†åˆ«æä¾›äº†å¹¶å‘åŠŸèƒ½å’Œåˆ†å¸ƒå¼ç¼–ç¨‹åŠŸèƒ½.å¹¶å‘æ¨¡å—å¯ä»¥å•ç‹¬åŠ è½½,æ¯ä¸ªæ¨¡å—éƒ½å¯ä»¥é€‰æ‹©æ€§åŠ è½½éœ€è¦ä½¿ç”¨çš„å­æ¨¡å—.ç‹¬ç«‹çš„ç«¯å£æ˜ å°„å™¨ç²¾çµè¿›ç¨‹ä¹Ÿæ˜¯å®ç°çš„ä¸€éƒ¨åˆ†.<br>\nç³»ç»Ÿä¸­çš„è¿›ç¨‹æ˜¯é€šè¿‡Luaçš„åç¨‹æœºåˆ¶æ¥å®ç°çš„.ä¸€ä¸ªè¿›ç¨‹å…¶å®å°±æ˜¯ä¸€ä¸ªLuaåç¨‹,<br>\né€šè¿‡ yield æ¥æŒ‚èµ·ä¸€ä¸ªè¿›ç¨‹,é€šè¿‡ resume æ¥ç»§ç»­æ‰§è¡Œä¸€ä¸ªè¿›ç¨‹.</p>\n<p>è¿›ç¨‹çš„è°ƒåº¦æœºåˆ¶ä»ç„¶æ˜¯åŸºäºLuaä½¿ç”¨çš„ åä½œå¼å¤šçº¿ç¨‹æ¨¡å‹. è¿›ç¨‹è‡ªæ„¿æŒ‚èµ·è‡ªå·±,<br>\nä»è€Œè®©å…¶å®ƒçš„è¿›ç¨‹è·å¾—è¿è¡Œçš„æœºä¼š.ç„¶è€Œ,æŒ‚èµ·å’Œæ¢å¤è¿›ç¨‹è¢«éƒ¨åˆ†éšè—äºé«˜å±‚æœºåˆ¶ä¹‹ä¸‹;å½“ä¸€ä¸ªè¿›ç¨‹å»ç­‰å¾…æ¶ˆæ¯æŠµè¾¾çš„æ—¶å€™æŒ‚èµ·,è€Œåœ¨æ¶ˆæ¯æŠµè¾¾è¿›ç¨‹é‚®ç®±åå‡†å¤‡æ¢å¤.<br>\nä¸€ä¸ªç®€å•çš„ç¯ç½—å®¾(è½®è®­)è°ƒåº¦å™¨ç”¨æ¥æ¢å¤è¿›ç¨‹çš„æ‰§è¡Œ.</p>\n<p>ä»»ä½•ç±»å‹çš„Luaæ•°æ®,é™¤äº†å†…å­˜å¼•ç”¨å¤–,éƒ½å¯ä»¥é€šè¿‡æ¶ˆæ¯æ¥å‘é€.æ¶ˆæ¯å¯ä»¥æ˜¯å¸ƒå°”å€¼,<br>\næ•°å­—,å­—ç¬¦ä¸²,è¡¨æˆ–è€…å‡½æ•°,æˆ–è€…ä»–ä»¬çš„æ··åˆ.æ•°æ®è‡ªåŠ¨åœ¨å‘é€æ—¶è¢«åºåˆ—åŒ–,å¹¶åœ¨æ¥å—æ—¶ååºåˆ—åŒ–,æ‰€ä»¥çš„æ•°æ®éƒ½æ˜¯å€¼ä¼ é€’.</p>\n<p>èŠ‚ç‚¹é—´çš„åˆ†å¸ƒå¼è¿›ç¨‹é—´é€šè®¯æœºåˆ¶æ˜¯åŸºäºå¼‚æ­¥socketçš„.æ˜ å°„åˆ°ç½‘ç»œå±‚æ˜¯éé˜»å¡<br>\nsocketå’Œå®šæ—¶è½®è®­.è¿™æ˜¯å¦‚ä»Šå¤§éƒ¨åˆ†Luaæ¨¡å—é‡‡ç”¨çš„æ–¹æ³•,éé˜»å¡è¯­ä¹‰ä¹Ÿåº”è¯¥è¢«ç”¨åœ¨ä¾‹å¦‚æ–‡ä»¶å’Œç®¡é“çš„IOæ“ä½œä¸Š.</p>\n<h3>ç”¨æ³•</h3> \n<p>ä¸€äº›ä¾‹å­æä¾›äº†ç³»ç»Ÿä¸è¦ç»„ä»¶çš„ç”¨æ³•,ä¾‹å¦‚,åˆ›å»ºè¿›ç¨‹,åˆ†å¸ƒå¼è¿›ç¨‹çš„æ¶ˆæ¯ä¼ é€’å’Œé”™è¯¯æ•è·.<br>\nåˆ›å»ºè¿›ç¨‹</p>\n<p>spawn()å‡½æ•°å¯ä»¥åˆ›å»ºè¿›ç¨‹.spawn()å‡½æ•°æ¥å—è‡³å°‘ä¸€ä¸ªå‚æ•°,è¯¥å‚æ•°æ ‡å¿—è¿›ç¨‹çš„å…¥å£å‡½æ•°.å…¶å®ƒé™„åŠ å‚æ•°åˆ™è¢«ç›´æ¥è½¬äº¤ç»™å…¥å£å‡½æ•°.<br>\nä¸‹é¢çš„ä¾‹å­ç¤ºèŒƒåˆ›å»ºä¸€ä¸ªè¿›ç¨‹.è¯¥è¿›ç¨‹è¾“å‡ºæŒ‡å®šæ¬¡æ•°çš„æ¶ˆæ¯:</p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span> <span class=\"string\">&#x27;concurrent&#x27;</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">hello_world</span><span class=\"params\">(times)</span></span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i = <span class=\"number\">1</span>, times <span class=\"keyword\">do</span> <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;hello world&#x27;</span>) <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;done&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\">concurrent.spawn(hello_world, <span class=\"number\">3</span>)</span><br><span class=\"line\">concurrent.loop()</span><br></pre></td></tr></table></figure>\n<h4>è¾“å‡ºåº”è¯¥æ˜¯:</h4> \n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hello world</span><br><span class=\"line\">hello world</span><br><span class=\"line\">hello world</span><br><span class=\"line\">done</span><br></pre></td></tr></table></figure>\n<h4>é¦–å…ˆåŠ è½½ç³»ç»Ÿ:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span> <span class=\"string\">&#x27;concurrent&#x27;</span></span><br></pre></td></tr></table></figure>\n<h4>è¿›ç¨‹å…¥å£å‡½æ•°:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">hello_world</span><span class=\"params\">(times)</span></span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i = <span class=\"number\">1</span>, times <span class=\"keyword\">do</span> <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;hello world&#x27;</span>) <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;done&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br></pre></td></tr></table></figure>\n<h4>åˆ›å»ºä¸€ä¸ªæ–°è¿›ç¨‹:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">concurrent.spawn(hello_world, <span class=\"number\">3</span>)</span><br></pre></td></tr></table></figure>\n<h4>æœ€åè°ƒç”¨ç³»ç»Ÿæ— é™å¾ªç¯:</h4> \n<p>concurrent.loop()æ¶ˆæ¯äº¤äº’è¿›ç¨‹é€šè¿‡ send() å’Œ receive() å‡½æ•°æ¥äº¤æ¢æ¶ˆæ¯.åŒæ ·,self()å‡½æ•°ä¹Ÿè¢«ç”¨æ¥è·å–æœ¬è¿›ç¨‹ID.<br>\nä¸‹é¢çš„ç¨‹åºå®ç°äº†ä¸¤ä¸ªè¿›ç¨‹äº¤æ¢æ¶ˆæ¯ç„¶åç»ˆæ­¢:</p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span> <span class=\"string\">&#x27;concurrent&#x27;</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">pong</span><span class=\"params\">()</span></span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> <span class=\"literal\">true</span> <span class=\"keyword\">do</span></span><br><span class=\"line\">        <span class=\"keyword\">local</span> msg = concurrent.receive()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> msg.body == <span class=\"string\">&#x27;finished&#x27;</span> <span class=\"keyword\">then</span></span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">elseif</span> msg.body == <span class=\"string\">&#x27;ping&#x27;</span> <span class=\"keyword\">then</span></span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;pong received ping&#x27;</span>)</span><br><span class=\"line\">            concurrent.send(msg.from, &#123; body = <span class=\"string\">&#x27;pong&#x27;</span> &#125;)</span><br><span class=\"line\">        <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;pong finished&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">ping</span><span class=\"params\">(n, pid)</span></span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i = <span class=\"number\">1</span>, n <span class=\"keyword\">do</span></span><br><span class=\"line\">        concurrent.send(pid, &#123;</span><br><span class=\"line\">            from = concurrent.<span class=\"built_in\">self</span>(),</span><br><span class=\"line\">            body = <span class=\"string\">&#x27;ping&#x27;</span></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        <span class=\"keyword\">local</span> msg = concurrent.receive()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> msg.body == <span class=\"string\">&#x27;pong&#x27;</span> <span class=\"keyword\">then</span></span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;ping received pong&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"keyword\">end</span></span><br><span class=\"line\">    concurrent.send(pid, &#123;</span><br><span class=\"line\">        from = concurrent.<span class=\"built_in\">self</span>(),</span><br><span class=\"line\">        body = <span class=\"string\">&#x27;finished&#x27;</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;ping finished&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\">pid = concurrent.spawn(pong)</span><br><span class=\"line\">concurrent.spawn(ping, <span class=\"number\">3</span>, pid)</span><br><span class=\"line\">concurrent.loop()</span><br></pre></td></tr></table></figure>\n<h4>è¾“å‡ºåº”è¯¥æ˜¯:</h4> \n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pong received ping</span><br><span class=\"line\">ping received pong</span><br><span class=\"line\">pong received ping</span><br><span class=\"line\">ping received pong</span><br><span class=\"line\">pong received ping</span><br><span class=\"line\">ping received pong</span><br><span class=\"line\">pong finished</span><br><span class=\"line\">ping finished</span><br></pre></td></tr></table></figure>\n<h4>åœ¨ pong è¿›ç¨‹è¢«åˆ›å»ºå, ping è¿›ç¨‹è·å¾—äº† pong è¿›ç¨‹çš„ PID:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pid = concurrent.spawn(pong)</span><br><span class=\"line\">concurrent.spawn(ping, <span class=\"number\">3</span>, pid)</span><br></pre></td></tr></table></figure>\n<h4>ping è¿›ç¨‹å‘é€ä¸€ä¸ªæ¶ˆæ¯:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">concurrent.send(pid, &#123;</span><br><span class=\"line\">    from = concurrent.<span class=\"built_in\">self</span>(),</span><br><span class=\"line\">    body = <span class=\"string\">&#x27;ping&#x27;</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h4>pong è¿›ç¨‹ç­‰å¾…æ¶ˆæ¯æŠµè¾¾,ç„¶åæŠŠæ¥æ”¶åˆ°çš„æ¶ˆæ¯ä¿å­˜åˆ°ä¸€ä¸ªå˜é‡ä¸­:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">local</span> msg = concurrent.receive()</span><br></pre></td></tr></table></figure>\n<h4>pong è¿›ç¨‹å›å¤:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">concurrent.send(msg.from, &#123; body = <span class=\"string\">&#x27;pong&#x27;</span> &#125;)</span><br></pre></td></tr></table></figure>\n<p>pong è¿›ç¨‹åœ¨æ¥æ”¶åˆ° ping è¿›ç¨‹å‘æ¥çš„ä¸€ä¸ªæç¤ºåç»ˆç»“.<br>\næ³¨å†Œè¿›ç¨‹åå¯ä»¥ç”¨è¿›ç¨‹åæ›¿ä»£PIDæ¥æŒ‡å®šæ¶ˆæ¯æ¥æ”¶æ–¹. register() å‡½æ•°å¯ä»¥ç”¨æ¥åœ¨æ³¨å†Œè¡¨<br>\n(è¯‘æ³¨:æŒ‡ç³»ç»Ÿçš„åå­—å¯¹åº”è¡¨,è€Œä¸æ˜¯Windowsçš„æ³¨å†Œè¡¨,é¡ºä¾¿é„™è§†ä¸€ä¸‹Windows. ğŸ˜ƒ )</p>\n<h4>åˆ›å»ºä¸€ä¸ªè¿›ç¨‹çš„åå­—:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span> <span class=\"string\">&#x27;concurrent&#x27;</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">pong</span><span class=\"params\">()</span></span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> <span class=\"literal\">true</span> <span class=\"keyword\">do</span></span><br><span class=\"line\">        <span class=\"keyword\">local</span> msg = concurrent.receive()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> msg.body == <span class=\"string\">&#x27;finished&#x27;</span> <span class=\"keyword\">then</span></span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">elseif</span> msg.body == <span class=\"string\">&#x27;ping&#x27;</span> <span class=\"keyword\">then</span></span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;pong received ping&#x27;</span>)</span><br><span class=\"line\">            concurrent.send(msg.from, &#123; body = <span class=\"string\">&#x27;pong&#x27;</span> &#125;)</span><br><span class=\"line\">        <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;pong finished&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">ping</span><span class=\"params\">(n)</span></span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i = <span class=\"number\">1</span>, n <span class=\"keyword\">do</span></span><br><span class=\"line\">        concurrent.send(<span class=\"string\">&#x27;pong&#x27;</span>, &#123;</span><br><span class=\"line\">            from = concurrent.<span class=\"built_in\">self</span>(),</span><br><span class=\"line\">            body = <span class=\"string\">&#x27;ping&#x27;</span></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        <span class=\"keyword\">local</span> msg = concurrent.receive()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> msg.body == <span class=\"string\">&#x27;pong&#x27;</span> <span class=\"keyword\">then</span></span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;ping received pong&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"keyword\">end</span></span><br><span class=\"line\">    concurrent.send(<span class=\"string\">&#x27;pong&#x27;</span>, &#123;</span><br><span class=\"line\">        from = concurrent.<span class=\"built_in\">self</span>(),</span><br><span class=\"line\">        body = <span class=\"string\">&#x27;finished&#x27;</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;ping finished&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\">pid = concurrent.spawn(pong)</span><br><span class=\"line\">concurrent.register(<span class=\"string\">&#x27;pong&#x27;</span>, pid)</span><br><span class=\"line\">concurrent.spawn(ping, <span class=\"number\">3</span>)</span><br><span class=\"line\">concurrent.loop()</span><br></pre></td></tr></table></figure>\n<h4>ç›¸å¯¹å‰ä¸€ä¸ªç‰ˆæœ¬çš„æ”¹å˜å°±æ˜¯ ping è¿›ç¨‹å‘é€æ¶ˆæ¯çš„åœ°æ–¹:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">concurrent.send(<span class=\"string\">&#x27;pong&#x27;</span>, &#123;</span><br><span class=\"line\">    from = concurrent.<span class=\"built_in\">self</span>(),</span><br><span class=\"line\">    body = <span class=\"string\">&#x27;ping&#x27;</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h4>å’Œ:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">concurrent.send(<span class=\"string\">&#x27;pong&#x27;</span>, &#123;</span><br><span class=\"line\">    from = concurrent.<span class=\"built_in\">self</span>(),</span><br><span class=\"line\">    body = <span class=\"string\">&#x27;finished&#x27;</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h4>ä»¥åŠç°åœ¨ pong è¿›ç¨‹æ³¨å†Œäº†å®ƒçš„åå­—:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">concurrent.register(<span class=\"string\">&#x27;pong&#x27;</span>, pid)</span><br></pre></td></tr></table></figure>\n<p>å› æ­¤ ping è¿›ç¨‹ä¸éœ€è¦çŸ¥é“ pong è¿›ç¨‹çš„ PID äº†.<br>\nåˆ†å¸ƒå¼æ¶ˆæ¯ä¼ é€’ä¸åŒèŠ‚ç‚¹ä¸Šçš„è¿›ç¨‹ä»ç„¶å¯ä»¥ä½¿ç”¨åŒæ ·çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶.è¿œç¨‹è¿›ç¨‹é€šè¿‡ PIDæˆ–è¿›ç¨‹å åŠ ä¸ŠèŠ‚ç‚¹åæ¥æŒ‡å®š.å…ˆå‰çš„ä¾‹å­å¯ä»¥æ”¹é€ æˆä¸¤ä¸ªç¨‹åº,åˆ†åˆ«æ˜¯ä¸€ä¸ªç‹¬ç«‹è¿›ç¨‹.</p>\n<h4>pong è¿›ç¨‹çš„ä»£ç å¦‚ä¸‹:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span> <span class=\"string\">&#x27;concurrent&#x27;</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">pong</span><span class=\"params\">()</span></span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> <span class=\"literal\">true</span> <span class=\"keyword\">do</span></span><br><span class=\"line\">        <span class=\"keyword\">local</span> msg = concurrent.receive()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> msg.body == <span class=\"string\">&#x27;finished&#x27;</span> <span class=\"keyword\">then</span></span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">elseif</span> msg.body == <span class=\"string\">&#x27;ping&#x27;</span> <span class=\"keyword\">then</span></span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;pong received ping&#x27;</span>)</span><br><span class=\"line\">            concurrent.send(msg.from, &#123; body = <span class=\"string\">&#x27;pong&#x27;</span> &#125;)</span><br><span class=\"line\">        <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;pong finished&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\">concurrent.init(<span class=\"string\">&#x27;pong@gaia&#x27;</span>)</span><br><span class=\"line\">pid = concurrent.spawn(pong)</span><br><span class=\"line\">concurrent.register(<span class=\"string\">&#x27;pong&#x27;</span>, pid)</span><br><span class=\"line\">concurrent.loop()</span><br><span class=\"line\">concurrent.shutdown()</span><br></pre></td></tr></table></figure>\n<h4>ping è¿›ç¨‹çš„ä»£ç å¦‚ä¸‹:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span> <span class=\"string\">&#x27;concurrent&#x27;</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">ping</span><span class=\"params\">(n)</span></span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i = <span class=\"number\">1</span>, n <span class=\"keyword\">do</span></span><br><span class=\"line\">        concurrent.send(&#123; <span class=\"string\">&#x27;pong&#x27;</span>, <span class=\"string\">&#x27;pong@gaia&#x27;</span> &#125;, &#123;</span><br><span class=\"line\">            from = &#123; concurrent.<span class=\"built_in\">self</span>(), concurrent.node() &#125;,</span><br><span class=\"line\">            body = <span class=\"string\">&#x27;ping&#x27;</span></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        <span class=\"keyword\">local</span> msg = concurrent.receive()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> msg.body == <span class=\"string\">&#x27;pong&#x27;</span> <span class=\"keyword\">then</span></span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;ping received pong&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"keyword\">end</span></span><br><span class=\"line\">    concurrent.send(&#123; <span class=\"string\">&#x27;pong&#x27;</span>, <span class=\"string\">&#x27;pong@gaia&#x27;</span> &#125;, &#123;</span><br><span class=\"line\">        from = &#123; concurrent.<span class=\"built_in\">self</span>(), concurrent.node() &#125;,</span><br><span class=\"line\">        body = <span class=\"string\">&#x27;finished&#x27;</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;ping finished&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\">concurrent.spawn(ping, <span class=\"number\">3</span>)</span><br><span class=\"line\">concurrent.init(<span class=\"string\">&#x27;ping@selene&#x27;</span>)</span><br><span class=\"line\">concurrent.loop()</span><br><span class=\"line\">concurrent.shutdown()</span><br></pre></td></tr></table></figure>\n<p>(è¯‘æ³¨: å¦‚æœä½ æƒ³è‡ªå·±è·‘è¿™ä¸ªä¾‹å­éœ€è¦ä¿®æ”¹ä¸Šé¢çš„èŠ‚ç‚¹åååŠéƒ¨åˆ†çš„æœºå™¨åéƒ¨åˆ†,ä½¿ä¹‹å’Œä½ çš„ç½‘ç»œç¯å¢ƒç›¸åŒ¹é….)pong è¿›ç¨‹çš„è¾“å‡ºåº”è¯¥æ˜¯:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pong received ping</span><br><span class=\"line\">pong received ping</span><br><span class=\"line\">pong received ping</span><br><span class=\"line\">pong finished</span><br></pre></td></tr></table></figure>\n<h4>ping è¿›ç¨‹çš„è¾“å‡ºåº”è¯¥æ˜¯:</h4> \n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ping received pong</span><br><span class=\"line\">ping received pong</span><br><span class=\"line\">ping received pong</span><br><span class=\"line\">ping finished</span><br></pre></td></tr></table></figure>\n<h4>åœ¨è¿™ä¸ªä¾‹å­é‡Œ,è¿è¡Œæ—¶ç³»ç»Ÿè¿è¡Œåœ¨åˆ†å¸ƒå¼æ¨¡å¼.ä¸ºäº†çœ‹åˆ°ç»“æœ,ç«¯å£æ˜ å°„å™¨å¿…é¡»å…ˆè¿è¡Œ:</h4> \n<p>$ clpmd</p>\n<h4>åˆå§‹åŒ– pong è¿›ç¨‹æ‰€åœ¨èŠ‚ç‚¹çš„ä»£ç :</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">concurrent.init(<span class=\"string\">&#x27;pong@gaia&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<h4>åˆå§‹åŒ– ping è¿›ç¨‹æ‰€åœ¨èŠ‚ç‚¹çš„ä»£ç :</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">concurrent.init(<span class=\"string\">&#x27;ping@selene&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<h4>ä¸Šé¢ä¸¤å¥ä»£ç æ³¨å†ŒèŠ‚ç‚¹åˆ°ç«¯å£æ˜ å°„å™¨.å»æ³¨å†Œæ˜¯é€šè¿‡:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">concurrent.shutdown()</span><br></pre></td></tr></table></figure>\n<h4>è¿™ä¸ªä¾‹å­çš„å”¯ä¸€æ”¹åŠ¨æ˜¯æ¶ˆæ¯å‘é€çš„ç›®çš„åœ°.node()å‡½æ•°ä¼šè¿”å›è°ƒç”¨è¿›ç¨‹ååœ¨èŠ‚ç‚¹çš„åå­—:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">concurrent.send(&#123; <span class=\"string\">&#x27;pong&#x27;</span>, <span class=\"string\">&#x27;pong@gaia&#x27;</span> &#125;, &#123;</span><br><span class=\"line\">    from = &#123; concurrent.<span class=\"built_in\">self</span>(), concurrent.node() &#125;,</span><br><span class=\"line\">    body = <span class=\"string\">&#x27;ping&#x27;</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h4>æ¥ä¸‹æ¥:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">concurrent.send(&#123; <span class=\"string\">&#x27;pong&#x27;</span>, <span class=\"string\">&#x27;pong@gaia&#x27;</span> &#125;, &#123;</span><br><span class=\"line\">    from = &#123; concurrent.<span class=\"built_in\">self</span>(), concurrent.node() &#125;,</span><br><span class=\"line\">    body = <span class=\"string\">&#x27;finished&#x27;</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h4>é”™è¯¯å¤„ç†ä¸€ä¸ªæ•è·è¿›ç¨‹é—´é”™è¯¯çš„æ–¹æ³•æ˜¯è¿æ¥è¿›ç¨‹.ä¸¤ä¸ªè¿›ç¨‹è¢«ç»‘å®šåˆ°ä¸€èµ·,ä¸€ä¸ªå¼‚å¸¸ç»ˆæ­¢çš„åå¦ä¸€ä¸ªä¹Ÿä¼šç»ˆæ­¢.link()å‡½æ•°ç”¨æ¥ç»‘å®šè¿›ç¨‹:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span> <span class=\"string\">&#x27;concurrent&#x27;</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">ping</span><span class=\"params\">(n, pid)</span></span></span><br><span class=\"line\">    concurrent.link(pid)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i = <span class=\"number\">1</span>, n <span class=\"keyword\">do</span></span><br><span class=\"line\">        concurrent.send(pid, &#123;</span><br><span class=\"line\">            from = concurrent.<span class=\"built_in\">self</span>(),</span><br><span class=\"line\">            body = <span class=\"string\">&#x27;ping&#x27;</span></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        <span class=\"keyword\">local</span> msg = concurrent.receive()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> msg.body == <span class=\"string\">&#x27;pong&#x27;</span> <span class=\"keyword\">then</span></span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;ping received pong&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;ping finished&#x27;</span>)</span><br><span class=\"line\">    concurrent.<span class=\"built_in\">exit</span>(<span class=\"string\">&#x27;finished&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">pong</span><span class=\"params\">()</span></span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> <span class=\"literal\">true</span> <span class=\"keyword\">do</span></span><br><span class=\"line\">        <span class=\"keyword\">local</span> msg = concurrent.receive()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> msg.body == <span class=\"string\">&#x27;ping&#x27;</span> <span class=\"keyword\">then</span></span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;pong received ping&#x27;</span>)</span><br><span class=\"line\">            concurrent.send(msg.from, &#123; body = <span class=\"string\">&#x27;pong&#x27;</span> &#125;)</span><br><span class=\"line\">        <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;pong finished&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\">pid = concurrent.spawn(pong)</span><br><span class=\"line\">concurrent.spawn(ping, <span class=\"number\">3</span>, pid)</span><br><span class=\"line\">concurrent.loop()</span><br></pre></td></tr></table></figure>\n<h4>è¾“å‡ºåº”è¯¥æ˜¯:</h4> \n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pong received ping</span><br><span class=\"line\">ping received pong</span><br><span class=\"line\">pong received ping</span><br><span class=\"line\">ping received pong</span><br><span class=\"line\">pong received ping</span><br><span class=\"line\">ping received pong</span><br><span class=\"line\">pong finished </span><br></pre></td></tr></table></figure>\n<p>â€“ è¯‘æ³¨:è¿™é‡Œåº”è¯¥æ˜¯: ping fininshedpong è¿›ç¨‹æ°¸è¿œä¸ä¼šè¿è¡Œåˆ°æœ€åä¸€è¡Œ,å› ä¸ºä»–åœ¨æ¥æ”¶åˆ° ping è¿›ç¨‹é€€å‡ºä¿¡å·çš„æ—¶å€™ä¼šç»ˆæ­¢.</p>\n<h4>è¿æ¥è¿›ç¨‹çš„ä»£ç å¦‚ä¸‹:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">concurrent.link(pid)</span><br></pre></td></tr></table></figure>\n<h4>ä¹Ÿå¯ä»¥æ•è·è¿›ç¨‹ç»ˆæ­¢å¯¼è‡´çš„exitä¿¡å·.è¢«æ•è·çš„exitä¿¡å·ä¼šè½¬æ¢æˆä¸€ä¸ªç‰¹æ®Šçš„æ¶ˆæ¯:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span> <span class=\"string\">&#x27;concurrent&#x27;</span></span><br><span class=\"line\">concurrent.setoption(<span class=\"string\">&#x27;trapexit&#x27;</span>, <span class=\"literal\">true</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">pong</span><span class=\"params\">()</span></span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> <span class=\"literal\">true</span> <span class=\"keyword\">do</span></span><br><span class=\"line\">        <span class=\"keyword\">local</span> msg = concurrent.receive()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> msg.signal == <span class=\"string\">&#x27;EXIT&#x27;</span> <span class=\"keyword\">then</span></span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">elseif</span> msg.body == <span class=\"string\">&#x27;ping&#x27;</span> <span class=\"keyword\">then</span></span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;pong received ping&#x27;</span>)</span><br><span class=\"line\">            concurrent.send(msg.from, &#123; body = <span class=\"string\">&#x27;pong&#x27;</span> &#125;)</span><br><span class=\"line\">        <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;pong finished&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">ping</span><span class=\"params\">(n, pid)</span></span></span><br><span class=\"line\">    concurrent.link(pid)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i = <span class=\"number\">1</span>, n <span class=\"keyword\">do</span></span><br><span class=\"line\">        concurrent.send(pid, &#123;</span><br><span class=\"line\">            from = concurrent.<span class=\"built_in\">self</span>(),</span><br><span class=\"line\">            body = <span class=\"string\">&#x27;ping&#x27;</span></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        <span class=\"keyword\">local</span> msg = concurrent.receive()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> msg.body == <span class=\"string\">&#x27;pong&#x27;</span> <span class=\"keyword\">then</span></span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;ping received pong&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;ping finished&#x27;</span>)</span><br><span class=\"line\">    concurrent.<span class=\"built_in\">exit</span>(<span class=\"string\">&#x27;finished&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\">pid = concurrent.spawn(pong)</span><br><span class=\"line\">concurrent.spawn(ping, <span class=\"number\">3</span>, pid)</span><br><span class=\"line\">concurrent.loop()</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4>è¾“å‡ºåº”è¯¥æ˜¯:</h4> \n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pong received ping</span><br><span class=\"line\">ping received pong</span><br><span class=\"line\">pong received ping</span><br><span class=\"line\">ping received pong</span><br><span class=\"line\">pong received ping</span><br><span class=\"line\">ping received pong</span><br><span class=\"line\">pong finished</span><br></pre></td></tr></table></figure>\n<h4>ping finishedå¯ä»¥é€šè¿‡ setoption() å‡½æ•°æ¥è®¾ç½®è¿›ç¨‹é“¾æ¥çš„é€‰é¡¹,è¿™é‡Œæ˜¯ trapexit é€‰é¡¹:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">concurrent.setoption(<span class=\"string\">&#x27;trapexit&#x27;</span>, <span class=\"literal\">true</span>)</span><br></pre></td></tr></table></figure>\n<h4>pong è¿›ç¨‹ä¼šæ¥æ”¶åˆ°ä¸€ä¸ªé€€å‡ºæ¶ˆæ¯:</h4> \n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> msg.signal == <span class=\"string\">&#x27;EXIT&#x27;</span> <span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"keyword\">break</span></span><br></pre></td></tr></table></figure>\n<p>åŸºäºæç¤ºæ¶ˆæ¯çš„monitor, ä¹Ÿå¯ä»¥ç”¨æ¥å¤„ç†é”™è¯¯.</p>\n<p>åŸæ–‡è¿æ¥ï¼š<br>\n<a href=\"http://floss.qiniucdn.com/data/20110831112702/index.html\">http://floss.qiniucdn.com/data/20110831112702/index.html</a></p>\n","text":"ä»‹ç» ConcurrentLua æ˜¯ä¸€ä¸ªæ— å…±äº«å¼‚æ­¥æ¶ˆæ¯ä¼ é€’æ¨¡å‹çš„å®ç°.è¯¥æ¨¡å‹æ¥è‡ªErlangè¯­è¨€. å¥¹æ”¹ç¼–äº†Erlangçš„å¹¶å‘å…ƒç´ å¹¶æ•´åˆè¿›Luaé‡Œ. ConcurrentLuaçš„ä¸€ä¸ªæ ¸å¿ƒå…ƒç´ æ˜¯ process(è¿›ç¨‹).ä¸€ä¸ªè¿›ç¨‹æ˜¯ä¸€ä¸ªè½»é‡çº§è™šæ‹Ÿæœº çº¿ç¨‹,æ‰®æ¼”å’Œæ“ä½œç³»ç»Ÿçš„è¿›ç¨‹åŒæ ·çš„è§’...","link":"","photos":[],"count_time":{"symbolsCount":"10k","symbolsTime":"9 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">ä»‹ç»</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">å®ç°</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">ç”¨æ³•</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">è¾“å‡ºåº”è¯¥æ˜¯:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">é¦–å…ˆåŠ è½½ç³»ç»Ÿ:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">è¿›ç¨‹å…¥å£å‡½æ•°:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">åˆ›å»ºä¸€ä¸ªæ–°è¿›ç¨‹:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">æœ€åè°ƒç”¨ç³»ç»Ÿæ— é™å¾ªç¯:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">è¾“å‡ºåº”è¯¥æ˜¯:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">åœ¨ pong è¿›ç¨‹è¢«åˆ›å»ºå, ping è¿›ç¨‹è·å¾—äº† pong è¿›ç¨‹çš„ PID:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">ping è¿›ç¨‹å‘é€ä¸€ä¸ªæ¶ˆæ¯:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">pong è¿›ç¨‹ç­‰å¾…æ¶ˆæ¯æŠµè¾¾,ç„¶åæŠŠæ¥æ”¶åˆ°çš„æ¶ˆæ¯ä¿å­˜åˆ°ä¸€ä¸ªå˜é‡ä¸­:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">pong è¿›ç¨‹å›å¤:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">åˆ›å»ºä¸€ä¸ªè¿›ç¨‹çš„åå­—:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">ç›¸å¯¹å‰ä¸€ä¸ªç‰ˆæœ¬çš„æ”¹å˜å°±æ˜¯ ping è¿›ç¨‹å‘é€æ¶ˆæ¯çš„åœ°æ–¹:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">å’Œ:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">ä»¥åŠç°åœ¨ pong è¿›ç¨‹æ³¨å†Œäº†å®ƒçš„åå­—:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">pong è¿›ç¨‹çš„ä»£ç å¦‚ä¸‹:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">ping è¿›ç¨‹çš„ä»£ç å¦‚ä¸‹:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">ping è¿›ç¨‹çš„è¾“å‡ºåº”è¯¥æ˜¯:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">åœ¨è¿™ä¸ªä¾‹å­é‡Œ,è¿è¡Œæ—¶ç³»ç»Ÿè¿è¡Œåœ¨åˆ†å¸ƒå¼æ¨¡å¼.ä¸ºäº†çœ‹åˆ°ç»“æœ,ç«¯å£æ˜ å°„å™¨å¿…é¡»å…ˆè¿è¡Œ:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">åˆå§‹åŒ– pong è¿›ç¨‹æ‰€åœ¨èŠ‚ç‚¹çš„ä»£ç :</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">åˆå§‹åŒ– ping è¿›ç¨‹æ‰€åœ¨èŠ‚ç‚¹çš„ä»£ç :</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">ä¸Šé¢ä¸¤å¥ä»£ç æ³¨å†ŒèŠ‚ç‚¹åˆ°ç«¯å£æ˜ å°„å™¨.å»æ³¨å†Œæ˜¯é€šè¿‡:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">è¿™ä¸ªä¾‹å­çš„å”¯ä¸€æ”¹åŠ¨æ˜¯æ¶ˆæ¯å‘é€çš„ç›®çš„åœ°.node()å‡½æ•°ä¼šè¿”å›è°ƒç”¨è¿›ç¨‹ååœ¨èŠ‚ç‚¹çš„åå­—:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">æ¥ä¸‹æ¥:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">é”™è¯¯å¤„ç†ä¸€ä¸ªæ•è·è¿›ç¨‹é—´é”™è¯¯çš„æ–¹æ³•æ˜¯è¿æ¥è¿›ç¨‹.ä¸¤ä¸ªè¿›ç¨‹è¢«ç»‘å®šåˆ°ä¸€èµ·,ä¸€ä¸ªå¼‚å¸¸ç»ˆæ­¢çš„åå¦ä¸€ä¸ªä¹Ÿä¼šç»ˆæ­¢.link()å‡½æ•°ç”¨æ¥ç»‘å®šè¿›ç¨‹:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">è¾“å‡ºåº”è¯¥æ˜¯:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">è¿æ¥è¿›ç¨‹çš„ä»£ç å¦‚ä¸‹:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">ä¹Ÿå¯ä»¥æ•è·è¿›ç¨‹ç»ˆæ­¢å¯¼è‡´çš„exitä¿¡å·.è¢«æ•è·çš„exitä¿¡å·ä¼šè½¬æ¢æˆä¸€ä¸ªç‰¹æ®Šçš„æ¶ˆæ¯:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">è¾“å‡ºåº”è¯¥æ˜¯:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">ping finishedå¯ä»¥é€šè¿‡ setoption() å‡½æ•°æ¥è®¾ç½®è¿›ç¨‹é“¾æ¥çš„é€‰é¡¹,è¿™é‡Œæ˜¯ trapexit é€‰é¡¹:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\"><span class=\"toc-text\">pong è¿›ç¨‹ä¼šæ¥æ”¶åˆ°ä¸€ä¸ªé€€å‡ºæ¶ˆæ¯:</span></a></li></ol></li></ol>","author":{"name":"å®‰å…¨ä¹¦","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"ã€Šå¢¨å®ˆä¹‹é“-WebæœåŠ¡å®‰å…¨æ¶æ„ä¸å®è·µã€‹","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"LUA WEBæ¶æ¡†LORåŸºç¡€ç®€ä»‹","uid":"e465db6ba9cb253a17d5f94de4f683b9","slug":"old_topic/2016-09-17-211","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.152Z","comments":true,"path":"api/articles/old_topic/2016-09-17-211.json","keywords":"AIGC,LLM,ç³–æœAIGCå®éªŒå®¤","cover":[],"text":"ä½œè€…ï¼šç³–æœ LORæ˜¯æœ€è¿‘å›½å†…çš„LUA WEBå¼€å‘æ¡†æ¶ï¼Œç›®å‰å·²ç»å‘å¸ƒåˆ°äº†0.3ç‰ˆï¼Œæ˜¨å¤©æ™šä¸Šä½œè€…åˆ†äº«äº†ä»–çš„åˆå§‹è®¾è®¡å›¾ï¼Œ åœ¨QQç¾¤é‡Œå‘çš„ã€‚ æœ€å¼€å§‹çš„æ—¶å€™ï¼Œloræ˜¯å€Ÿé‰´vanillaçš„ï¼Œä¹‹åä½œè€…è½¬å‘è®¾è®¡ï¼Œå¼€å§‹å‘expressjsé æ‹¢ã€‚ ç›®å‰æ¥çœ‹çš„ï¼Œloréå¸¸å¼•äººå…³æ³¨çš„æ˜¯lorçš„è·¯ç”±è®¾è®¡ã€‚...","link":"","photos":[],"count_time":{"symbolsCount":"2.5k","symbolsTime":"2 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"å®‰å…¨ä¹¦","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"ã€Šå¢¨å®ˆä¹‹é“-WebæœåŠ¡å®‰å…¨æ¶æ„ä¸å®è·µã€‹","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"ä½¿ç”¨PagesæœåŠ¡åˆ›å»ºé™æ€åšå®¢(ä¸Š)","uid":"a8389061bbd1e9023a83242f7e76acdb","slug":"old_topic/2016-09-17-215","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.159Z","comments":true,"path":"api/articles/old_topic/2016-09-17-215.json","keywords":"AIGC,LLM,ç³–æœAIGCå®éªŒå®¤","cover":[],"text":"ä½œè€…ï¼šç³–æœ Coding.netåŒæ ·æä¾›äº†ç±»ä¼¼githubçš„pagesçš„åŠŸèƒ½ï¼Œ è¿™æ ·å°±å¯ä»¥ä½¿ç”¨pagesæœåŠ¡åˆ›å»ºé™æ€åšå®¢ã€‚ åˆ›å»ºæ­¥éª¤ï¼š é…ç½®æœ¬åœ°gitç¯å¢ƒã€‚ æœ¬åœ°åˆ›å»ºç›®å½•ç»“æ„å’Œé™æ€æ–‡ä»¶ã€‚ åˆå§‹åŒ–æœ¬åœ°ç›®å½•ä¸ºgitå·¥ç¨‹ï¼Œåˆ›å»ºæœ¬åœ°åˆ†æ”¯ï¼Œå¹¶ä¸Šä¼ æ–‡ä»¶ã€‚ å¯åŠ¨é…ç½®codingä¸Šçš„pagesï¼Œ...","link":"","photos":[],"count_time":{"symbolsCount":"1.7k","symbolsTime":"2 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"å®‰å…¨ä¹¦","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"ã€Šå¢¨å®ˆä¹‹é“-WebæœåŠ¡å®‰å…¨æ¶æ„ä¸å®è·µã€‹","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}