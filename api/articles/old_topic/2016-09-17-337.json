{"title":"在Lapis上用moonscript渲染和接收json","uid":"bc2b21685789386351af0e07c572df47","slug":"old_topic/2016-09-17-337","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-18T06:44:11.069Z","comments":true,"path":"api/articles/old_topic/2016-09-17-337.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<p>编辑整理：糖果</p>\n<pre class=\"line-numbers language-lua\" data-language=\"lua\"><code class=\"language-lua\">lapis <span class=\"token operator\">=</span> require <span class=\"token string\">\"lapis\"</span>                                                                                                                                                   \nimport json_params from require <span class=\"token string\">\"lapis.application\"</span>                                                                                                                       \n                                                                                                                                                                          \nclass App extends lapis<span class=\"token punctuation\">.</span>Application                                                                                                                                       \n  <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span>                                                                                                                                                                 \n    <span class=\"token punctuation\">&#123;</span>                                                                                                                                                                     \n      json<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">&#123;</span>                                                                                                                                                             \n        success<span class=\"token punctuation\">:</span> <span class=\"token keyword\">true</span>                                                                                                                                                     \n        message<span class=\"token punctuation\">:</span> <span class=\"token string\">\"hello world\"</span>                                                                                                                                            \n      <span class=\"token punctuation\">&#125;</span>                                                                                                                                                                   \n    <span class=\"token punctuation\">&#125;</span>                                                                                                                                                                     \n  <span class=\"token string\">\"/json\"</span><span class=\"token punctuation\">:</span> json_params <span class=\"token operator\">=</span><span class=\"token operator\">></span>                                                                                                                                                 \n    @params<span class=\"token punctuation\">.</span>value    <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>用curl进行测试：</p>\n<pre class=\"line-numbers language-lua\" data-language=\"lua\"><code class=\"language-lua\">curl <span class=\"token operator\">-</span>H <span class=\"token string\">\"Content-type: application/json\"</span>  <span class=\"token operator\">-</span>d <span class=\"token string\">'&#123;\"value\": \"hello\"&#125;'</span>  <span class=\"token number\">0.0</span><span class=\"token number\">.0</span><span class=\"token number\">.0</span><span class=\"token punctuation\">:</span><span class=\"token number\">8080</span><span class=\"token operator\">/</span>json<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>","text":"编辑整理：糖果 lapis = require \"lapis\" import json_params from require \"lapis.application\" class App extends lapis.Application \"/\": => &#123; json:...","link":"","photos":[],"count_time":{"symbolsCount":"2.2k","symbolsTime":"2 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[{"name":"lapis","slug":"lapis","count":3,"path":"api/tags/lapis.json"}],"toc":"","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"swagger-codegen","uid":"ab4e3b90afa2a7d7ef0c9c51547de844","slug":"old_topic/2016-09-17-336","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.214Z","comments":true,"path":"api/articles/old_topic/2016-09-17-336.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"swagger-codegen generate -c config -i http://host:port/api/api-docs -l lua -o ./graylog ","link":"","photos":[],"count_time":{"symbolsCount":88,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"运行openresty的docker容器","uid":"01173aa02c4077fa378e3b1fa24d186b","slug":"old_topic/2016-09-17-338","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.192Z","comments":true,"path":"api/articles/old_topic/2016-09-17-338.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"编辑作者：糖果 找了些资料，用了一下docker的openrsty的测试。 直接拉取1.9版的Openresty。 docker pull openresty&#x2F;openresty:1.9.15.1-trusty 将特理机的8080端口和docker的80端口映射。 将不...","link":"","photos":[],"count_time":{"symbolsCount":"1.2k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}