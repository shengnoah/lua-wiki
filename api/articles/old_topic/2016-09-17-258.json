{"title":"Logstash基础配置","uid":"a118688c77f2ae8c55789318279921c8","slug":"old_topic/2016-09-17-258","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.197Z","comments":true,"path":"api/articles/old_topic/2016-09-17-258.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","content":"<p>编辑：糖果</p>\n<p>Logstash的启动脚本中有比较多的命令行参数：</p>\n<p>###-f ：用于指定配置文件</p>\n<p>使用文件，目录，或者通配符加载配置信息，如果指定为目录或者通配符，按字母顺序加载。</p>\n<p>###-e:  用于指定字符串输入</p>\n<p>默认输入为，</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">stdin &#123; type &#x3D;&gt; stdin &#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>默认输出为：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">stdout &#123; codec &#x3D;&gt; rubydebug &#125;&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"-w-指filterworkers的数量默认为1\"><a class=\"markdownIt-Anchor\" href=\"#-w-指filterworkers的数量默认为1\"></a> -w: 指FilterWorkers的数量，默认为1</h3>\n<h3 id=\"-l指定输出文件的路径默认为控制台输出\"><a class=\"markdownIt-Anchor\" href=\"#-l指定输出文件的路径默认为控制台输出\"></a> -l：指定输出文件的路径，默认为控制台输出</h3>\n<h3 id=\"verbose设置较少的日志\"><a class=\"markdownIt-Anchor\" href=\"#verbose设置较少的日志\"></a> –verbose:设置较少的日志</h3>\n<h3 id=\"debug设置更消息的日志\"><a class=\"markdownIt-Anchor\" href=\"#debug设置更消息的日志\"></a> –debug:设置更消息的日志</h3>\n<h3 id=\"watchdog-timeout-timeout-设置watchdog超时时间默认为10秒\"><a class=\"markdownIt-Anchor\" href=\"#watchdog-timeout-timeout-设置watchdog超时时间默认为10秒\"></a> –watchdog-timeout TIMEOUT 设置watchdog超时时间，默认为10秒。</h3>\n<p>启动案例：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">bin&#x2F;logstash -f logstash-simple.conf  -w 2 <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>logstash-simple.conf内容为：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">input &#123; stdin &#123; &#125; &#125; #输入\n\nfilter&#123;&#125;            #过滤器\noutput &#123;            #输出\n  elasticsearch &#123; host &#x3D;&gt; localhost &#125;\n  stdout &#123; codec &#x3D;&gt; rubydebug &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>插件安装：</p>\n<p>LS提供了一个plugin脚本用于安装输入输出插件。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">$LS_HOME&#x2F;bin&#x2F;plugin<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>如：安装KafKa插件</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">bin&#x2F;plugin install logstash-output-kafka<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>卸载KafKa插件</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">bin&#x2F;plugin uninstall logstash-output-kafka<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>更新所有的插件</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">bin&#x2F;plugin update<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>更新单个插件</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">bin&#x2F;plugin update logstash-output-kafka<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>查看插件列表</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">bin&#x2F;plugin list\nbin&#x2F;plugin list ko  列出包含ko字符的插件\nbin&#x2F;plugin list --group output 列出指定组的插件。<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p><a href=\"http://corejava2008.iteye.com/blog/2215545?utm_source=tuicool&amp;utm_medium=referral\">原文</a></p>\n","text":"编辑：糖果 Logstash的启动脚本中有比较多的命令行参数： ###-f ：用于指定配置文件 使用文件，目录，或者通配符加载配置信息，如果指定为目录或者通配符，按字母顺序加载。 ###-e: 用于指定字符串输入 默认输入为， stdin &#123; type &#x3D;&g...","link":"","photos":[],"count_time":{"symbolsCount":"1k","symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#-w-%E6%8C%87filterworkers%E7%9A%84%E6%95%B0%E9%87%8F%E9%BB%98%E8%AE%A4%E4%B8%BA1\"><span class=\"toc-text\"> -w: 指FilterWorkers的数量，默认为1</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#-l%E6%8C%87%E5%AE%9A%E8%BE%93%E5%87%BA%E6%96%87%E4%BB%B6%E7%9A%84%E8%B7%AF%E5%BE%84%E9%BB%98%E8%AE%A4%E4%B8%BA%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%87%BA\"><span class=\"toc-text\"> -l：指定输出文件的路径，默认为控制台输出</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#verbose%E8%AE%BE%E7%BD%AE%E8%BE%83%E5%B0%91%E7%9A%84%E6%97%A5%E5%BF%97\"><span class=\"toc-text\"> –verbose:设置较少的日志</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#debug%E8%AE%BE%E7%BD%AE%E6%9B%B4%E6%B6%88%E6%81%AF%E7%9A%84%E6%97%A5%E5%BF%97\"><span class=\"toc-text\"> –debug:设置更消息的日志</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#watchdog-timeout-timeout-%E8%AE%BE%E7%BD%AEwatchdog%E8%B6%85%E6%97%B6%E6%97%B6%E9%97%B4%E9%BB%98%E8%AE%A4%E4%B8%BA10%E7%A7%92\"><span class=\"toc-text\"> –watchdog-timeout TIMEOUT 设置watchdog超时时间，默认为10秒。</span></a></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Sitegen的模板问题","uid":"27f5dd10d15b97af4bd3b63c97316dd6","slug":"old_topic/2016-09-17-256","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.213Z","comments":true,"path":"api/articles/old_topic/2016-09-17-256.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"作者：糖果 Sitegen的模板是用MoonScript定义， 但是leafo老版的代码，貌似和VPS的环境结合的不是很好，是不是纯环境原因造成的不深究了，直接把模板代码改成需要的样式。 div class: \"post\", -> div class: \"sidebar\", ->...","link":"","photos":[],"count_time":{"symbolsCount":256,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Nginx与OpenResty的用户权限管理","uid":"64be2f7f885d3e6489a053f52dc644fa","slug":"old_topic/2016-09-17-257","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T07:45:09.234Z","comments":true,"path":"api/articles/old_topic/2016-09-17-257.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":"https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg","text":"作者：足至迹留 编辑：糖果 原文引用: 【原文】 Nginx用户权限 在nginx.conf文件的第一行一般是设置用户的地方（编译安装nginx时的参数–user=也是指定用户的地方），如 user www www; 如不指定默认是nobody. 这里用户的设置又有什么意义呢？主...","link":"","photos":[],"count_time":{"symbolsCount":"2.2k","symbolsTime":"2 mins."},"categories":[{"name":"topic","slug":"topic","count":1441,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}