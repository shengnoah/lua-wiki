{"title":"Lua的转义符号“%”","uid":"40c3b450ff372f1daa99baee2e917fc2","slug":"old_topic/2016-09-17-150","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T06:15:59.736Z","comments":true,"path":"api/articles/old_topic/2016-09-17-150.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"content":"<p>作者：糖果</p>\n<p>Lua有些符号在用户字符替换的时候，可能会发生转义。<br>今天群里的一位小伙伴，就需要到类似的问题，比如说要将字符串中的’（’变成’[‘。</p>\n<p>解答问题的伙伴给出如下代码：</p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a = <span class=\"string\">&#x27;123.(456)&#x27;</span></span><br><span class=\"line\">c = <span class=\"built_in\">string</span>.<span class=\"built_in\">gsub</span>(a, <span class=\"string\">&#x27;%(&#x27;</span>, <span class=\"string\">&#x27;[&#x27;</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(c)</span><br></pre></td></tr></table></figure>\n\n<p>输出的结果是：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">123.[456)</span><br></pre></td></tr></table></figure>\n\n\n\n<p>ngx.re.gsub是如何使用转义的，下面给一个实际的正则的例子：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sleep\\((\\s*)(\\d*)(\\s*)\\)</span><br></pre></td></tr></table></figure>\n\n<p>主要是”%”符号，起到了告诉系统转义的用途。</p>\n","text":"作者：糖果 Lua有些符号在用户字符替换的时候，可能会发生转义。今天群里的一位小伙伴，就需要到类似的问题，比如说要将字符串中的’（’变成’[‘。 解答问题的伙伴给出如下代码： 123a = &#x27;123.(456)&#x27;c = string.gsub(a, &#x27...","link":"","photos":[],"count_time":{"symbolsCount":282,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"toc":"","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"LUA与STOMP协议","uid":"9aeff2cf84352e0facabfc6256b648d7","slug":"old_topic/2016-09-17-152","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T06:15:59.736Z","comments":true,"path":"api/articles/old_topic/2016-09-17-152.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"text":"作者：糖果 STOMP协议是一种简单的消息文本协议。协义本身简单明了，用消息头定义和消息体数据传输。 RabbitMQ做为一种队列中间件，提供了STOMP协议的支持，我们可以通过STOMP协议向队列发送消息。下面的例子中，我们将使用LUA程序向RabbitMQ发送消息， 通过Py...","link":"","photos":[],"count_time":{"symbolsCount":"2.5k","symbolsTime":"2 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Lua中ipair和pair关键字的区别是什么？","uid":"9898726b61c279db4684cd03b2a439c0","slug":"old_topic/2016-09-17-151","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-14T06:15:59.736Z","comments":true,"path":"api/articles/old_topic/2016-09-17-151.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"text":"ipair是从key=1，开始累加，遇到val是nil就结束循环。pair输出的结果和table定义的顺序是一致的(非数组不保证与声明的顺序一致)。 pairs()可以遍历整个table，即包括数组及非数组部分。ipairs()函数用于遍历table中的数组部分。 i= inte...","link":"","photos":[],"count_time":{"symbolsCount":"2.8k","symbolsTime":"3 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}