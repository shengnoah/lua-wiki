{"title":"理解威胁情报与威胁数据分析","uid":"898ea7cfc21533e8cdd79b533fcbfa66","slug":"blog/attandck","date":"2024-03-14T07:45:09.093Z","updated":"2024-03-14T07:45:09.093Z","comments":true,"path":"api/articles/blog/attandck.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":[],"content":"<h5 id=\"1、如何理解威胁情报和数据分析\">1、如何理解威胁情报和数据分析</h5>\n<p>在企业安全运营中心建设阶段中我们期望通过汇总大量的安全日志事件分析安全数据和威胁映射。获得攻击者所采用的各种攻击手段特别是遇到鱼叉攻击钓鱼邮件攻击这种问题时我们希望能够通过数据分析和挖掘的方式来追踪到对手的行为特征。基于类似的use case场景我们需要先理解各种安全数据的攻防模型以及数据类型。对此我们把类型设定在Windows主机并以Windows感染的邮件钓鱼场景为例说说威胁建模方法如下所示：</p>\n<p><img src=\"/images/attandck/Pastedimage20211111101653.png\" alt=\"\"></p>\n<p>理解网络威胁情报(Cyber Threat Intelligence)和威胁建模方法(Threat modeling security)的基础知识。</p>\n<p>在威胁情报体系中我们为了<strong>数据</strong>之间能够共享.在基于HTTPS的协议中定义了一种通用的共享格式叫TAXII。如下所示<br>\n<img src=\"/images/attandck/Pastedimage20211111140845.png\" alt=\"\"></p>\n<p>TAXII 专门用于支持以 STIX 为代表的 CTI (Cyber Threat Intelligence)信息交换机制，在数据分析领域甚至是威胁情报领域我们能通过统一的STIX<strong>数据格式</strong>，将怀疑、妥协和归因的所有方面通过对象和描述性关系清楚地表示。STIX 信息在2.1版本中定义了18个STIX域对象(SDO)如下所示：<br>\n<img src=\"/images/attandck/Pastedimage20211111160332.png\" alt=\"\"></p>\n<p>STIX信息可以为分析师直观地表示钻石模型中所对应的信息。<strong>当我们在完成大数据安全分析平台数据分类分级治理阶段的时候就可以将STIX信息存储在数据仓库中供分析师使用。</strong><br>\n<img src=\"/images/attandck/Pastedimage20211111101743.png\" alt=\"\"></p>\n<p>另外一个需要说明的方面是针对威胁情报中的钻石模型我们同样需要有所认识。由于攻击者的攻击是阶段性的所以CTI网络威胁情报将其以钻石模型来对应STIX的数据层级并以Json格式进行展示如图所示：<br>\n<img src=\"/images/attandck/Pastedimage20211111101818.png\" alt=\"\"></p>\n<p>从而构成了威胁情报<strong>数据</strong>共享映射关系金字塔</p>\n<h5 id=\"2、如何理解威胁框架和威胁建模\">2、如何理解威胁框架和威胁建模</h5>\n<p>如上所述我们需要理解的第二个是Att&amp;ck攻击模型框架这个框架位于钻石模型的TTPs金字塔顶层在这里详细描述了攻击者的攻击手段和攻击阶段以及对应的唯一标识ID我们能够通过对攻击阶段的建模来进行相应安全设备攻击事件的相关映射如下所示：我们需要创建一个图层来进行威胁建模<br>\n<img src=\"/images/attandck/Pastedimage20211111102336.png\" alt=\"\"></p>\n<p>添加安全日志备注字段名称对其字段内容(value)进行攻击图层关系映射<br>\n<img src=\"/images/attandck/Pastedimage20211111104443.png\" alt=\"\"></p>\n<p>当攻击者进行钓鱼攻击时第一个所发生的事情应该是信息收集或者邮件钓鱼这里我们起一个本地的威胁建模环境并选择其攻击阶段的子攻击类型模拟TTp的对手行为</p>\n<p><img src=\"/images/attandck/Pastedimage20211112154512.png\" alt=\"\"></p>\n<p><img src=\"/images/attandck/Pastedimage20211112160132.png\" alt=\"\"></p>\n<p>如上所述我们可以通过一些标有ID编号的行为模拟攻击者采用的技术并给它们标注颜色，另外一个就是我们也可以通过ID区查询相关的技术手段和所关联到的APT组织</p>\n<p><img src=\"/images/attandck/Pastedimage20211112160403.png\" alt=\"\"></p>\n<p><img src=\"/images/attandck/Pastedimage20211112160518.png\" alt=\"\"></p>\n<p>最后在通过打分。对比攻击方法来寻找其行为相似性并和团队完成所有的分析行为报告</p>\n<h5 id=\"作者\">作者</h5>\n<pre><code>大家好，我是伏念。\n一位大数据安全分析平台研发工程师和一位安全数据分析专家同时也是一位威胁建模专家。\n今天我们通过常见的攻防场景来围绕数据分析理解如何为企业设计威胁模型。\n为准备自研大数据安全分析平台的公司提供一些专业性上的帮助。\n</code></pre>\n","text":"1、如何理解威胁情报和数据分析 在企业安全运营中心建设阶段中我们期望通过汇总大量的安全日志事件分析安全数据和威胁映射。获得攻击者所采用的各种攻击手段特别是遇到鱼叉攻击钓鱼邮件攻击这种问题时我们希望能够通过数据分析和挖掘的方式来追踪到对手的行为特征。基于类似的use case场景我...","link":"","photos":[],"count_time":{"symbolsCount":"1.2k","symbolsTime":"1 mins."},"categories":[{"name":"文章","slug":"文章","count":22,"path":"api/categories/文章.json"}],"tags":[{"name":"大数据安全","slug":"大数据安全","count":2,"path":"api/tags/大数据安全.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#1%E3%80%81%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%A8%81%E8%83%81%E6%83%85%E6%8A%A5%E5%92%8C%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90\"><span class=\"toc-text\">1、如何理解威胁情报和数据分析</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#2%E3%80%81%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%A8%81%E8%83%81%E6%A1%86%E6%9E%B6%E5%92%8C%E5%A8%81%E8%83%81%E5%BB%BA%E6%A8%A1\"><span class=\"toc-text\">2、如何理解威胁框架和威胁建模</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E4%BD%9C%E8%80%85\"><span class=\"toc-text\">作者</span></a></li></ol>","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Nvidia RTX 4090与Nvidia A10显卡训练数据对比","uid":"c375fa17b4d17764627d1ce30f1b1a4a","slug":"blog/Nvidia RTX 4090与Nvidia A10显卡训练数据对比","date":"2024-03-14T07:45:09.093Z","updated":"2024-03-14T07:45:09.093Z","comments":true,"path":"api/articles/blog/Nvidia RTX 4090与Nvidia A10显卡训练数据对比.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":[],"text":"Nvidia RTX 4090与Nvidia A10显卡训练数据对比 1卡4090与4卡A10，预测的时间差距，API响应时间， 同样的模型规模， 4090卡为0.25秒左右响应时间，A10的响应时间是0.45秒左右。 同样的 威胁样本数据。 微调训练的时间： 1卡4090为 1...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"AIGC","slug":"AIGC","count":119,"path":"api/categories/AIGC.json"},{"name":"rtx4090","slug":"AIGC/rtx4090","count":1,"path":"api/categories/AIGC/rtx4090.json"}],"tags":[{"name":"rtx4090","slug":"rtx4090","count":1,"path":"api/tags/rtx4090.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"一种小语言Edgelang","uid":"cb9d1e5e022c207d55ccf114e6e4aa69","slug":"blog/edgelang","date":"2024-03-14T07:45:09.093Z","updated":"2024-03-14T07:45:09.094Z","comments":true,"path":"api/articles/blog/edgelang.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"text":"找回了当时测试时用OpenResty Edgelang的代码。 1234567891011121314151617uri contains &quot;SQL&quot;=&gt; set-upstream(&#x27;HoneyPot_1&#x27;); req-header(...","link":"","photos":[],"count_time":{"symbolsCount":992,"symbolsTime":"1 mins."},"categories":[{"name":"文章","slug":"文章","count":22,"path":"api/categories/文章.json"}],"tags":[{"name":"OpenResty","slug":"OpenResty","count":1,"path":"api/tags/OpenResty.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}